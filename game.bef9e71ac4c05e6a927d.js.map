{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./example/Game.ts","webpack:///./example/commands/AddRobotlegsScoreCommand.ts","webpack:///./example/commands/MainCommand.ts","webpack:///./example/config/GameConfig.ts","webpack:///./example/config/SceneMediatorConfig.ts","webpack:///./example/constants/SceneKey.ts","webpack:///./example/events/MainEvent.ts","webpack:///./example/index.ts","webpack:///./example/mediators/BootMediator.ts","webpack:///./example/mediators/MainMediator.ts","webpack:///./example/mediators/PreloadMediator.ts","webpack:///./example/mediators/ScoreViewMediator.ts","webpack:///./example/models/GameModel.ts","webpack:///./example/scenes/BaseScene.ts","webpack:///./example/scenes/Boot.ts","webpack:///./example/scenes/Main.ts","webpack:///./example/scenes/Preload.ts","webpack:///./example/views/ScoreView.ts","webpack:///./node_modules/@robotlegsjs/core/lib/index.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/bundles/mvcs/MVCSBundle.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/events/api/IEventDispatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/events/impl/Event.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/events/impl/EventDispatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/api/CommandPayload.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/api/ICommand.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/Command.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/CommandExecutor.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/CommandMapper.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/CommandMapping.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/CommandMappingList.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/CommandTriggerMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/commandCenter/impl/NullCommandTrigger.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/directCommandMap/DirectCommandMapExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/directCommandMap/api/IDirectCommandMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/directCommandMap/impl/DirectCommandMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/directCommandMap/impl/DirectCommandMapper.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/enhancedLogging/ConsoleLoggingExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/enhancedLogging/InjectableLoggerExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/enhancedLogging/impl/ConsoleLogTarget.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/enhancedLogging/impl/LogMessageParser.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventCommandMap/EventCommandMapExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventCommandMap/api/IEventCommandMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventCommandMap/impl/EventCommandMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventCommandMap/impl/EventCommandTrigger.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventDispatcher/EventDispatcherExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventDispatcher/impl/EventRelay.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/eventDispatcher/impl/LifecycleEventRelay.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/localEventMap/LocalEventMapExtension.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/localEventMap/api/IEventMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/localEventMap/impl/DomEventMapConfig.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/localEventMap/impl/EventMap.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/localEventMap/impl/EventMapConfig.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/matching/TypeFilter.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/matching/TypeMatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/matching/TypeMatcherError.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/matching/instanceOfType.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/extensions/matching/isInstanceOfType.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/IContext.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/IInjector.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/ILogger.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/LifecycleError.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/LifecycleEvent.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/LifecycleState.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/LogLevel.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/api/PinEvent.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ClassMatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ConfigManager.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/Context.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ExtensionInstaller.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/Lifecycle.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/LifecycleTransition.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/LogManager.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/Logger.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/MessageDispatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/MessageRunner.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ObjectHandler.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ObjectMatcher.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/ObjectProcessor.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/Pin.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/RobotlegsInjector.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/UID.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/applyHooks.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/getQualifiedClassName.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/guardsApprove.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/instantiateUnmapped.js","webpack:///./node_modules/@robotlegsjs/core/lib/robotlegs/bender/framework/impl/safelyCallBack.js","webpack:///./node_modules/inversify/lib/annotation/decorator_utils.js","webpack:///./node_modules/inversify/lib/annotation/inject.js","webpack:///./node_modules/inversify/lib/annotation/injectable.js","webpack:///./node_modules/inversify/lib/annotation/multi_inject.js","webpack:///./node_modules/inversify/lib/annotation/named.js","webpack:///./node_modules/inversify/lib/annotation/optional.js","webpack:///./node_modules/inversify/lib/annotation/post_construct.js","webpack:///./node_modules/inversify/lib/annotation/tagged.js","webpack:///./node_modules/inversify/lib/annotation/target_name.js","webpack:///./node_modules/inversify/lib/annotation/unmanaged.js","webpack:///./node_modules/inversify/lib/bindings/binding.js","webpack:///./node_modules/inversify/lib/bindings/binding_count.js","webpack:///./node_modules/inversify/lib/constants/error_msgs.js","webpack:///./node_modules/inversify/lib/constants/literal_types.js","webpack:///./node_modules/inversify/lib/constants/metadata_keys.js","webpack:///./node_modules/inversify/lib/container/container.js","webpack:///./node_modules/inversify/lib/container/container_module.js","webpack:///./node_modules/inversify/lib/container/container_snapshot.js","webpack:///./node_modules/inversify/lib/container/lookup.js","webpack:///./node_modules/inversify/lib/inversify.js","webpack:///./node_modules/inversify/lib/planning/context.js","webpack:///./node_modules/inversify/lib/planning/metadata.js","webpack:///./node_modules/inversify/lib/planning/metadata_reader.js","webpack:///./node_modules/inversify/lib/planning/plan.js","webpack:///./node_modules/inversify/lib/planning/planner.js","webpack:///./node_modules/inversify/lib/planning/queryable_string.js","webpack:///./node_modules/inversify/lib/planning/reflection_utils.js","webpack:///./node_modules/inversify/lib/planning/request.js","webpack:///./node_modules/inversify/lib/planning/target.js","webpack:///./node_modules/inversify/lib/resolution/instantiation.js","webpack:///./node_modules/inversify/lib/resolution/resolver.js","webpack:///./node_modules/inversify/lib/syntax/binding_in_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_to_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_when_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_when_syntax.js","webpack:///./node_modules/inversify/lib/syntax/constraint_helpers.js","webpack:///./node_modules/inversify/lib/utils/binding_utils.js","webpack:///./node_modules/inversify/lib/utils/exceptions.js","webpack:///./node_modules/inversify/lib/utils/id.js","webpack:///./node_modules/inversify/lib/utils/serialization.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/reflect-metadata/Reflect.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/robotlegs/bender/bundles/phaser/PhaserBundle.ts","webpack:///./src/robotlegs/bender/extensions/contextSceneManager/ContextSceneManagerExtension.ts","webpack:///./src/robotlegs/bender/extensions/contextSceneManager/api/IContextSceneManager.ts","webpack:///./src/robotlegs/bender/extensions/contextSceneManager/impl/ContextSceneManager.ts","webpack:///./src/robotlegs/bender/extensions/contextSceneManager/impl/ContextSceneManagerListenerConfig.ts","webpack:///./src/robotlegs/bender/extensions/localEventEmitterMap/LocalEventEmitterMapExtension.ts","webpack:///./src/robotlegs/bender/extensions/localEventEmitterMap/api/IEventEmitterMap.ts","webpack:///./src/robotlegs/bender/extensions/localEventEmitterMap/impl/EventEmitterMap.ts","webpack:///./src/robotlegs/bender/extensions/localEventEmitterMap/impl/EventEmitterMapConfig.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/SceneMediatorMapExtension.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/ViewMediatorMapExtension.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/api/ISceneMediatorMap.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/api/IViewMediatorMap.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/AbstractMediator.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/AbstractMediatorFactory.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/AbstractMediatorHandler.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/MediatorMapper.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/MediatorMapping.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/NullMediatorUnmapper.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediator.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediatorFactory.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediatorHandler.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediatorManager.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediatorMap.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediator.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediatorFactory.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediatorHandler.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediatorManager.ts","webpack:///./src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediatorMap.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/SceneManagerExtension.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/SceneManagerObserverExtension.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/api/ISceneManager.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneManager.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneManagerBinding.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneManagerBindingEvent.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneManagerEvent.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneManagerObserver.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneRegistry.ts","webpack:///./src/robotlegs/bender/extensions/viewManager/impl/SceneRegistryEvent.ts"],"names":[],"mappings":"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AAC5D,kCAAkC,mBAAO,CAAC,mLAA6D;AACvG,kCAAkC,mBAAO,CAAC,iLAA4D;AACtG,gCAAgC,mBAAO,CAAC,6KAA0D;AAClG,iCAAiC,mBAAO,CAAC,+KAA2D;AACpG,iCAAiC,mBAAO,CAAC,+KAA2D;AACpG,+BAA+B,mBAAO,CAAC,uKAAuD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,4C;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,gCAAgC;AAChC,sEAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AChQa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC,yBAAyB,mBAAO,CAAC,qHAAyB;AAC1D,cAAc,mBAAO,CAAC,iGAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC7Qa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;AC/Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;ACfa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;ACpBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,8HAAoC;AAC/D,sBAAsB,mBAAO,CAAC,oIAAuC;AACrE,4BAA4B,mBAAO,CAAC,gJAA6C;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,+HAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;ACzFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,8BAA8B,mBAAO,CAAC,oJAA+C;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;AChIa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,EAAE,YAAY,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,EAAE,gBAAgB,EAAE;AACrD;AACA;AACA;AACA;AACA,gCAAgC,EAAE,oBAAoB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;AC7Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AC7Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,2IAAyB;AAC3D,yBAAyB,mBAAO,CAAC,2IAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qD;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,6C;;;;;;;;;;;;ACZa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC,iBAAiB,mBAAO,CAAC,wHAAiC;AAC1D,wBAAwB,mBAAO,CAAC,wJAA0C;AAC1E,2BAA2B,mBAAO,CAAC,8JAA6C;AAChF,2BAA2B,mBAAO,CAAC,8JAA6C;AAChF,0BAA0B,mBAAO,CAAC,4IAA0B;AAC5D,4BAA4B,mBAAO,CAAC,4IAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;ACpFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,sJAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;AC5Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,yBAAyB,mBAAO,CAAC,0IAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mD;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,mHAA6B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,qD;;;;;;;;;;;;AC5Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,wHAAiC;AAC1D,yBAAyB,mBAAO,CAAC,qIAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;AC5Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,cAAc;AAC1D,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,yBAAyB,mBAAO,CAAC,wIAAwB;AACzD,wBAAwB,mBAAO,CAAC,wIAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oD;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;ACZa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC,iBAAiB,mBAAO,CAAC,wHAAiC;AAC1D,yBAAyB,mBAAO,CAAC,kIAAsC;AACvE,0BAA0B,mBAAO,CAAC,4JAA4C;AAC9E,4BAA4B,mBAAO,CAAC,2IAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC9Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,8BAA8B,mBAAO,CAAC,oJAA+C;AACrF,yBAAyB,mBAAO,CAAC,sIAAiC;AAClE,uBAAuB,mBAAO,CAAC,oJAAwC;AACvE,wBAAwB,mBAAO,CAAC,wJAA0C;AAC1E,sBAAsB,mBAAO,CAAC,oJAAwC;AACtE,2BAA2B,mBAAO,CAAC,8JAA6C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;AC9Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,yBAAyB,mBAAO,CAAC,+HAAmC;AACpE,wBAAwB,mBAAO,CAAC,+HAAmC;AACnE,4BAA4B,mBAAO,CAAC,gJAA4B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wBAAwB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oD;;;;;;;;;;;;AClDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AChGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,oIAAuC;AACtE,mBAAmB,mBAAO,CAAC,yHAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;ACtDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,wHAAiB;AAC3C,iBAAiB,mBAAO,CAAC,wHAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kD;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;ACtEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC,cAAc,mBAAO,CAAC,8GAA4B;AAClD,yBAAyB,mBAAO,CAAC,oJAA+C;AAChF,0BAA0B,mBAAO,CAAC,qIAAqB;AACvD,uBAAuB,mBAAO,CAAC,+HAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;ACjOa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACvHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,8BAA8B,mBAAO,CAAC,iJAA4C;AAClF,yBAAyB,mBAAO,CAAC,yHAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AC/Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,6GAAc;AACzC,yBAAyB,mBAAO,CAAC,yHAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;AC5Ha;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,yBAAyB,mBAAO,CAAC,yHAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;ACjDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,WAAW;AACtB,YAAY,UAAU;AACtB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;ACtCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACZa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACtFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;AC5Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,cAAc,mBAAO,CAAC,2GAAyB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;ACvDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,qBAAqB,mBAAO,CAAC,4GAAgB;AAC7C,sBAAsB,mBAAO,CAAC,8GAAiB;AAC/C,wBAAwB,mBAAO,CAAC,kHAAmB;AACnD,4BAA4B,mBAAO,CAAC,0HAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,EAAE;AACnF;AACA;AACA;AACA,2EAA2E,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA,mFAAmF,EAAE;AACrF;AACA;AACA;AACA,4EAA4E,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF,EAAE;AACxF;AACA;AACA;AACA,wFAAwF,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC1Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC,iBAAiB,mBAAO,CAAC,wGAAiB;AAC1C,kBAAkB,mBAAO,CAAC,0GAAkB;AAC5C,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,sBAAsB,mBAAO,CAAC,8GAAiB;AAC/C,2BAA2B,mBAAO,CAAC,wHAAsB;AACzD,kBAAkB,mBAAO,CAAC,sGAAa;AACvC,mBAAmB,mBAAO,CAAC,wGAAc;AACzC,YAAY,mBAAO,CAAC,0FAAO;AAC3B,0BAA0B,mBAAO,CAAC,sHAAqB;AACvD,YAAY,mBAAO,CAAC,0FAAO;AAC3B,wBAAwB,mBAAO,CAAC,+HAAmC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,EAAE;AACxD;AACA,kDAAkD,EAAE;AACpD;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,8CAA8C,EAAE,qBAAqB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;AC7aa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;AC3Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,4BAA4B,mBAAO,CAAC,0HAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD,kCAAkC,cAAc;AAChD,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC1Wa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,oHAAuB;AACtD,0BAA0B,mBAAO,CAAC,sHAAqB;AACvD,uBAAuB,mBAAO,CAAC,gHAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;ACtMa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,wGAAiB;AAC1C,eAAe,mBAAO,CAAC,sGAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AC9Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,wGAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;AClFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,8GAAiB;AAC/C,uBAAuB,mBAAO,CAAC,gHAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;ACxFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,gHAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,cAAc;AACzD,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;ACjCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,8GAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AClDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,wGAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,2BAA2B,EAAE;AACpF;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;;;;;;AC7Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,kBAAkB,mBAAO,CAAC,4DAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,4DAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,4BAA4B,mBAAO,CAAC,0HAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACtCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,4BAA4B,mBAAO,CAAC,0HAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,sBAAsB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+C;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK,0CAA0C;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;AC9Ca;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,uCAAuC;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzDa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,qFAAyB;AACpD,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9Ba;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,qFAAyB;AACnD,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,qFAAyB;AACnD,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACfa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C,wBAAwB,mBAAO,CAAC,qFAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,WAAW,mBAAO,CAAC,6DAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,aAAa;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZa;AACb;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,6EAAqB;AAC7C,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,wBAAwB,mBAAO,CAAC,6FAA6B;AAC7D,gBAAgB,mBAAO,CAAC,6EAAqB;AAC7C,iBAAiB,mBAAO,CAAC,mFAAwB;AACjD,0BAA0B,mBAAO,CAAC,6FAA6B;AAC/D,WAAW,mBAAO,CAAC,6DAAa;AAChC,sBAAsB,mBAAO,CAAC,mFAAwB;AACtD,2BAA2B,mBAAO,CAAC,0FAAsB;AACzD,eAAe,mBAAO,CAAC,kEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,oDAAoD;AACpD;AACA,UAAU;AACV;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gCAAgC,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,qEAAqE,mBAAmB,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA,oDAAoD,gBAAgB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpUa;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,6DAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACba;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,0BAA0B,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC,EAAE;AAC3E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC9Ea;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,0FAA2B;AAC9C;AACA,kBAAkB,mBAAO,CAAC,kFAAuB;AACjD;AACA,sBAAsB,mBAAO,CAAC,0FAA2B;AACzD;AACA;AACA;AACA,yBAAyB,mBAAO,CAAC,gGAA8B;AAC/D;AACA;AACA,mBAAmB,mBAAO,CAAC,sFAAyB;AACpD;AACA,eAAe,mBAAO,CAAC,8EAAqB;AAC5C;AACA,cAAc,mBAAO,CAAC,4EAAoB;AAC1C;AACA,eAAe,mBAAO,CAAC,8EAAqB;AAC5C;AACA;AACA,iBAAiB,mBAAO,CAAC,kFAAuB;AAChD;AACA,kBAAkB,mBAAO,CAAC,oFAAwB;AAClD;AACA,qBAAqB,mBAAO,CAAC,0FAA2B;AACxD;AACA,oBAAoB,mBAAO,CAAC,wFAA0B;AACtD;AACA,uBAAuB,mBAAO,CAAC,8FAA6B;AAC5D;AACA,wBAAwB,mBAAO,CAAC,4FAA4B;AAC5D;AACA,WAAW,mBAAO,CAAC,4DAAY;AAC/B;AACA,wBAAwB,mBAAO,CAAC,gGAA8B;AAC9D;AACA,2BAA2B,mBAAO,CAAC,8FAA6B;AAChE;AACA;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,kFAAuB;AACrD;AACA,sBAAsB,mBAAO,CAAC,kFAAuB;AACrD;;;;;;;;;;;;;AC9Ca;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,6DAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,6DAA6D;AAC1F;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACTa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,yFAA2B;AACzD,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,mBAAmB,mBAAO,CAAC,6EAAqB;AAChD,sBAAsB,mBAAO,CAAC,mFAAwB;AACtD,gBAAgB,mBAAO,CAAC,mEAAW;AACnC,iBAAiB,mBAAO,CAAC,qEAAY;AACrC,aAAa,mBAAO,CAAC,6DAAQ;AAC7B,yBAAyB,mBAAO,CAAC,qFAAoB;AACrD,gBAAgB,mBAAO,CAAC,mEAAW;AACnC,eAAe,mBAAO,CAAC,iEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ja;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1Ba;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,+EAAsB;AAC7C,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,sBAAsB,mBAAO,CAAC,mFAAwB;AACtD;AACA,eAAe,mBAAO,CAAC,iEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Ha;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,6DAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACvBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,WAAW,mBAAO,CAAC,6DAAa;AAChC,iBAAiB,mBAAO,CAAC,qEAAY;AACrC,yBAAyB,mBAAO,CAAC,qFAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yCAAyC,EAAE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzFa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,qFAAyB;AACpD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjDa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,mBAAmB,mBAAO,CAAC,6EAAqB;AAChD,sBAAsB,mBAAO,CAAC,mFAAwB;AACtD,sBAAsB,mBAAO,CAAC,iFAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,sDAAsD,EAAE;AAC3J;AACA;AACA,8FAA8F,iDAAiD,EAAE;AACjJ;AACA;AACA,+FAA+F,kDAAkD,EAAE;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjGa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,+BAA+B,mBAAO,CAAC,+FAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACtBa;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,qFAAqB;AACvD,0BAA0B,mBAAO,CAAC,qFAAqB;AACvD,4BAA4B,mBAAO,CAAC,yFAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACvEa;AACb,8CAA8C,cAAc;AAC5D,4BAA4B,mBAAO,CAAC,yFAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACba;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,sBAAsB,mBAAO,CAAC,2FAA4B;AAC1D,kCAAkC,mBAAO,CAAC,qGAA6B;AACvE,+BAA+B,mBAAO,CAAC,+FAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iDAAiD;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uCAAuC,EAAE;AACzF;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxEa;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,qFAAqB;AACvD,4BAA4B,mBAAO,CAAC,yFAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC5Da;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,qFAAqB;AACvD,2BAA2B,mBAAO,CAAC,uFAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjGa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,2FAA4B;AACvD,iBAAiB,mBAAO,CAAC,+EAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;;;;;ACvCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA,+CAA+C,6CAA6C,EAAE;AAC9F;AACA;AACA;;;;;;;;;;;;;ACZa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,mDAAmD;AAC3G;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,6BAA6B,gBAAgB,kBAAkB;AAC/D;AACA;AACA;AACA;AACA,+BAA+B,4CAA4C;AAC3E;AACA,mCAAmC,wBAAwB,kBAAkB,EAAE;AAC/E,mCAAmC,yBAAyB,EAAE,EAAE;AAChE;AACA,uCAAuC,8BAA8B;AACrE,uCAAuC,mBAAmB,EAAE;AAC5D;AACA,uCAAuC,qDAAqD;AAC5F,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa;AAChF,qEAAqE,aAAa;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B,EAAE;AAClE;AACA;AACA,iBAAiB;AACjB,oDAAoD,+CAA+C;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0DAA0D;AAC5G,oDAAoD,4DAA4D;AAChH,qDAAqD,4DAA4D;AACjH,2DAA2D,uBAAuB;AAClF,6DAA6D,uBAAuB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB,EAAE;AAC/D;AACA;AACA,iBAAiB;AACjB,sDAAsD,6BAA6B;AACnF,sDAAsD,0CAA0C;AAChG,yDAAyD,gCAAgC;AACzF,mDAAmD,mBAAmB;AACtE,kDAAkD,yBAAyB;AAC3E,oDAAoD,2BAA2B;AAC/E,qDAAqD,4BAA4B;AACjF,2DAA2D,oBAAoB;AAC/E,6DAA6D,oBAAoB;AACjF;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,0BAA0B;AACtF;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC,0BAA0B;;;;;;;;;;;;;;AC1mC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEO;AACP;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AACP,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;;AAEO;AACP,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEO;AACP,4BAA4B,sBAAsB;AAClD;AACA;AACA;;AAEO;AACP,iDAAiD,QAAQ;AACzD,wCAAwC,QAAQ;AAChD,wDAAwD,QAAQ;AAChE;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,iBAAiB,sFAAsF,aAAa,EAAE;AACtH,sBAAsB,gCAAgC,qCAAqC,0CAA0C,EAAE,EAAE,GAAG;AAC5I,2BAA2B,MAAM,eAAe,EAAE,YAAY,oBAAoB,EAAE;AACpF,sBAAsB,oGAAoG;AAC1H,6BAA6B,uBAAuB;AACpD,4BAA4B,wBAAwB;AACpD,2BAA2B,yDAAyD;AACpF;;AAEO;AACP;AACA,iBAAiB,4CAA4C,SAAS,EAAE,qDAAqD,aAAa,EAAE;AAC5I,yBAAyB,6BAA6B,oBAAoB,gDAAgD,gBAAgB,EAAE,KAAK;AACjJ;;AAEO;AACP;AACA;AACA,2GAA2G,sFAAsF,aAAa,EAAE;AAChN,sBAAsB,8BAA8B,gDAAgD,uDAAuD,EAAE,EAAE,GAAG;AAClK,4CAA4C,sCAAsC,UAAU,oBAAoB,EAAE,EAAE,UAAU;AAC9H;;AAEO;AACP,gCAAgC,uCAAuC,aAAa,EAAE,EAAE,OAAO,kBAAkB;AACjH;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,4CAA4C;AAC5C;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpNA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;;ACnBA,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAEjF,2GAA+E;AAE/E,2MAAqG;AACrG,0MAAoG;AACpG,oPAAgI;AAChI,2NAAiH;AAEjH,kMAAmG;AACnG,+LAAiG;AAEjG,sLAA2F;AAC3F,8MAA2G;AAC3G,gOAAoH;AAEpH;;;;;GAKG;AACH;IAAA;IAmDA,CAAC;IA3CG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,6BAAM,GAAb,UAAc,OAAiB;QAC3B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAEvC,IAAI,CAAC,QAAQ,CAAC,OAAO,CACjB,2DAA4B,EAC5B,6DAA6B,EAC7B,6CAAqB,EACrB,6DAA6B,EAC7B,qDAAyB,EACzB,mDAAwB,CAC3B,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,qBAAc,CAAC,yCAAmB,CAAC,EAAE,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/G,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,gDAAyB,GAAjC,UAAkC,mBAAwC;QACtE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,qEAAiC,CAAC,CAAC;IAC/D,CAAC;IAEO,uCAAgB,GAAxB;QACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,2CAAoB,CAAC,EAAE;YACvD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,6CAA6C,CAAC,CAAC;SACrE;IACL,CAAC;IAEO,sCAAe,GAAvB;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IACL,mBAAC;AAAD,CAAC;AAnDY,oCAAY;;;;;;;;;;;;;;AC3BzB,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAEjF,2GAA6F;AAC7F,wKAAkE;AAClE,uKAAiE;AAEjE;;;;;GAKG;AACH;IAAA;IA0CA,CAAC;IAjCG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,6CAAM,GAAb,UAAc,OAAiB;QAC3B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,OAAO,CAAC,gBAAgB,CAAC,qBAAc,CAAC,yCAAmB,CAAC,EAAE,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7G,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,gEAAyB,GAAjC,UAAkC,mBAAyC;QACvE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,2CAAoB,CAAC,EAAE;YAC9C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gEAAgE,EAAE,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC,CAAC;SAC3H;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC,CAAC;YAE7F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,2CAAoB,CAAC,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;SAClF;IACL,CAAC;IAEO,yDAAkB,GAA1B;QACI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,2CAAoB,CAAC,EAAE;YAC/C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,0FAA0F,CAAC,CAAC;SAClH;IACL,CAAC;IACL,mCAAC;AAAD,CAAC;AA1CY,oEAA4B;;;;;;;;;;;;;;ACjBzC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAEpE,4BAAoB,GAAG,MAAM,CAAC,sBAAsB,CAAC,CAAC;;;;;;;;;;;;;;ACPnE,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAMjF;;GAEG;AACH;IAcI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;;OAGG;IACH,6BAAY,YAAwC;QAChD,IAAI,YAAY,KAAK,IAAI,IAAI,YAAY,KAAK,SAAS,EAAE;YACrD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;SACrC;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;SAC9D;IACL,CAAC;IAlBD,sBAAW,6CAAY;QAHvB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAkBD;;OAEG;IACI,uCAAS,GAAhB,cAA0B,CAAC;IAC/B,0BAAC;AAAD,CAAC;AAlCY,kDAAmB;;;;;;;;;;;;;;ACdhC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;AAEjF,2GAAgE;AAEhE,2JAAoE;AACpE,yKAAmE;AAEnE;;;;;GAKG;AAEH;IASI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF,2CACkC,mBAAyC,EAChD,YAA2B;QAElD,IAAI,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;QAChD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;IACtC,CAAC;IAED;;OAEG;IACI,qDAAS,GAAhB;QACI,uDAAuD;QACvD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC;IAC/E,CAAC;IA3BQ,iCAAiC;QAD7C,iBAAU,EAAE;QAeJ,wBAAM,CAAC,2CAAoB,CAAC;QAC5B,wBAAM,CAAC,6BAAa,CAAC;;OAfjB,iCAAiC,CA4B7C;IAAD,wCAAC;CAAA;AA5BY,8EAAiC;;;;;;;;;;;;;;ACnB9C,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,6JAA0D;AAC1D,4JAAyD;AAEzD;;;GAGG;AACH;IAAA;IAWA,CAAC;IAVG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,8CAAM,GAAb,UAAc,OAAiB;QAC3B,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,mCAAgB,CAAC,CAAC,EAAE,CAAC,iCAAe,CAAC,CAAC;IAChE,CAAC;IACL,oCAAC;AAAD,CAAC;AAXY,sEAA6B;;;;;;;;;;;;;;AChB1C,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF;;;GAGG;AACU,wBAAgB,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;;ACb3D,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;;;;;;;AAEjF,2GAAyD;AAGzD,yKAAgE;AAEhE;;GAEG;AAEH;IAAqC,mCAAQ;IAA7C;QACI,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAHpF,qEA0LC;QArLa,4BAAsB,GAA4B,EAAE,CAAC;QACrD,qCAA+B,GAA4B,EAAE,CAAC;;IAoL5E,CAAC;IAlLG,sBAAc,0DAA6B;aAA3C;YACI,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC;QAChG,CAAC;;;OAAA;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,4BAAE,GAAT,UAAU,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACpG,IAAI,CAAC,6BAA6B,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAC1E,CAAC;IAED;;OAEG;IACI,8BAAI,GAAX,UAAY,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACtG,IAAI,CAAC,6BAA6B,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAChF,CAAC;IAED;;OAEG;IACI,6BAAG,GAAV,UAAW,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACrG,IAAI,CAAC,+BAA+B,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAC5E,CAAC;IAED;;OAEG;IACI,oDAA0B,GAAjC;QACI,IAAI,WAAkC,CAAC;QAEvC,OAAO,IAAI,CAAC,6BAA6B,CAAC,MAAM,EAAE;YAC9C,WAAW,GAAG,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,6BAA6B,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAChG,IAAI,CAAC,+BAA+B,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;SAC3H;IACL,CAAC;IAED;;OAEG;IACI,2CAAiB,GAAxB;QACI,iBAAM,iBAAiB,WAAE,CAAC;QAE1B,IAAI,CAAC,0BAA0B,EAAE,CAAC;IACtC,CAAC;IAED;;OAEG;IACI,iCAAO,GAAd;QAAA,iBAqBC;QApBG,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QAED,sCAAsC;QACtC,IAAI,OAAmC,CAAC;QAExC,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,UAAC,WAAkC;YACnE,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAC9B,IAAI,WAAW,CAAC,IAAI,EAAE;gBAClB,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,CAAC;aAC9F;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,CAAC;aAC/F;YACD,KAAI,CAAC,+BAA+B,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;QAEjC,iBAAM,OAAO,WAAE,CAAC;IACpB,CAAC;IAED;;OAEG;IACI,gCAAM,GAAb;QAAA,iBAqBC;QApBG,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QAED,sCAAsC;QACtC,IAAI,OAAmC,CAAC;QAExC,IAAI,CAAC,+BAA+B,CAAC,OAAO,CAAC,UAAC,WAAkC;YAC5E,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAC9B,IAAI,WAAW,CAAC,IAAI,EAAE;gBAClB,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;aAC7E;iBAAM;gBACH,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;aAC5E;YACD,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,+BAA+B,GAAG,EAAE,CAAC;QAE1C,iBAAM,MAAM,WAAE,CAAC;IACnB,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEtE,uDAA6B,GAAvC,UACI,OAAmC,EACnC,KAAsB,EACtB,QAAkB,EAClB,OAAa,EACb,IAAc;QAEd,IAAI,MAA6B,CAAC;QAElC,IAAI,CAAC,GAAW,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC;QAC1D,OAAO,CAAC,EAAE,EAAE;YACR,MAAM,GAAG,IAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;YAC/C,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,EAAE;gBACnD,OAAO;aACV;SACJ;QAED,IAAI,IAAI,EAAE;YACN,MAAM,GAAG,IAAI,6CAAqB,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC5E,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;SAC/C;aAAM;YACH,MAAM,GAAG,IAAI,6CAAqB,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;SACzE;QAED,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,IAAI,EAAE;gBACN,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAChD;iBAAM;gBACH,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;aACxC;SACJ;IACL,CAAC;IAES,uCAAa,GAAvB,UAAwB,WAAkC;QAA1D,iBAaC;QAZG,OAAO;YAAC,cAAc;iBAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;gBAAd,yBAAc;;YAClB,IAAI,CAAC,GAAW,KAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC;YAE1D,OAAO,CAAC,EAAE,EAAE;gBACR,IAAI,MAAM,GAA0B,KAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;gBAC1E,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,EAAE;oBACnG,KAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAChD,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;oBACtD,OAAO;iBACV;aACJ;QACL,CAAC,CAAC;IACN,CAAC;IAES,yDAA+B,GAAzC,UACI,OAAmC,EACnC,KAAsB,EACtB,QAAkB,EAClB,OAAa;QAEb,IAAI,CAAC,GAAW,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC;QAC1D,OAAO,CAAC,EAAE,EAAE;YACR,IAAI,MAAM,GAA0B,IAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;YAC1E,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,EAAE;gBACnD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBAClB,IAAI,MAAM,CAAC,IAAI,EAAE;wBACb,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;qBACnE;yBAAM;wBACH,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;qBACpE;iBACJ;gBACD,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAChD,OAAO;aACV;SACJ;IACL,CAAC;IAzLQ,eAAe;QAD3B,iBAAU,EAAE;OACA,eAAe,CA0L3B;IAAD,sBAAC;CAAA,CA1LoC,eAAQ,GA0L5C;AA1LY,0CAAe;;;;;;;;;;;;;;AChB5B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAEjF;;GAEG;AACH;IAkEI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,+BAAY,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAY,EAAE,IAAc;QACrH,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IArED,sBAAW,0CAAO;QAHlB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IAOD,sBAAW,wCAAK;QAHhB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAOD,sBAAW,2CAAQ;QAHnB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAOD,sBAAW,0CAAO;QAHlB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IAOD,sBAAW,uCAAI;QAHf;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;;;OAAA;IAOD,sBAAW,0CAAO;QAHlB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAED;;WAEG;aACH,UAAmB,KAAe;YAC9B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC1B,CAAC;;;OAPA;IAwBM,uCAAO,GAAd,UAAe,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAY;QACxG,OAAO,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC;IAC1H,CAAC;IACL,4BAAC;AAAD,CAAC;AApFY,sDAAqB;;;;;;;;;;;;;;ACVlC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,wJAAiE;AAEjE,uJAA4D;AAC5D,sJAA2D;AAE3D;;GAEG;AACH;IAAA;IAuDA,CAAC;IA5CG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,0CAAM,GAAb,UAAc,OAAiB;QAC3B,OAAO;aACF,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACtD,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClD,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,SAAS;aACT,IAAI,CAAC,qCAAiB,CAAC;aACvB,EAAE,CAAC,mCAAgB,CAAC;aACpB,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,sDAAkB,GAA1B;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAmB,qCAAiB,CAAC,CAAC;QAC5E,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAAa,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACzD;IACL,CAAC;IAEO,oDAAgB,GAAxB;QACI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACjC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAAa,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC5D;IACL,CAAC;IAEO,kDAAc,GAAtB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,qCAAiB,CAAC,EAAE;YAC3C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,qCAAiB,CAAC,CAAC;SAC5C;IACL,CAAC;IACL,gCAAC;AAAD,CAAC;AAvDY,8DAAyB;;;;;;;;;;;;;;ACjBtC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,wJAAiE;AAEjE,oJAA0D;AAC1D,mJAAyD;AAEzD;;GAEG;AACH;IAAA;IAuDA,CAAC;IA5CG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,yCAAM,GAAb,UAAc,OAAiB;QAC3B,OAAO;aACF,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACtD,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClD,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,SAAS;aACT,IAAI,CAAC,mCAAgB,CAAC;aACtB,EAAE,CAAC,iCAAe,CAAC;aACnB,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,qDAAkB,GAA1B;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAkB,mCAAgB,CAAC,CAAC;QAC1E,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAAa,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxD;IACL,CAAC;IAEO,mDAAgB,GAAxB;QACI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACjC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAAa,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3D;IACL,CAAC;IAEO,iDAAc,GAAtB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,mCAAgB,CAAC,EAAE;YAC1C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,mCAAgB,CAAC,CAAC;SAC3C;IACL,CAAC;IACL,+BAAC;AAAD,CAAC;AAvDY,4DAAwB;;;;;;;;;;;;;;ACjBrC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAOjF;;GAEG;AACU,yBAAiB,GAAG,MAAM,CAAC,mBAAmB,CAAC,CAAC;;;;;;;;;;;;;;ACf7D,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAOjF;;GAEG;AACU,wBAAgB,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;;ACf3D,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;AAEjF,2GAAgG;AAIhG,sLAAmF;AAEnF;;GAEG;AAEH;IAAA;IA0LA,CAAC;IAjKG;;;OAGG;IACI,sCAAW,GAAlB;QACI,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC;IAC3C,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;;;;;;;;;;;;OAaG;IACO,6BAAE,GAAZ,UAAa,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACvG,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC;IACxE,CAAC;IAED;;;;;;;;;;;;;OAaG;IACO,+BAAI,GAAd,UAAe,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACzG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC;IAC1E,CAAC;IAED;;;;;;;;;;;;OAYG;IACO,8BAAG,GAAb,UAAc,OAAmC,EAAE,KAAsB,EAAE,QAAkB,EAAE,OAAa;QACxG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC;IACzE,CAAC;IAED;;;;;;;;;;;;;;OAcG;IACO,6CAAkB,GAA5B,UACI,KAAa,EACb,QAAkB,EAClB,OAAa,EACb,UAA2B,EAC3B,UAAoB,EACpB,QAAiB;QAEjB,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;IACjI,CAAC;IAED;;;;;;;;;;;;;;OAcG;IACO,gDAAqB,GAA/B,UACI,KAAa,EACb,QAAkB,EAClB,OAAa,EACb,UAA2B,EAC3B,UAAoB;QAEpB,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;IACzH,CAAC;IAED;;;;;;;;;;OAUG;IACO,yCAAc,GAAxB,UACI,WAAwB,EACxB,KAAa,EACb,QAA4C,EAC5C,OAA2C;QAE3C,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAChF,CAAC;IAED;;;;;;;;;;OAUG;IACO,4CAAiB,GAA3B,UAA4B,WAAwB,EAAE,KAAa,EAAE,QAA4C;QAC7G,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;IACzE,CAAC;IAED;;;;;;OAMG;IACO,mCAAQ,GAAlB,UAAmB,KAAY;QAC3B,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC/C,CAAC;IAnLD;QADC,aAAM,CAAC,mCAAgB,CAAC;;8DACoB;IAG7C;QADC,aAAM,CAAC,uBAAgB,CAAC;;8DACoB;IAT3B,gBAAgB;QADrC,iBAAU,EAAE;OACS,gBAAgB,CA0LrC;IAAD,uBAAC;CAAA;AA1LqB,4CAAgB;;;;;;;;;;;;;;ACjBtC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAEjF,2GAA0H;AAK1H;;GAEG;AACH;IAWI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,iCAAY,QAAmB;QAjB/B,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAEtE,eAAU,GAAkB,IAAI,GAAG,EAAY,CAAC;QActD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;IAC9B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,6CAAW,GAAlB,UAAmB,IAAS,EAAE,OAAyB;QACnD,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAM,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC1F,CAAC;IAED;;OAEG;IACI,iDAAe,GAAtB,UAAuB,IAAS,EAAE,IAAiB,EAAE,QAAe;QAApE,iBAmBC;QAlBG,IAAI,gBAAgB,GAAU,EAAE,CAAC;QACjC,IAAI,QAAa,CAAC;QAElB,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAyB;YACvC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAE3C,IAAI,CAAC,QAAQ,EAAE;gBACX,KAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC1D,QAAQ,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;gBAC9C,KAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aAC/D;YAED,IAAI,QAAQ,EAAE;gBACV,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACnC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,gBAAgB,CAAC;IAC5B,CAAC;IAED;;OAEG;IACI,iDAAe,GAAtB,UAAuB,IAAS;QAAhC,iBASC;QARG,IAAI,SAAS,GAA+B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACtE,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QAED,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,GAAG,IAAK,YAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,CAAC,EAA9C,CAA8C,CAAC,CAAC;QAElF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED;;OAEG;IACI,oDAAkB,GAAzB;QAAA,iBAEC;QADG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,GAAG,IAAK,YAAI,CAAC,eAAe,CAAC,GAAG,CAAC,EAAzB,CAAyB,CAAC,CAAC;IACvE,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEtE,gDAAc,GAAxB,UAAyB,IAAS,EAAE,OAAyB;QACzD,IAAI,QAAQ,GAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAEpD,IAAI,QAAQ,EAAE;YACV,OAAO,QAAQ,CAAC;SACnB;QAED,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,oBAAa,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;YAC9E,IAAI,aAAa,GAAgB,OAAO,CAAC,aAAa,CAAC;YAEvD,QAAQ,GAAG,0BAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;YAE9D,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAC7D,iBAAU,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;aACxC;YAED,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;SAC7C;QAED,OAAO,QAAQ,CAAC;IACpB,CAAC;IAES,6CAAW,GAArB,UAAsB,QAAa,EAAE,IAAS,EAAE,OAAyB;QACrE,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,EAAyB,CAAC;QAChF,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QACvC,WAAW,CAAC,GAAG,CAAM,OAAO,EAAE,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IAES,yDAAuB,GAAjC,UAAkC,MAAmB,EAAE,IAAiB,EAAE,IAAS;QAAnF,iBAKC;QAJG,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACxD,aAAa,CAAC,OAAO,CAAC,UAAC,YAAwB;YAC3C,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACP,CAAC;IAES,2DAAyB,GAAnC,UAAoC,MAAmB,EAAE,IAAiB,EAAE,IAAS;QAArF,iBAQC;QAPG,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAExD,aAAa,CAAC,OAAO,CAAC,UAAC,YAAwB;YAC3C,IAAI,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;gBACtC,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;aACvC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAES,kDAAgB,GAA1B,UAA2B,MAAmB,EAAE,IAAiB;QAC7D,IAAI,aAAa,GAAiB,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAE9E,IAAI,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;YACpC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B;QAED,OAAO,aAAa,CAAC;IACzB,CAAC;IACL,8BAAC;AAAD,CAAC;AA3IqB,0DAAuB;;;;;;;;;;;;;;ACf7C,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAQjF;;GAEG;AACH;IAWI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,iCAAY,OAAgC;QAjB5C,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAEtE,cAAS,GAAuB,EAAE,CAAC;QAEnC,mBAAc,GAAmD,IAAI,GAAG,EAAmC,CAAC;QAYlH,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,4CAAU,GAAjB,UAAkB,OAAyB;QACvC,IAAI,KAAK,GAAW,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IAED;;OAEG;IACI,+CAAa,GAApB,UAAqB,OAAyB;QAC1C,IAAI,KAAK,GAAW,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IAED;;OAEG;IACI,4CAAU,GAAjB,UAAkB,IAAS,EAAE,IAAiB;QAC1C,IAAI,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,kBAAkB,EAAE;YACpB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,EAAE,kBAAkB,CAAC,CAAC;SACjE;IACL,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEtE,0DAAwB,GAAlC,UAAmC,IAAS,EAAE,IAAiB;QAA/D,iBA0BC;QAzBG,wDAAwD;QACxD,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE;YACzC,OAAO,IAAI,CAAC;SACf;QAED,mCAAmC;QACnC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YAC7C,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAErC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,OAAyB;gBAC7C,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAC/B,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;wBAChC,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;qBACrC;oBACA,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACvE;YACL,CAAC,CAAC,CAAC;YACH,sCAAsC;YACtC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE;gBACzC,OAAO,IAAI,CAAC;aACf;SACJ;QAED,gCAAgC;QAChC,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAuB,CAAC;IAC/D,CAAC;IACL,8BAAC;AAAD,CAAC;AA3FqB,0DAAuB;;;;;;;;;;;;;;AChB7C,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAUjF,8IAAoD;AAEpD;;GAEG;AACH;IAaI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,wBAAY,UAAuB,EAAE,OAAgC,EAAE,MAAgB;QAnBvF,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAEtE,cAAS,GAAuC,IAAI,GAAG,EAAiC,CAAC;QAgB/F,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,mCAAU,GAAjB,UAAkB,aAA0B;QACxC,IAAI,OAAO,GAAqB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClE,OAAO,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;IACxF,CAAC;IAED;;OAEG;IACI,qCAAY,GAAnB,UAAoB,aAA0B;QAC1C,IAAI,OAAO,GAAqB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClE,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SAC/B;IACL,CAAC;IAED;;OAEG;IACI,gCAAO,GAAd;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,gFAAgF;IAChF,kFAAkF;IAClF,gFAAgF;IAEtE,sCAAa,GAAvB,UAAwB,aAA0B;QAC9C,IAAI,OAAO,GAAoB,IAAI,iCAAe,CAAC,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;QACpF,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC;SACxE;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,sCAAa,GAAvB,UAAwB,OAAyB;QAC7C,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC;SAC5E;IACL,CAAC;IAES,yCAAgB,GAA1B,UAA2B,OAAyB;QAChD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,IAAI,CACb,6BAA6B;gBACzB,0EAA0E;gBAC1E,4EAA4E,EAChF,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAC9B,CAAC;SACL;QACD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACrD,CAAC;IACL,qBAAC;AAAD,CAAC;AAzFY,wCAAc;;;;;;;;;;;;;;ACpB3B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAOjF;;GAEG;AACH;IAkDI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,yBAAY,OAAoB,EAAE,aAA0B;QAlCpD,YAAO,GAAU,EAAE,CAAC;QASpB,WAAM,GAAU,EAAE,CAAC;QASnB,uBAAkB,GAAY,IAAI,CAAC;QAiBvC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;IACxC,CAAC;IAlDD,sBAAW,oCAAO;QAHlB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IAOD,sBAAW,0CAAa;QAHxB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;;;OAAA;IAOD,sBAAW,mCAAM;QAHjB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IAOD,sBAAW,kCAAK;QAHhB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAOD,sBAAW,8CAAiB;QAH5B;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,kBAAkB,CAAC;QACnC,CAAC;;;OAAA;IAcD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,oCAAU,GAAjB;QAAkB,gBAAgB;aAAhB,UAAgB,EAAhB,qBAAgB,EAAhB,IAAgB;YAAhB,2BAAgB;;QAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG;IACI,mCAAS,GAAhB;QAAiB,eAAe;aAAf,UAAe,EAAf,qBAAe,EAAf,IAAe;YAAf,0BAAe;;QAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG;IACI,oCAAU,GAAjB,UAAkB,KAAqB;QAArB,oCAAqB;QACnC,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,sBAAC;AAAD,CAAC;AAzFY,0CAAe;;;;;;;;;;;;;;ACf5B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAMjF;;GAEG;AACH;IAAA;IAcA,CAAC;IAbG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,2CAAY,GAAnB,UAAoB,aAA0B,IAAS,CAAC;IAExD;;OAEG;IACI,sCAAO,GAAd,cAAwB,CAAC;IAC7B,2BAAC;AAAD,CAAC;AAdY,oDAAoB;;;;;;;;;;;;;;ACdjC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;;;;;;;AAEjF,2GAA+C;AAE/C,iJAAsD;AAEtD;;;;GAIG;AAEH;IAAoE,iCAAgB;IAApF;;IAcA,CAAC;IAPG,sBAAW,gCAAK;aAIhB;YACI,OAAO,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC;QAVD,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;aAEhF,UAAiB,KAAQ;YACrB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QACjC,CAAC;;;OAAA;IATiB,aAAa;QADlC,iBAAU,EAAE;OACS,aAAa,CAclC;IAAD,oBAAC;CAAA,CAdmE,mCAAgB,GAcnF;AAdqB,sCAAa;;;;;;;;;;;;;;ACjBnC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAIjF,sKAAoE;AACpE,6JAA8D;AAE9D;IAA0C,wCAAuB;IAC7D,8BAAY,QAAmB,EAAE,OAA8B;QAA/D,YACI,kBAAM,QAAQ,CAAC,SAElB;QADG,KAAI,CAAC,QAAQ,GAAG,OAAO,IAAI,IAAI,2CAAoB,CAAC,KAAI,CAAC,CAAC;;IAC9D,CAAC;IACL,2BAAC;AAAD,CAAC,CALyC,iDAAuB,GAKhE;AALY,oDAAoB;;;;;;;;;;;;;;ACZjC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAMjF,sKAAoE;AAEpE;;GAEG;AACH;IAA0C,wCAAuB;IAAjE;;IAcA,CAAC;IAbG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,0CAAW,GAAlB,UAAmB,KAAmB,EAAE,IAAiB;QACrD,IAAI,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACpE,IAAI,kBAAkB,EAAE;YACpB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,EAAE,kBAAkB,CAAC,CAAC;SAClE;IACL,CAAC;IACL,2BAAC;AAAD,CAAC,CAdyC,iDAAuB,GAchE;AAdY,oDAAoB;;;;;;;;;;;;;;AChBjC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAMjF;;GAEG;AACH;IAcI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,8BAAY,OAA6B;QATjC,mBAAc,GAA8B,IAAI,GAAG,EAAwB,CAAC;QAUhF,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,0CAAW,GAAlB,UAAmB,QAAa,EAAE,IAAS,EAAE,OAAyB;QAClE,IAAI,KAAK,GAA+B,IAAI,CAAC;QAE7C,0BAA0B;QAC1B,IAAI,KAAK,IAAI,OAAO,CAAC,iBAAiB,EAAE;YACpC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAClD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;aAC1D;YACD,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAC1D,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAC3D,2DAA2D;YAC3D,2DAA2D;SAC9D;QAED,mCAAmC;QACnC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,6CAAc,GAArB,UAAsB,QAAa,EAAE,IAAS,EAAE,OAAyB;QACrE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,6CAAc,GAAtB,UAAuB,GAA0B;QAC7C,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,KAAK,GAAiB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACpE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE;gBAChC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;gBAClE,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;aACtE;SACJ;IACL,CAAC;IAEO,iDAAkB,GAA1B,UAA2B,QAAa,EAAE,YAAiB;QACvD,IAAI,eAAe,IAAI,QAAQ,EAAE;YAC7B,QAAQ,CAAC,aAAa,EAAE,CAAC;SAC5B;QAED,IAAI,OAAO,IAAI,QAAQ,EAAE;YACrB,QAAQ,CAAC,KAAK,GAAG,YAAY,CAAC;SACjC;QAED,IAAI,YAAY,IAAI,QAAQ,EAAE;YAC1B,QAAQ,CAAC,UAAU,EAAE,CAAC;SACzB;QAED,IAAI,gBAAgB,IAAI,QAAQ,EAAE;YAC9B,QAAQ,CAAC,cAAc,EAAE,CAAC;SAC7B;IACL,CAAC;IAEO,8CAAe,GAAvB,UAAwB,QAAa;QACjC,IAAI,YAAY,IAAI,QAAQ,EAAE;YAC1B,QAAQ,CAAC,UAAU,EAAE,CAAC;SACzB;QAED,IAAI,SAAS,IAAI,QAAQ,EAAE;YACvB,QAAQ,CAAC,OAAO,EAAE,CAAC;SACtB;QAED,IAAI,OAAO,IAAI,QAAQ,EAAE;YACrB,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,aAAa,IAAI,QAAQ,EAAE;YAC3B,QAAQ,CAAC,WAAW,EAAE,CAAC;SAC1B;IACL,CAAC;IACL,2BAAC;AAAD,CAAC;AA5GY,oDAAoB;;;;;;;;;;;;;;ACdjC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;AAEjF,2GAA6G;AAQ7G,2IAAkD;AAClD,6JAA8D;AAC9D,6JAA8D;AAC9D,6JAA8D;AAE9D;;GAEG;AAEH;IAeI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,0BAA8B,OAAiB;QArB/C,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAExE,aAAQ,GAAgC,IAAI,GAAG,EAA0B,CAAC;QAQ1E,kBAAa,GAAsB,IAAI,2CAAoB,EAAE,CAAC;QAUlE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,2CAAoB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,GAAG,IAAI,2CAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjE,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,qCAAU,GAAjB,UAAkB,OAAqB;QACnC,IAAM,IAAI,GAAG,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;QACnD,IAAI,MAAM,GAAmB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAErD,IAAI,MAAM,EAAE;YACR,OAAO,MAAM,CAAC;SACjB;QAED,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAmB,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAChC,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;OAEG;IACI,8BAAG,GAAV,UAAW,KAA2B;QAClC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,kBAAW,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED;;OAEG;IACI,uCAAY,GAAnB,UAAoB,OAAqB;QACrC,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;IAC1F,CAAC;IAED;;OAEG;IACI,gCAAK,GAAZ,UAAa,KAA2B;QACpC,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,kBAAW,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IAC7D,CAAC;IAED;;OAEG;IACI,sCAAW,GAAlB,UAAmB,KAAmB,EAAE,IAAS;QAC7C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;IAED;;OAEG;IACI,kCAAO,GAAd,UAAe,KAA2B;QACtC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,EAAO,KAAK,CAAC,WAAW,CAAC,CAAC;IACjE,CAAC;IAED;;OAEG;IACI,oCAAS,GAAhB,UAAiB,KAA2B;QACxC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACI,uCAAY,GAAnB;QACI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;IACvC,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,uCAAY,GAApB,UAAqB,OAAqB;QACtC,OAAO,IAAI,+BAAc,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5F,CAAC;IAvGQ,gBAAgB;QAD5B,iBAAU,EAAE;QAuBI,wBAAM,CAAC,eAAQ,CAAC;;OAtBpB,gBAAgB,CAwG5B;IAAD,uBAAC;CAAA;AAxGY,4CAAgB;;;;;;;;;;;;;;ACxB7B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;;;;;;;AAEjF,2GAA+C;AAE/C,iJAAsD;AAEtD;;;;GAIG;AAEH;IAAmF,gCAAgB;IAAnG;;IAcA,CAAC;IAPG,sBAAW,8BAAI;aAIf;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;QAVD,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;aAEhF,UAAgB,IAAO;YACnB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC/B,CAAC;;;OAAA;IATiB,YAAY;QADjC,iBAAU,EAAE;OACS,YAAY,CAcjC;IAAD,mBAAC;CAAA,CAdkF,mCAAgB,GAclG;AAdqB,oCAAY;;;;;;;;;;;;;;ACjBlC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAIjF,sKAAoE;AACpE,0JAA4D;AAE5D;IAAyC,uCAAuB;IAC5D,6BAAY,QAAmB,EAAE,OAA6B;QAA9D,YACI,kBAAM,QAAQ,CAAC,SAElB;QADG,KAAI,CAAC,QAAQ,GAAG,OAAO,IAAI,IAAI,yCAAmB,CAAC,KAAI,CAAC,CAAC;;IAC7D,CAAC;IACL,0BAAC;AAAD,CAAC,CALwC,iDAAuB,GAK/D;AALY,kDAAmB;;;;;;;;;;;;;;ACZhC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAMjF,sKAAoE;AAEpE;;GAEG;AACH;IAAyC,uCAAuB;IAAhE;;IAcA,CAAC;IAbG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,wCAAU,GAAjB,UAAkB,IAAkC,EAAE,IAAiB;QACnE,IAAI,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,kBAAkB,EAAE;YACpB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,EAAE,kBAAkB,CAAC,CAAC;SACjE;IACL,CAAC;IACL,0BAAC;AAAD,CAAC,CAdwC,iDAAuB,GAc/D;AAdY,kDAAmB;;;;;;;;;;;;;;AChBhC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAOjF;;GAEG;AACH;IAaI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,6BAAY,OAA4B;QACpC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,yCAAW,GAAlB,UAAmB,QAAa,EAAE,IAAS,EAAE,OAAyB;QAClE,IAAI,IAAI,GAA+D,IAAI,CAAC;QAE5E,yBAAyB;QACzB,IAAI,IAAI,IAAI,OAAO,CAAC,iBAAiB,EAAE;YACnC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;SAChD;QAED,mCAAmC;QACnC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,4CAAc,GAArB,UAAsB,QAAa,EAAE,IAAS,EAAE,OAAyB;QACrE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,2CAAa,GAArB,UAAsB,IAAkC;QACpD,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAEO,gDAAkB,GAA1B,UAA2B,QAAa,EAAE,YAAiB;QACvD,IAAI,eAAe,IAAI,QAAQ,EAAE;YAC7B,QAAQ,CAAC,aAAa,EAAE,CAAC;SAC5B;QAED,IAAI,MAAM,IAAI,QAAQ,EAAE;YACpB,QAAQ,CAAC,IAAI,GAAG,YAAY,CAAC;SAChC;QAED,IAAI,YAAY,IAAI,QAAQ,EAAE;YAC1B,QAAQ,CAAC,UAAU,EAAE,CAAC;SACzB;QAED,IAAI,gBAAgB,IAAI,QAAQ,EAAE;YAC9B,QAAQ,CAAC,cAAc,EAAE,CAAC;SAC7B;IACL,CAAC;IAEO,6CAAe,GAAvB,UAAwB,QAAa;QACjC,IAAI,YAAY,IAAI,QAAQ,EAAE;YAC1B,QAAQ,CAAC,UAAU,EAAE,CAAC;SACzB;QAED,IAAI,SAAS,IAAI,QAAQ,EAAE;YACvB,QAAQ,CAAC,OAAO,EAAE,CAAC;SACtB;QAED,IAAI,OAAO,IAAI,QAAQ,EAAE;YACrB,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,aAAa,IAAI,QAAQ,EAAE;YAC3B,QAAQ,CAAC,WAAW,EAAE,CAAC;SAC1B;IACL,CAAC;IACL,0BAAC;AAAD,CAAC;AA7FY,kDAAmB;;;;;;;;;;;;;;ACfhC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;AAEjF,2GAA6G;AAQ7G,2IAAkD;AAClD,6JAA8D;AAC9D,0JAA4D;AAC5D,0JAA4D;AAE5D;;GAEG;AAEH;IAeI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,yBAA8B,OAAiB;QArB/C,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAExE,aAAQ,GAAgC,IAAI,GAAG,EAA0B,CAAC;QAQ1E,kBAAa,GAAsB,IAAI,2CAAoB,EAAE,CAAC;QAUlE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,yCAAmB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,IAAI,yCAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC/D,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,oCAAU,GAAjB,UAAkB,OAAqB;QACnC,IAAM,IAAI,GAAG,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;QACnD,IAAI,MAAM,GAAmB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAErD,IAAI,MAAM,EAAE;YACR,OAAO,MAAM,CAAC;SACjB;QAED,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAmB,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAChC,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;OAEG;IACI,6BAAG,GAAV,UAAW,IAA0C;QACjD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,kBAAW,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACI,sCAAY,GAAnB,UAAoB,OAAqB;QACrC,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;IAC1F,CAAC;IAED;;OAEG;IACI,+BAAK,GAAZ,UAAa,IAA0C;QACnD,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,kBAAW,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACI,oCAAU,GAAjB,UAAkB,IAAkC,EAAE,IAAS;QAC3D,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED;;OAEG;IACI,iCAAO,GAAd,UAAe,IAA0C;QACrD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAO,IAAI,CAAC,WAAW,CAAC,CAAC;IAC9D,CAAC;IAED;;OAEG;IACI,mCAAS,GAAhB,UAAiB,IAA0C;QACvD,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED;;OAEG;IACI,sCAAY,GAAnB;QACI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;IACvC,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,sCAAY,GAApB,UAAqB,OAAqB;QACtC,OAAO,IAAI,+BAAc,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3F,CAAC;IAvGQ,eAAe;QAD3B,iBAAU,EAAE;QAuBI,wBAAM,CAAC,eAAQ,CAAC;;OAtBpB,eAAe,CAwG3B;IAAD,sBAAC;CAAA;AAxGY,0CAAe;;;;;;;;;;;;;;ACxB5B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,2IAAoD;AACpD,0IAAmD;AACnD,6IAAqD;AAErD;;GAEG;AACH;IAAA;IAqDA,CAAC;IArCG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,sCAAM,GAAb,UAAc,OAAiB;QAC3B,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3D,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAEvD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAElC,8BAA8B;QAC9B,qBAAqB,CAAC,kBAAkB,GAAG,qBAAqB,CAAC,kBAAkB,IAAI,IAAI,6BAAa,EAAE,CAAC;QAC3G,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,6BAAa,CAAC,CAAC,eAAe,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;QAE7F,oCAAoC;QACpC,IAAI,CAAC,SAAS;aACT,IAAI,CAAC,6BAAa,CAAC;aACnB,EAAE,CAAC,2BAAY,CAAC;aAChB,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,gDAAgB,GAAxB;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;IAC1E,CAAC;IAEO,8CAAc,GAAtB;QACI,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;QACvC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,6BAAa,CAAC,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,6BAAa,CAAC,CAAC;IACzC,CAAC;IACL,4BAAC;AAAD,CAAC;AArDY,sDAAqB;;;;;;;;;;;;;;AChBlC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,kKAAmE;AACnE,6IAAqD;AAErD,IAAI,YAAY,GAAW,CAAC,CAAC;AAE7B;;GAEG;AACH;IAAA;IAoDA,CAAC;IApCG,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,8CAAM,GAAb,UAAc,OAAiB;QAC3B,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3D,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvD,YAAY,EAAE,CAAC;QACf,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,wDAAgB,GAAxB;QACI,6BAA6B;QAC7B,IAAI,CAAC,6BAA6B,CAAC,cAAc,EAAE;YAC/C,IAAM,iBAAiB,GAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAgB,6BAAa,CAAC,CAAC;YAC1F,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAC;YACtE,6BAA6B,CAAC,cAAc,GAAG,IAAI,2CAAoB,CAAC,iBAAiB,CAAC,CAAC;SAC9F;IACL,CAAC;IAEO,sDAAc,GAAtB;QACI,YAAY,EAAE,CAAC;QACf,IAAI,YAAY,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mDAAmD,CAAC,CAAC;YACxE,6BAA6B,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YACvD,6BAA6B,CAAC,cAAc,GAAG,IAAI,CAAC;SACvD;IACL,CAAC;IAlDD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF,sCAAsC;IACvB,4CAAc,GAAyB,IAAI,CAAC;IA8C/D,oCAAC;CAAA;AApDY,sEAA6B;;;;;;;;;;;;;;ACjB1C,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAOjF;;GAEG;AACU,qBAAa,GAAG,MAAM,CAAC,eAAe,CAAC,CAAC;;;;;;;;;;;;;;ACfrD,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;;;;;;;;;;AAEjF,2GAAgE;AAOhE,oJAAwD;AACxD,wIAAgD;AAEhD;;GAEG;AAEH;IAAkC,gCAAe;IAuB7C,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,sBAAY,aAA4B;QAAxC,YACI,iBAAO,SAEV;QAhCD,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAExE,oBAAc,GAAiC,EAAE,CAAC;QAS1D,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAExE,oBAAc,GAAoB,EAAE,CAAC;QACrC,mBAAa,GAAmB,EAAE,CAAC;QAavC,KAAI,CAAC,SAAS,GAAG,aAAa,CAAC;;IACnC,CAAC;IAvBD,sBAAW,uCAAa;QAHxB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;;;OAAA;IAuBD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,sCAAe,GAAtB,UAAuB,YAAwC;QAA/D,iBAgBC;QAfG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE;YACvC,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAEvC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,OAAsB;YAC/C,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,OAAqB;YAC7C,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC,CAAC;IACjG,CAAC;IAED;;OAEG;IACI,yCAAkB,GAAzB,UAA0B,YAAwC;QAC9D,IAAI,KAAK,GAAW,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAE9D,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAErC,IAAI,OAAO,GAAwB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;QAE3E,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,OAAsB;YAC/C,OAAO,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,OAAqB;YAC7C,OAAO,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,oBAAoB,EAAE,YAAY,CAAC,CAAC,CAAC;IACpG,CAAC;IAED;;OAEG;IACI,sCAAe,GAAtB,UAAuB,OAAsB;QAA7C,iBAYC;QAXG,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;YAC7C,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAElC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,YAAwC;YACjE,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,iBAAiB,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IAClG,CAAC;IAED;;OAEG;IACI,yCAAkB,GAAzB,UAA0B,OAAsB;QAAhD,iBAaC;QAZG,IAAI,KAAK,GAAW,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAErC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,YAAwC;YACjE,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACrG,CAAC;IAED;;OAEG;IACI,qCAAc,GAArB,UAAsB,OAAqB;QAA3C,iBAYC;QAXG,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;YAC5C,OAAO;SACV;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEjC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,YAAwC;YACjE,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACvG,CAAC;IAED;;OAEG;IACI,wCAAiB,GAAxB,UAAyB,OAAqB;QAA9C,iBAaC;QAZG,IAAI,KAAK,GAAW,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAErC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,YAAwC;YACjE,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,qCAAiB,CAAC,qCAAiB,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IAC1G,CAAC;IAED;;OAEG;IACI,wCAAiB,GAAxB;QAAA,iBAYC;QAXG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,YAAwC;YACjE,IAAI,OAAO,GAAwB,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;YAE3E,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,OAAsB;gBAC/C,OAAO,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC;YAEH,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,OAAqB;gBAC7C,OAAO,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,wCAAiB,GAAzB,UAA0B,YAAwC;QAC9D,IAAI,KAAK,GAAY,IAAI,CAAC;QAE1B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,sBAAkD;YAC3E,IAAI,YAAY,KAAK,sBAAsB,EAAE;gBACzC,KAAK,GAAG,KAAK,CAAC;aACjB;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;IACjB,CAAC;IA1LQ,YAAY;QADxB,iBAAU,EAAE;yCA+BkB,6BAAa;OA9B/B,YAAY,CA2LxB;IAAD,mBAAC;CAAA,CA3LiC,sBAAe,GA2LhD;AA3LY,oCAAY;;;;;;;;;;;;;;ACrBzB,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAEjF,2GAA4D;AAK5D,yKAAsE;AAEtE;;GAEG;AACH;IAAyC,uCAAe;IAqCpD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,6BAAY,YAAwC;QAApD,YACI,iBAAO,SAEV;QAjBD,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAExE,oBAAc,GAAoB,EAAE,CAAC;QACrC,mBAAa,GAAmB,EAAE,CAAC;QAWvC,KAAI,CAAC,aAAa,GAAG,YAAY,CAAC;;IACtC,CAAC;IArCD,sBAAW,uCAAM;QAHjB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAED;;WAEG;aACH,UAAkB,KAA0B;YACxC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;;;OAPA;IAcD,sBAAW,6CAAY;QAHvB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAqBD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,6CAAe,GAAtB,UAAuB,OAAsB;QACzC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE;YAC3C,OAAO;SACV;QACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG;IACI,gDAAkB,GAAzB,UAA0B,OAAsB;QAC5C,IAAI,KAAK,GAAW,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAErC,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC/B;IACL,CAAC;IAED;;OAEG;IACI,4CAAc,GAArB,UAAsB,OAAqB;QACvC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE;YAC1C,OAAO;SACV;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACI,+CAAiB,GAAxB,UAAyB,OAAqB;QAC1C,IAAI,KAAK,GAAW,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAEpC,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC/B;IACL,CAAC;IAED;;OAEG;IACI,yCAAW,GAAlB,UAAmB,KAAmB,EAAE,IAAiB;QACrD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,OAAsB;YAC/C,OAAO,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACI,wCAAU,GAAjB,UAAkB,IAAkC,EAAE,IAAiB;QACnE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,OAAqB;YAC7C,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gFAAgF;IAChF,iFAAiF;IACjF,gFAAgF;IAEhF;;OAEG;IACK,kDAAoB,GAA5B;QACI,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YACrE,IAAI,CAAC,aAAa,CAAC,IAAI,mDAAwB,CAAC,mDAAwB,CAAC,aAAa,CAAC,CAAC,CAAC;SAC5F;IACL,CAAC;IACL,0BAAC;AAAD,CAAC,CA/HwC,sBAAe,GA+HvD;AA/HY,kDAAmB;;;;;;;;;;;;;;ACjBhC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAEjF,2GAA0C;AAE1C;;GAEG;AACH;IAA8C,4CAAK;IAO/C,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,kCAAY,IAAY;eACpB,kBAAM,IAAI,CAAC;IACf,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,wCAAK,GAAZ;QACI,OAAO,IAAI,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IA1BD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAElE,sCAAa,GAAW,cAAc,CAAC;IAuBzD,+BAAC;CAAA,CA5B6C,YAAK,GA4BlD;AA5BY,4DAAwB;;;;;;;;;;;;;;ACZrC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAEjF,2GAA0C;AAK1C;;;GAGG;AACH;IAAuC,qCAAK;IAgDxC,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;;;;;OAMG;IACH,2BAAY,IAAY,EAAE,YAAyC,EAAE,YAA4B,EAAE,WAA0B;QAA7H,YACI,kBAAM,IAAI,EAAE,IAAI,CAAC,SAIpB;QAHG,KAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,KAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,KAAI,CAAC,YAAY,GAAG,WAAW,CAAC;;IACpC,CAAC;IAtCD,sBAAW,2CAAY;QAHvB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAOD,sBAAW,2CAAY;QAHvB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAOD,sBAAW,0CAAW;QAHtB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IAoBD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,iCAAK,GAAZ;QACI,OAAO,IAAI,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACvG,CAAC;IA1ED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAElE,mCAAiB,GAAW,iBAAiB,CAAC;IAE9C,sCAAoB,GAAW,oBAAoB,CAAC;IAEpD,mCAAiB,GAAW,iBAAiB,CAAC;IAE9C,sCAAoB,GAAW,oBAAoB,CAAC;IAEpD,kCAAgB,GAAW,gBAAgB,CAAC;IAE5C,qCAAmB,GAAW,mBAAmB,CAAC;IA6DpE,wBAAC;CAAA,CA5EsC,YAAK,GA4E3C;AA5EY,8CAAiB;;;;;;;;;;;;;;AChB9B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;AAIjF,uJAA0D;AAE1D;;GAEG;AACH;IAGI,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACH,8BAAY,aAA4B;QAAxC,iBAWC;QAVG,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC;QAE/B,2BAA2B;QAC3B,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,uCAAkB,CAAC,sBAAsB,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAC7G,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,uCAAkB,CAAC,yBAAyB,EAAE,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC;QAEnH,0CAA0C;QAC1C,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,OAA4B;YAC7D,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,sCAAO,GAAd;QAAA,iBAOC;QANG,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,uCAAkB,CAAC,sBAAsB,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAChH,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,uCAAkB,CAAC,yBAAyB,EAAE,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC;QAEtH,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,OAA4B;YAC7D,KAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,oDAAqB,GAA7B,UAA8B,KAAyB;QACnD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IAC7C,CAAC;IAEO,uDAAwB,GAAhC,UAAiC,KAAyB;QACtD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IAChD,CAAC;IAEO,8CAAe,GAAvB,UAAwB,YAAwC;QAC5D,IAAI,YAAY,EAAE;YACb,YAAoB,CAAC,uBAAuB,GAAG,IAAI,CAAC,sBAAsB,CACvE,YAAY,EACX,YAAoB,CAAC,uBAAuB,CAChD,CAAC;YACD,YAAoB,CAAC,uBAAuB,GAAG,IAAI,CAAC,sBAAsB,CACvE,YAAY,EACX,YAAoB,CAAC,uBAAuB,CAChD,CAAC;YACD,YAAoB,CAAC,qBAAqB,GAAG,IAAI,CAAC,sBAAsB,CACrE,YAAY,EACX,YAAoB,CAAC,qBAAqB,CAC9C,CAAC;YAEF,IAAI,CAAC,uCAAuC,CAAC,YAAY,CAAC,CAAC;SAC9D;IACL,CAAC;IAEO,sEAAuC,GAA/C,UAAgD,YAAwC;QACpF,IAAM,cAAc,GAChB,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC;QAE5D,IAAM,IAAI,GAAG,IAAI,CAAC;QAElB,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAS,KAAoC;YACnG,IAAI,KAAK,YAAY,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE;gBAC/C,IAAI,OAAO,GAAwB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBAC3E,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,UAAU,CAAC,KAAK,EAAO,KAAK,CAAC,WAAW,CAAC,CAAC;iBACrD;aACJ;YACD,OAAO,cAAc,CAAC,KAAK,CAAE,KAAa,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACzE,CAAC,CAAC;IACN,CAAC;IAEO,qDAAsB,GAA9B,UAA+B,YAAwC,EAAE,cAAmB;QAA5F,iBAMC;QALG,OAAO;YAAC,cAAO;iBAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;gBAAP,yBAAO;;YACX,IAAM,KAAK,GAAiB,cAAc,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YACrE,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,OAAO,KAAK,CAAC;QACjB,CAAC,CAAC;IACN,CAAC;IAEO,0CAAW,GAAnB,UAAoB,KAAmB;QACnC,IAAI,YAAY,GAA0B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;QACtE,IAAI,YAAwC,CAAC;QAE7C,KAA0B,UAAY,EAAZ,6BAAY,EAAZ,0BAAY,EAAZ,IAAY,EAAE;YAAnC,IAAM,WAAW;YAClB,YAAY,GAAG,WAAW,CAAC,YAAY,CAAC;YAExC,IAAI,YAAY,EAAE;gBACd,IAAI,OAAO,GAAwB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnF,IAAI,OAAO,EAAE;oBACT,oCAAoC;oBACpC,kCAAkC;oBAClC,mCAAmC;oBACnC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;iBAC3D;aACJ;SACJ;IACL,CAAC;IAEO,2CAAY,GAApB,UAAqB,GAA0B;QAC3C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACxD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACtD,IAAM,OAAO,GAAwB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/E,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,EAAO,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;SAC9D;IACL,CAAC;IAEO,8CAAe,GAAvB,UAAwB,GAA0B;QAC9C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAClD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IAEO,6CAAc,GAAtB,UAAuB,GAA0B;QAC7C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAEO,iDAAkB,GAA1B,UAA2B,SAAc,IAAS,CAAC;IACvD,2BAAC;AAAD,CAAC;AArIY,oDAAoB;;;;;;;;;;;;;;ACdjC,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAEjF,2GAAoD;AAEpD,0JAA4D;AAC5D,yKAAsE;AACtE,uJAA0D;AAE1D;;GAEG;AACH;IAAmC,iCAAe;IAAlD;QACI,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAHpF,qEAkIC;QA7HW,mBAAa,GAA0B,EAAE,CAAC;QAC1C,eAAS,GAA0B,EAAE,CAAC;QACtC,4BAAsB,GAAyD,IAAI,GAAG,EAG3F,CAAC;;IAwHR,CAAC;IA/GG,sBAAW,uCAAY;QAPvB,gFAAgF;QAChF,gFAAgF;QAChF,gFAAgF;QAEhF;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAKD,sBAAW,mCAAQ;QAHnB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,uCAAe,GAAtB,UAAuB,YAAwC;QAC3D,IAAI,OAAO,GAAwB,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAEjF,IAAI,CAAC,OAAO,EAAE;YACV,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YAC3C,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;SAC1D;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED;;OAEG;IACI,0CAAkB,GAAzB,UAA0B,YAAwC;QAC9D,IAAI,OAAO,GAAwB,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAEjF,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SAC/B;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED;;;;OAIG;IACI,yCAAiB,GAAxB,UAAyB,MAAkC;QACvD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG;IACI,kCAAU,GAAjB,UAAkB,YAAwC;QACtD,OAAO,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IACzD,CAAC;IAED,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAExE,qCAAa,GAArB,UAAsB,YAAwC;QAC1D,IAAI,OAAO,GAAwB,IAAI,yCAAmB,CAAC,YAAY,CAAC,CAAC;QACzE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE7B,4EAA4E;QAC5E,OAAO,CAAC,gBAAgB,CAAC,mDAAwB,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QAE5F,wDAAwD;QACxD,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE;YACxB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SAChC;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,uCAAkB,CAAC,uCAAkB,CAAC,iBAAiB,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;QAEvG,OAAO,OAAO,CAAC;IACnB,CAAC;IAEO,qCAAa,GAArB,UAAsB,OAA4B;QAC9C,4BAA4B;QAC5B,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,KAAK,GAAW,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAEhC,kCAAkC;QAClC,OAAO,CAAC,mBAAmB,CAAC,mDAAwB,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QAE/F,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACjB,sDAAsD;YACtD,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;SACnC;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,uCAAkB,CAAC,uCAAkB,CAAC,oBAAoB,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAC9G,CAAC;IAEO,sCAAc,GAAtB,UAAuB,OAA4B;QAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,IAAI,uCAAkB,CAAC,uCAAkB,CAAC,sBAAsB,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAChH,CAAC;IAEO,yCAAiB,GAAzB,UAA0B,OAA4B;QAClD,IAAI,KAAK,GAAW,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,IAAI,uCAAkB,CAAC,uCAAkB,CAAC,yBAAyB,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IACnH,CAAC;IAEO,sCAAc,GAAtB,UAAuB,KAA+B;QAClD,IAAI,CAAC,aAAa,CAAM,KAAK,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IACL,oBAAC;AAAD,CAAC,CAlIkC,sBAAe,GAkIjD;AAlIY,sCAAa;;;;;;;;;;;;;;AChB1B,iFAAiF;AACjF,iEAAiE;AACjE,EAAE;AACF,sEAAsE;AACtE,0EAA0E;AAC1E,iFAAiF;;;;;;;;;;;;;;;AAEjF,2GAA0C;AAE1C;;;GAGG;AACH;IAAwC,sCAAK;IA0BzC,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;;;OAIG;IACH,4BAAY,IAAY,EAAE,YAAwC;QAAlE,YACI,kBAAM,IAAI,CAAC,SAEd;QADG,KAAI,CAAC,aAAa,GAAG,YAAY,CAAC;;IACtC,CAAC;IAhBD,sBAAW,4CAAY;QAHvB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAgBD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAEhF;;OAEG;IACI,kCAAK,GAAZ;QACI,OAAO,IAAI,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IACjE,CAAC;IAhDD,gFAAgF;IAChF,gFAAgF;IAChF,gFAAgF;IAElE,oCAAiB,GAAW,iBAAiB,CAAC;IAE9C,uCAAoB,GAAW,oBAAoB,CAAC;IAEpD,yCAAsB,GAAW,qBAAqB,CAAC;IAEvD,4CAAyB,GAAW,wBAAwB,CAAC;IAuC/E,yBAAC;CAAA,CAlDuC,YAAK,GAkD5C;AAlDY,gDAAkB","file":"game.bef9e71ac4c05e6a927d.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./example/index.ts\");\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { Context, IContext, MVCSBundle } from \"@robotlegsjs/core\";\n\nimport { ContextSceneManager } from \"../src/robotlegs/bender/extensions/contextSceneManager/impl/ContextSceneManager\";\nimport { PhaserBundle } from \"../src/robotlegs/bender/bundles/phaser/PhaserBundle\";\n\nimport { GameConfig } from \"./config/GameConfig\";\nimport { SceneMediatorConfig } from \"./config/SceneMediatorConfig\";\n\nimport { SceneKey } from \"./constants/SceneKey\";\n\nimport { Boot } from \"./scenes/Boot\";\nimport { Main } from \"./scenes/Main\";\nimport { Preload } from \"./scenes/Preload\";\n\nexport class Game extends Phaser.Game {\n    private _context: IContext;\n\n    constructor() {\n        super({\n            type: Phaser.CANVAS,\n            width: 960,\n            height: 400,\n            backgroundColor: \"#010101\",\n            canvas: <HTMLCanvasElement>document.getElementById(\"canvas\")\n        });\n\n        this._context = new Context();\n        this._context\n            .install(MVCSBundle, PhaserBundle)\n            .configure(new ContextSceneManager(this.scene))\n            .configure(SceneMediatorConfig)\n            .configure(GameConfig)\n            .initialize();\n\n        this.scene.add(SceneKey.BOOT, new Boot());\n        this.scene.add(SceneKey.PRELOAD, new Preload());\n        this.scene.add(SceneKey.MAIN, new Main());\n\n        this.scene.start(SceneKey.BOOT);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, Event, ICommand, inject, IEventDispatcher } from \"@robotlegsjs/core\";\nimport { GameModel } from \"../models/GameModel\";\nimport { MainEvent } from \"../events/MainEvent\";\n\n@injectable()\nexport class AddRobotlegsScoreCommand implements ICommand {\n    @inject(GameModel)\n    private gameModel: GameModel;\n\n    @inject(IEventDispatcher)\n    private eventDispatcher: IEventDispatcher;\n\n    public execute(event: Event): void {\n        console.log(event.type, event.data);\n        this.gameModel.robotlegsScore += 1;\n        this.eventDispatcher.dispatchEvent(new MainEvent(MainEvent.ADDED_ROBOTLEGS_IMAGE));\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, Event, ICommand } from \"@robotlegsjs/core\";\n\n@injectable()\nexport class MainCommand implements ICommand {\n    public execute(event: Event): void {\n        console.log(event.type, event.data);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject, IConfig, IContext, IEventCommandMap } from \"@robotlegsjs/core\";\n\nimport { MainCommand } from \"../commands/MainCommand\";\nimport { AddRobotlegsScoreCommand } from \"../commands/AddRobotlegsScoreCommand\";\nimport { MainEvent } from \"../events/MainEvent\";\nimport { GameModel } from \"../models/GameModel\";\n\n@injectable()\nexport class GameConfig implements IConfig {\n    @inject(IContext)\n    public context: IContext;\n\n    @inject(IEventCommandMap)\n    public commandMap: IEventCommandMap;\n\n    public configure(): void {\n        this.mapCommands();\n        this.mapManager();\n        this.mapModels();\n    }\n\n    private mapCommands(): void {\n        this.commandMap.map(MainEvent.GAME_START).toCommand(MainCommand);\n        this.commandMap.map(MainEvent.ADD_ROBOTLEGS_IMAGE).toCommand(AddRobotlegsScoreCommand);\n    }\n\n    private mapManager(): void {}\n\n    private mapModels(): void {\n        this.context.injector\n            .bind(GameModel)\n            .to(GameModel)\n            .inSingletonScope();\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IConfig, inject, injectable } from \"@robotlegsjs/core\";\n\nimport { ISceneMediatorMap } from \"../../src/robotlegs/bender/extensions/mediatorMap/api/ISceneMediatorMap\";\n\nimport { BootMediator } from \"../mediators/BootMediator\";\nimport { MainMediator } from \"../mediators/MainMediator\";\nimport { PreloadMediator } from \"../mediators/PreloadMediator\";\n\nimport { Boot } from \"../scenes/Boot\";\nimport { Main } from \"../scenes/Main\";\nimport { Preload } from \"../scenes/Preload\";\nimport { IViewMediatorMap } from \"../../src/robotlegs/bender/extensions/mediatorMap/api/IViewMediatorMap\";\nimport { ScoreView } from \"../views/ScoreView\";\nimport { ScoreViewMediator } from \"../mediators/ScoreViewMediator\";\n\n@injectable()\nexport class SceneMediatorConfig implements IConfig {\n    @inject(ISceneMediatorMap)\n    public sceneMediatorMap: ISceneMediatorMap;\n\n    @inject(IViewMediatorMap)\n    public viewMediatorMap: IViewMediatorMap;\n\n    public configure(): void {\n        this.mapSceneMediators();\n        this.mapViewMediators();\n    }\n\n    private mapSceneMediators(): void {\n        this.sceneMediatorMap.map(Boot).toMediator(BootMediator);\n        this.sceneMediatorMap.map(Preload).toMediator(PreloadMediator);\n        this.sceneMediatorMap.map(Main).toMediator(MainMediator);\n    }\n\n    private mapViewMediators(): void {\n        this.viewMediatorMap.map(ScoreView).toMediator(ScoreViewMediator);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nexport class SceneKey {\n    public static BOOT: string = \"Boot\";\n    public static PRELOAD: string = \"Preload\";\n    public static MAIN: string = \"Main\";\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { Event } from \"@robotlegsjs/core\";\n\nexport class MainEvent extends Event {\n    public static readonly GAME_START: string = \"game_start\";\n    public static readonly ADD_ROBOTLEGS_IMAGE: string = \"add_robotlegs_image\";\n    public static readonly ADDED_ROBOTLEGS_IMAGE: string = \"added_robotlegs_image\";\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\n/// <reference path=\"../node_modules/phaser/types/phaser.d.ts\" />\n\nimport \"reflect-metadata\";\n\nimport { Game } from \"./Game\";\n\n(<any>window).initGame = function() {\n    let game: Game = new Game();\n    (<any>window).game = game;\n};\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable } from \"@robotlegsjs/core\";\n\nimport { SceneMediator } from \"../../src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediator\";\n\nimport { Boot } from \"../scenes/Boot\";\n\n@injectable()\nexport class BootMediator extends SceneMediator<Boot> {\n    public initialize(): void {\n        console.log(\"BootMediator: initialize\");\n    }\n\n    public destroy(): void {\n        console.log(\"BootMediator: destroy\");\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject } from \"@robotlegsjs/core\";\n\nimport { SceneMediator } from \"../../src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediator\";\n\nimport { MainEvent } from \"../events/MainEvent\";\nimport { GameModel } from \"../models/GameModel\";\nimport { Main } from \"../scenes/Main\";\n\n@injectable()\nexport class MainMediator extends SceneMediator<Main> {\n    @inject(GameModel)\n    public gameModel: GameModel;\n\n    public initialize(): void {\n        console.log(\"MainMediator: initialize\");\n\n        console.log(\"robotlegsCount: \" + this.gameModel.robotlegsScore);\n\n        this.dispatch(new MainEvent(MainEvent.GAME_START, true, false, { data: this.gameModel }));\n\n        this.on(this.scene.input, \"pointerdown\", this.onPointerdown);\n    }\n\n    public destroy(): void {\n        console.log(\"MainMediator: destroy\");\n    }\n\n    private onPointerdown(pointer: Phaser.Geom.Point): void {\n        this.scene.addRobotlesgImage(pointer.x, pointer.y, \"robotlegs\");\n\n        this.dispatch(new MainEvent(MainEvent.ADD_ROBOTLEGS_IMAGE));\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable } from \"@robotlegsjs/core\";\n\nimport { SceneMediator } from \"../../src/robotlegs/bender/extensions/mediatorMap/impl/SceneMediator\";\n\nimport { Preload } from \"../scenes/Preload\";\n\n@injectable()\nexport class PreloadMediator extends SceneMediator<Preload> {\n    public initialize(): void {\n        console.log(\"PreloadMediator: initialize\");\n    }\n\n    public destroy(): void {\n        console.log(\"PreloadMediator: destroy\");\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject } from \"@robotlegsjs/core\";\n\nimport { GameModel } from \"../models/GameModel\";\nimport { ViewMediator } from \"../../src/robotlegs/bender/extensions/mediatorMap/impl/ViewMediator\";\nimport { ScoreView } from \"../views/ScoreView\";\nimport { MainEvent } from \"../events/MainEvent\";\n\n@injectable()\nexport class ScoreViewMediator extends ViewMediator<ScoreView> {\n    @inject(GameModel)\n    public gameModel: GameModel;\n\n    public initialize(): void {\n        console.log(\"PlayerViewMediator: initialize\");\n        console.log(\"score: \" + this.gameModel.robotlegsScore);\n        this.view.setText(0);\n        this.addContextListener(MainEvent.ADDED_ROBOTLEGS_IMAGE, this.onRobotlegsImageAdded, this);\n    }\n\n    public destroy(): void {\n        console.log(\"PlayerViewMediator: destroy\");\n    }\n\n    private onRobotlegsImageAdded(): void {\n        this.view.setText(this.gameModel.robotlegsScore);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable } from \"@robotlegsjs/core\";\n\n@injectable()\nexport class GameModel {\n    public robotlegsScore: number;\n\n    constructor() {\n        this.clear();\n    }\n\n    public clear(): void {\n        this.robotlegsScore = 0;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nexport abstract class BaseScene extends Phaser.Scene {\n    constructor(scene: string) {\n        super({ key: scene });\n    }\n\n    public preload(): void {\n        console.log(this + \": preload\");\n    }\n\n    public init(): void {\n        console.log(this + \": init\");\n    }\n\n    public create(): void {\n        console.log(this + \": create\");\n    }\n\n    public shutdown(): void {\n        console.log(this + \": shutdown\");\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { SceneKey } from \"../constants/SceneKey\";\n\nimport { BaseScene } from \"./BaseScene\";\n\nexport class Boot extends BaseScene {\n    constructor() {\n        super(SceneKey.BOOT);\n    }\n\n    public preload(): void {}\n\n    public create(): void {\n        super.create();\n\n        this.scene.start(SceneKey.PRELOAD);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { SceneKey } from \"../constants/SceneKey\";\n\nimport { BaseScene } from \"./BaseScene\";\nimport { ScoreView } from \"../views/ScoreView\";\n\nexport class Main extends BaseScene {\n    private scoreView: ScoreView;\n\n    constructor() {\n        super(SceneKey.MAIN);\n    }\n\n    public create(): void {\n        super.create();\n\n        this.scoreView = new ScoreView(this);\n        // initializing ScoreViewMediator\n        this.add.existing(this.scoreView);\n\n        this.add.image(20, 30, \"koreez\");\n    }\n\n    public addRobotlesgImage(x: number, y: number, textureKey: string): void {\n        const image: Phaser.GameObjects.Image = this.add.image(x, y, textureKey);\n        image.setAngle(Math.floor(Math.random() * (360 + 1)));\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { SceneKey } from \"../constants/SceneKey\";\n\nimport { BaseScene } from \"./BaseScene\";\n\nexport class Preload extends BaseScene {\n    constructor() {\n        super(SceneKey.PRELOAD);\n    }\n\n    public preload(): void {\n        /* Preload required assets */\n        this.load.image(\"koreez\", \"images/koreez.jpg\");\n        this.load.image(\"robotlegs\", \"images/robotlegs.png\");\n        // this.game.load.audio('myAudio', 'images/my-audio.wav');\n        // this.game.load.atlas('myAtlas', 'images/my-atlas.png', 'assets/my-atlas.json');\n    }\n\n    public create(): void {\n        super.create();\n\n        // NOTE: Change to GameTitle if required\n        // this.game.state.start(StateKey.MAIN);\n\n        this.scene.start(SceneKey.MAIN);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nexport class ScoreView extends Phaser.GameObjects.Container {\n    public text: Phaser.GameObjects.Text;\n\n    constructor(scene: Phaser.Scene, x?: number, y?: number, children?: Phaser.GameObjects.GameObject[]) {\n        super(scene, x, y, children);\n        this.text = this.scene.add\n            .text(850, 10, \"Score: 0\")\n            .setFontSize(20)\n            .setFontFamily(\"Arial\");\n    }\n\n    public setText(value: number): void {\n        this.text.setText(`Score : ${value}`);\n    }\n}\n","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Dependency injection\n */\nvar inversify_1 = require(\"inversify\");\nexports.ContainerModule = inversify_1.ContainerModule;\nexports.decorate = inversify_1.decorate;\nexports.inject = inversify_1.inject;\nexports.injectable = inversify_1.injectable;\nexports.multiInject = inversify_1.multiInject;\nexports.named = inversify_1.named;\nexports.optional = inversify_1.optional;\nexports.postConstruct = inversify_1.postConstruct;\nexports.tagged = inversify_1.tagged;\nexports.targetName = inversify_1.targetName;\nexports.unmanaged = inversify_1.unmanaged;\nvar IContext_1 = require(\"./robotlegs/bender/framework/api/IContext\");\nexports.IContext = IContext_1.IContext;\nvar IInjector_1 = require(\"./robotlegs/bender/framework/api/IInjector\");\nexports.IInjector = IInjector_1.IInjector;\nvar ILogger_1 = require(\"./robotlegs/bender/framework/api/ILogger\");\nexports.ILogger = ILogger_1.ILogger;\nvar LifecycleError_1 = require(\"./robotlegs/bender/framework/api/LifecycleError\");\nexports.LifecycleError = LifecycleError_1.LifecycleError;\nvar LifecycleEvent_1 = require(\"./robotlegs/bender/framework/api/LifecycleEvent\");\nexports.LifecycleEvent = LifecycleEvent_1.LifecycleEvent;\nvar LifecycleState_1 = require(\"./robotlegs/bender/framework/api/LifecycleState\");\nexports.LifecycleState = LifecycleState_1.LifecycleState;\nvar LogLevel_1 = require(\"./robotlegs/bender/framework/api/LogLevel\");\nexports.LogLevel = LogLevel_1.LogLevel;\nvar PinEvent_1 = require(\"./robotlegs/bender/framework/api/PinEvent\");\nexports.PinEvent = PinEvent_1.PinEvent;\n/**\n * Framework Implementation\n */\nvar ConfigManager_1 = require(\"./robotlegs/bender/framework/impl/ConfigManager\");\nexports.ConfigManager = ConfigManager_1.ConfigManager;\nvar Context_1 = require(\"./robotlegs/bender/framework/impl/Context\");\nexports.Context = Context_1.Context;\nvar ExtensionInstaller_1 = require(\"./robotlegs/bender/framework/impl/ExtensionInstaller\");\nexports.ExtensionInstaller = ExtensionInstaller_1.ExtensionInstaller;\nvar Lifecycle_1 = require(\"./robotlegs/bender/framework/impl/Lifecycle\");\nexports.Lifecycle = Lifecycle_1.Lifecycle;\nvar LifecycleTransition_1 = require(\"./robotlegs/bender/framework/impl/LifecycleTransition\");\nexports.LifecycleTransition = LifecycleTransition_1.LifecycleTransition;\nvar Logger_1 = require(\"./robotlegs/bender/framework/impl/Logger\");\nexports.Logger = Logger_1.Logger;\nvar LogManager_1 = require(\"./robotlegs/bender/framework/impl/LogManager\");\nexports.LogManager = LogManager_1.LogManager;\nvar MessageDispatcher_1 = require(\"./robotlegs/bender/framework/impl/MessageDispatcher\");\nexports.MessageDispatcher = MessageDispatcher_1.MessageDispatcher;\nvar MessageRunner_1 = require(\"./robotlegs/bender/framework/impl/MessageRunner\");\nexports.MessageRunner = MessageRunner_1.MessageRunner;\nvar ObjectProcessor_1 = require(\"./robotlegs/bender/framework/impl/ObjectProcessor\");\nexports.ObjectProcessor = ObjectProcessor_1.ObjectProcessor;\nvar Pin_1 = require(\"./robotlegs/bender/framework/impl/Pin\");\nexports.Pin = Pin_1.Pin;\nvar RobotlegsInjector_1 = require(\"./robotlegs/bender/framework/impl/RobotlegsInjector\");\nexports.RobotlegsInjector = RobotlegsInjector_1.RobotlegsInjector;\nvar UID_1 = require(\"./robotlegs/bender/framework/impl/UID\");\nexports.UID = UID_1.UID;\n/**\n * Framework Functions\n */\nvar applyHooks_1 = require(\"./robotlegs/bender/framework/impl/applyHooks\");\nexports.applyHooks = applyHooks_1.applyHooks;\nvar getQualifiedClassName_1 = require(\"./robotlegs/bender/framework/impl/getQualifiedClassName\");\nexports.getQualifiedClassName = getQualifiedClassName_1.getQualifiedClassName;\nvar guardsApprove_1 = require(\"./robotlegs/bender/framework/impl/guardsApprove\");\nexports.guardsApprove = guardsApprove_1.guardsApprove;\nvar instantiateUnmapped_1 = require(\"./robotlegs/bender/framework/impl/instantiateUnmapped\");\nexports.instantiateUnmapped = instantiateUnmapped_1.instantiateUnmapped;\nvar safelyCallBack_1 = require(\"./robotlegs/bender/framework/impl/safelyCallBack\");\nexports.safelyCallBack = safelyCallBack_1.safelyCallBack;\nvar IEventDispatcher_1 = require(\"./robotlegs/bender/events/api/IEventDispatcher\");\nexports.IEventDispatcher = IEventDispatcher_1.IEventDispatcher;\nvar Event_1 = require(\"./robotlegs/bender/events/impl/Event\");\nexports.Event = Event_1.Event;\nvar EventDispatcher_1 = require(\"./robotlegs/bender/events/impl/EventDispatcher\");\nexports.EventDispatcher = EventDispatcher_1.EventDispatcher;\n/**\n * Extensions\n */\n// CommandCenter\nvar CommandPayload_1 = require(\"./robotlegs/bender/extensions/commandCenter/api/CommandPayload\");\nexports.CommandPayload = CommandPayload_1.CommandPayload;\nvar ICommand_1 = require(\"./robotlegs/bender/extensions/commandCenter/api/ICommand\");\nexports.ICommand = ICommand_1.ICommand;\nvar Command_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/Command\");\nexports.Command = Command_1.Command;\nvar CommandExecutor_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/CommandExecutor\");\nexports.CommandExecutor = CommandExecutor_1.CommandExecutor;\nvar CommandMapper_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/CommandMapper\");\nexports.CommandMapper = CommandMapper_1.CommandMapper;\nvar CommandMapping_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/CommandMapping\");\nexports.CommandMapping = CommandMapping_1.CommandMapping;\nvar CommandMappingList_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/CommandMappingList\");\nexports.CommandMappingList = CommandMappingList_1.CommandMappingList;\nvar CommandTriggerMap_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/CommandTriggerMap\");\nexports.CommandTriggerMap = CommandTriggerMap_1.CommandTriggerMap;\nvar NullCommandTrigger_1 = require(\"./robotlegs/bender/extensions/commandCenter/impl/NullCommandTrigger\");\nexports.NullCommandTrigger = NullCommandTrigger_1.NullCommandTrigger;\n// DirectCommandMap\nvar IDirectCommandMap_1 = require(\"./robotlegs/bender/extensions/directCommandMap/api/IDirectCommandMap\");\nexports.IDirectCommandMap = IDirectCommandMap_1.IDirectCommandMap;\nvar DirectCommandMap_1 = require(\"./robotlegs/bender/extensions/directCommandMap/impl/DirectCommandMap\");\nexports.DirectCommandMap = DirectCommandMap_1.DirectCommandMap;\nvar DirectCommandMapper_1 = require(\"./robotlegs/bender/extensions/directCommandMap/impl/DirectCommandMapper\");\nexports.DirectCommandMapper = DirectCommandMapper_1.DirectCommandMapper;\nvar DirectCommandMapExtension_1 = require(\"./robotlegs/bender/extensions/directCommandMap/DirectCommandMapExtension\");\nexports.DirectCommandMapExtension = DirectCommandMapExtension_1.DirectCommandMapExtension;\n// EnhancedLogging\nvar ConsoleLogTarget_1 = require(\"./robotlegs/bender/extensions/enhancedLogging/impl/ConsoleLogTarget\");\nexports.ConsoleLogTarget = ConsoleLogTarget_1.ConsoleLogTarget;\nvar LogMessageParser_1 = require(\"./robotlegs/bender/extensions/enhancedLogging/impl/LogMessageParser\");\nexports.LogMessageParser = LogMessageParser_1.LogMessageParser;\nvar ConsoleLoggingExtension_1 = require(\"./robotlegs/bender/extensions/enhancedLogging/ConsoleLoggingExtension\");\nexports.ConsoleLoggingExtension = ConsoleLoggingExtension_1.ConsoleLoggingExtension;\nvar InjectableLoggerExtension_1 = require(\"./robotlegs/bender/extensions/enhancedLogging/InjectableLoggerExtension\");\nexports.InjectableLoggerExtension = InjectableLoggerExtension_1.InjectableLoggerExtension;\n// EventCommandMap\nvar IEventCommandMap_1 = require(\"./robotlegs/bender/extensions/eventCommandMap/api/IEventCommandMap\");\nexports.IEventCommandMap = IEventCommandMap_1.IEventCommandMap;\nvar EventCommandMap_1 = require(\"./robotlegs/bender/extensions/eventCommandMap/impl/EventCommandMap\");\nexports.EventCommandMap = EventCommandMap_1.EventCommandMap;\nvar EventCommandTrigger_1 = require(\"./robotlegs/bender/extensions/eventCommandMap/impl/EventCommandTrigger\");\nexports.EventCommandTrigger = EventCommandTrigger_1.EventCommandTrigger;\nvar EventCommandMapExtension_1 = require(\"./robotlegs/bender/extensions/eventCommandMap/EventCommandMapExtension\");\nexports.EventCommandMapExtension = EventCommandMapExtension_1.EventCommandMapExtension;\n// EventDispatcher\nvar EventRelay_1 = require(\"./robotlegs/bender/extensions/eventDispatcher/impl/EventRelay\");\nexports.EventRelay = EventRelay_1.EventRelay;\nvar LifecycleEventRelay_1 = require(\"./robotlegs/bender/extensions/eventDispatcher/impl/LifecycleEventRelay\");\nexports.LifecycleEventRelay = LifecycleEventRelay_1.LifecycleEventRelay;\nvar EventDispatcherExtension_1 = require(\"./robotlegs/bender/extensions/eventDispatcher/EventDispatcherExtension\");\nexports.EventDispatcherExtension = EventDispatcherExtension_1.EventDispatcherExtension;\n// LocalEventMap\nvar IEventMap_1 = require(\"./robotlegs/bender/extensions/localEventMap/api/IEventMap\");\nexports.IEventMap = IEventMap_1.IEventMap;\nvar DomEventMapConfig_1 = require(\"./robotlegs/bender/extensions/localEventMap/impl/DomEventMapConfig\");\nexports.DomEventMapConfig = DomEventMapConfig_1.DomEventMapConfig;\nvar EventMap_1 = require(\"./robotlegs/bender/extensions/localEventMap/impl/EventMap\");\nexports.EventMap = EventMap_1.EventMap;\nvar EventMapConfig_1 = require(\"./robotlegs/bender/extensions/localEventMap/impl/EventMapConfig\");\nexports.EventMapConfig = EventMapConfig_1.EventMapConfig;\nvar LocalEventMapExtension_1 = require(\"./robotlegs/bender/extensions/localEventMap/LocalEventMapExtension\");\nexports.LocalEventMapExtension = LocalEventMapExtension_1.LocalEventMapExtension;\nvar TypeFilter_1 = require(\"./robotlegs/bender/extensions/matching/TypeFilter\");\nexports.TypeFilter = TypeFilter_1.TypeFilter;\nvar TypeMatcher_1 = require(\"./robotlegs/bender/extensions/matching/TypeMatcher\");\nexports.TypeMatcher = TypeMatcher_1.TypeMatcher;\nvar TypeMatcherError_1 = require(\"./robotlegs/bender/extensions/matching/TypeMatcherError\");\nexports.TypeMatcherError = TypeMatcherError_1.TypeMatcherError;\n// Matching helpers\nvar instanceOfType_1 = require(\"./robotlegs/bender/extensions/matching/instanceOfType\");\nexports.instanceOfType = instanceOfType_1.instanceOfType;\nvar isInstanceOfType_1 = require(\"./robotlegs/bender/extensions/matching/isInstanceOfType\");\nexports.isInstanceOfType = isInstanceOfType_1.isInstanceOfType;\n/**\n * Bundles\n */\nvar MVCSBundle_1 = require(\"./robotlegs/bender/bundles/mvcs/MVCSBundle\");\nexports.MVCSBundle = MVCSBundle_1.MVCSBundle;\n//# sourceMappingURL=index.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DirectCommandMapExtension_1 = require(\"../../extensions/directCommandMap/DirectCommandMapExtension\");\nvar InjectableLoggerExtension_1 = require(\"../../extensions/enhancedLogging/InjectableLoggerExtension\");\nvar ConsoleLoggingExtension_1 = require(\"../../extensions/enhancedLogging/ConsoleLoggingExtension\");\nvar EventCommandMapExtension_1 = require(\"../../extensions/eventCommandMap/EventCommandMapExtension\");\nvar EventDispatcherExtension_1 = require(\"../../extensions/eventDispatcher/EventDispatcherExtension\");\nvar LocalEventMapExtension_1 = require(\"../../extensions/localEventMap/LocalEventMapExtension\");\n/**\n * For that Classic Robotlegs flavour\n *\n * <p>This bundle installs a number of extensions commonly used\n * in typical Robotlegs applications and modules.</p>\n */\nvar MVCSBundle = /** @class */ (function () {\n    function MVCSBundle() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    MVCSBundle.prototype.extend = function (context) {\n        context.install(ConsoleLoggingExtension_1.ConsoleLoggingExtension, InjectableLoggerExtension_1.InjectableLoggerExtension, EventDispatcherExtension_1.EventDispatcherExtension, DirectCommandMapExtension_1.DirectCommandMapExtension, EventCommandMapExtension_1.EventCommandMapExtension, LocalEventMapExtension_1.LocalEventMapExtension);\n    };\n    return MVCSBundle;\n}());\nexports.MVCSBundle = MVCSBundle;\n//# sourceMappingURL=MVCSBundle.js.map","\"use strict\";\n//////////////////////////////////////////////////////////////////////////////////////\n//\n//  Copyright (c) 2014-present, Egret Technology.\n//  All rights reserved.\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Egret nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY EGRET AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n//  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n//  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n//  IN NO EVENT SHALL EGRET AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n//  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;LOSS OF USE, DATA,\n//  OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n//  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n//  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n//  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//////////////////////////////////////////////////////////////////////////////////////\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IEventDispatcher = Symbol(\"IEventDispatcher\");\n//# sourceMappingURL=IEventDispatcher.js.map","\"use strict\";\n//////////////////////////////////////////////////////////////////////////////////////\n//\n//  Copyright (c) 2014-present, Egret Technology.\n//  All rights reserved.\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Egret nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY EGRET AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n//  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n//  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n//  IN NO EVENT SHALL EGRET AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n//  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;LOSS OF USE, DATA,\n//  OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n//  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n//  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n//  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//////////////////////////////////////////////////////////////////////////////////////\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The Event class is used as the base class for the creation of Event objects, which are passed as parameters to event\n * listeners when an event occurs.The properties of the Event class carry basic information about an event, such as\n * the event's type or whether the event's default behavior can be canceled. For many events, such as the events represented\n * by the Event class constants, this basic information is sufficient. Other events, however, may require more detailed\n * information. Events associated with a touch tap, for example, need to include additional information about the\n * location of the touch event. You can pass such additional information to event listeners by extending the Event class,\n * which is what the TouchEvent class does. Egret API defines several Event subclasses for common events that require\n * additional information. Events associated with each of the Event subclasses are described in the documentation for\n * each class.The methods of the Event class can be used in event listener functions to affect the behavior of the event\n * object. Some events have an associated default behavior. Your event listener can cancel this behavior by calling the\n * preventDefault() method. You can also make the current event listener the last one to process an event by calling\n * the stopPropagation() or stopImmediatePropagation() method.\n * @see egret.EventDispatcher\n * @version Egret 2.4\n * @platform Web,Native\n * @includeExample egret/events/Event.ts\n * @see http://edn.egret.com/cn/docs/page/798 取消触摸事件\n * @language en_US\n */\nvar Event = /** @class */ (function () {\n    /**\n     * Creates an Event object to pass as a parameter to event listeners.\n     * @param type  The type of the event, accessible as Event.type.\n     * @param bubbles  Determines whether the Event object participates in the bubbling stage of the event flow. The default value is false.\n     * @param cancelable Determines whether the Event object can be canceled. The default values is false.\n     * @param data the optional data associated with this event\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    function Event(type, bubbles, cancelable, data) {\n        /**\n         * @private\n         */\n        this._isDefaultPrevented = false;\n        /**\n         * @private\n         */\n        this._isPropagationStopped = false;\n        /**\n         * @private\n         */\n        this._isPropagationImmediateStopped = false;\n        this._type = type;\n        this._bubbles = !!bubbles;\n        this._cancelable = !!cancelable;\n        this._data = data;\n    }\n    /**\n     * Cancels an event's default behavior if that behavior can be canceled.Many events have associated behaviors that\n     * are carried out by default. For example, if a user types a character into a text input, the default behavior\n     * is that the character is displayed in the text input. Because the TextEvent.TEXT_INPUT event's default behavior\n     * can be canceled, you can use the preventDefault() method to prevent the character from appearing.\n     * You can use the Event.cancelable property to check whether you can prevent the default behavior associated with\n     * a particular event. If the value of Event.cancelable is true, then preventDefault() can be used to cancel the event;\n     * otherwise, preventDefault() has no effect.\n     * @see #cancelable\n     * @see #isDefaultPrevented\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    Event.prototype.preventDefault = function () {\n        if (this._cancelable) {\n            this._isDefaultPrevented = true;\n        }\n    };\n    /**\n     * Prevents processing of any event listeners in nodes subsequent to the current node in the event flow. This method\n     * does not affect any event listeners in the current node (currentTarget). In contrast, the stopImmediatePropagation()\n     * method prevents processing of event listeners in both the current node and subsequent nodes. Additional calls to this\n     * method have no effect. This method can be called in any phase of the event flow.<br/>\n     * Note: This method does not cancel the behavior associated with this event; see preventDefault() for that functionality.\n     * @see #stopImmediatePropagation()\n     * @see #preventDefault()\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    Event.prototype.stopPropagation = function () {\n        if (this._bubbles) {\n            this._isPropagationStopped = true;\n        }\n    };\n    /**\n     * Prevents processing of any event listeners in the current node and any subsequent nodes in the event flow.\n     * This method takes effect immediately, and it affects event listeners in the current node. In contrast, the\n     * stopPropagation() method doesn't take effect until all the event listeners in the current node finish processing.<br/>\n     * Note: This method does not cancel the behavior associated with this event; see preventDefault() for that functionality.\n     * @see #stopPropagation()\n     * @see #preventDefault()\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    Event.prototype.stopImmediatePropagation = function () {\n        if (this._bubbles) {\n            this._isPropagationImmediateStopped = true;\n        }\n    };\n    Object.defineProperty(Event.prototype, \"type\", {\n        /**\n         * The type of event. The type is case-sensitive.\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"bubbles\", {\n        /**\n         * Indicates whether an event is a bubbling event.\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._bubbles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"cancelable\", {\n        /**\n         * Indicates whether the behavior associated with the event can be prevented. If the behavior can be\n         * canceled, this value is true; otherwise it is false.\n         * @see #preventDefault()\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._cancelable;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"isDefaultPrevented\", {\n        /**\n         * Checks whether the preventDefault() method has been called on the event. If the preventDefault() method has been\n         * called, returns true; otherwise, returns false.\n         * @returns If preventDefault() has been called, returns true; otherwise, returns false.\n         * @see #preventDefault()\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._isDefaultPrevented;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"isPropagationStopped\", {\n        get: function () {\n            return this._isPropagationStopped;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"isPropagationImmediateStopped\", {\n        get: function () {\n            return this._isPropagationImmediateStopped;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"currentTarget\", {\n        /**\n         * The object that is actively processing the Event object with an event listener. For example, if a\n         * user clicks an OK button, the current target could be the node containing that button or one of its ancestors\n         * that has registered an event listener for that event.\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._currentTarget;\n        },\n        set: function (value) {\n            this._currentTarget = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"target\", {\n        /**\n         * The event target. This property contains the target node. For example, if a user clicks an OK button,\n         * the target node is the display list node containing that button.\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._target;\n        },\n        set: function (value) {\n            this._target = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"data\", {\n        /**\n         * the optional data associated with this event\n         * @version Egret 2.4\n         * @platform Web,Native\n         * @language en_US\n         */\n        get: function () {\n            return this._data;\n        },\n        set: function (value) {\n            this._data = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Event;\n}());\nexports.Event = Event;\n//# sourceMappingURL=Event.js.map","\"use strict\";\n//////////////////////////////////////////////////////////////////////////////////////\n//\n//  Copyright (c) 2014-present, Egret Technology.\n//  All rights reserved.\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Egret nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY EGRET AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n//  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n//  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n//  IN NO EVENT SHALL EGRET AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n//  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;LOSS OF USE, DATA,\n//  OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n//  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n//  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n//  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//////////////////////////////////////////////////////////////////////////////////////\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\nvar IEventDispatcher_1 = require(\"../api/IEventDispatcher\");\nvar Event_1 = require(\"../impl/Event\");\nvar ONCE_EVENT_LIST = [];\n/**\n * The EventDispatcher class is the base class for all classes that dispatchEvent events. The EventDispatcher class implements\n * the IEventDispatcher interface and is the base class for the DisplayObject class. The EventDispatcher class allows\n * any object on the display list to be an event target and as such, to use the methods of the IEventDispatcher interface.\n * Event targets are an important part of the Egret event model. The event target serves as the focal point for how events\n * flow through the display list hierarchy. When an event such as a touch tap, Egret dispatches an event object into the\n * event flow from the root of the display list. The event object then makes its way through the display list until it\n * reaches the event target, at which point it begins its return trip through the display list. This round-trip journey\n * to the event target is conceptually divided into three phases: <br/>\n * the capture phase comprises the journey from the root to the last node before the event target's node, the target\n * phase comprises only the event target node, and the bubbling phase comprises any subsequent nodes encountered on\n * the return trip to the root of the display list. In general, the easiest way for a user-defined class to gain event\n * dispatching capabilities is to extend EventDispatcher. If this is impossible (that is, if the class is already extending\n * another class), you can instead implement the IEventDispatcher interface, create an EventDispatcher member, and write simple\n * hooks to route calls into the aggregated EventDispatcher.\n * @see egret.IEventDispatcher\n * @version Egret 2.4\n * @platform Web,Native\n * @includeExample egret/events/EventDispatcher.ts\n * @language en_US\n */\nvar EventDispatcher = /** @class */ (function () {\n    /**\n     * create an instance of the EventDispatcher class.\n     * @param target The target object for events dispatched to the EventDispatcher object. This parameter is used when\n     * the EventDispatcher instance is aggregated by a class that implements IEventDispatcher; it is necessary so that the\n     * containing object can be the target for events. Do not use this parameter in simple cases in which a class extends EventDispatcher.\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    function EventDispatcher(target) {\n        if (target === void 0) { target = null; }\n        this._eventDispatcher = {\n            0: target ? target : this,\n            1: {},\n            2: {},\n            3: 0\n        };\n    }\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.addEventListener = function (type, listener, thisObject, useCapture, priority) {\n        this._addListener(type, listener, thisObject, useCapture, priority);\n    };\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.once = function (type, listener, thisObject, useCapture, priority) {\n        this._addListener(type, listener, thisObject, useCapture, priority, true);\n    };\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.removeEventListener = function (type, listener, thisObject, useCapture) {\n        var values = this._eventDispatcher;\n        var eventMap = this._getEventMap(useCapture);\n        var list = eventMap[type];\n        if (!list) {\n            return;\n        }\n        if (values[3 /* notifyLevel */] !== 0) {\n            eventMap[type] = list = list.concat();\n        }\n        this._removeEventBin(list, listener, thisObject);\n        if (list.length === 0) {\n            eventMap[type] = null;\n        }\n    };\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.hasEventListener = function (type) {\n        var values = this._eventDispatcher;\n        return !!(values[1 /* eventsMap */][type] || values[2 /* captureEventsMap */][type]);\n    };\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.willTrigger = function (type) {\n        return this.hasEventListener(type);\n    };\n    /**\n     * @inheritDoc\n     * @version Egret 2.4\n     * @platform Web,Native\n     */\n    EventDispatcher.prototype.dispatchEvent = function (event) {\n        event.currentTarget = this._eventDispatcher[0 /* eventTarget */];\n        event.target = event.currentTarget;\n        return this._notifyListener(event, false);\n    };\n    /**\n     * Distribute a specified event parameters.\n     * @param type The type of the event. Event listeners can access this information through the inherited type property.\n     * @param bubbles Determines whether the Event object bubbles. Event listeners can access this information through\n     * the inherited bubbles property.\n     * @param data {any} data\n     * @param cancelable Determines whether the Event object can be canceled. The default values is false.\n     * @version Egret 2.4\n     * @platform Web,Native\n     * @language en_US\n     */\n    EventDispatcher.prototype.dispatchEventWith = function (type, bubbles, data, cancelable) {\n        if (bubbles || this.hasEventListener(type)) {\n            var event_1 = new Event_1.Event(type, bubbles, cancelable, data);\n            var result = this.dispatchEvent(event_1);\n            return result;\n        }\n        return true;\n    };\n    /**\n     * @private\n     *\n     * @param useCapture\n     */\n    EventDispatcher.prototype._getEventMap = function (useCapture) {\n        var values = this._eventDispatcher;\n        var eventMap = useCapture ? values[2 /* captureEventsMap */] : values[1 /* eventsMap */];\n        return eventMap;\n    };\n    /**\n     * @private\n     */\n    EventDispatcher.prototype._addListener = function (type, listener, thisObject, useCapture, priority, dispatchOnce) {\n        var values = this._eventDispatcher;\n        var eventMap = this._getEventMap(useCapture);\n        var list = eventMap[type];\n        if (!list) {\n            list = eventMap[type] = [];\n        }\n        else if (values[3 /* notifyLevel */] !== 0) {\n            eventMap[type] = list = list.concat();\n        }\n        this._insertEventBin(list, type, listener, thisObject, useCapture, priority, dispatchOnce);\n    };\n    /**\n     * @private\n     */\n    EventDispatcher.prototype._insertEventBin = function (list, type, listener, thisObject, useCapture, priority, dispatchOnce) {\n        priority = priority || 0;\n        var insertIndex = -1;\n        var length = list.length;\n        for (var i = 0; i < length; i++) {\n            var bin = list[i];\n            if (bin.listener === listener && bin.thisObject === thisObject && bin.target === this) {\n                return false;\n            }\n            if (insertIndex === -1 && bin.priority < priority) {\n                insertIndex = i;\n            }\n        }\n        var eventBin = {\n            type: type,\n            listener: listener,\n            thisObject: thisObject,\n            priority: priority,\n            target: this,\n            useCapture: useCapture,\n            dispatchOnce: !!dispatchOnce\n        };\n        if (insertIndex !== -1) {\n            list.splice(insertIndex, 0, eventBin);\n        }\n        else {\n            list.push(eventBin);\n        }\n        return true;\n    };\n    /**\n     * @private\n     */\n    EventDispatcher.prototype._removeEventBin = function (list, listener, thisObject) {\n        var length = list.length;\n        for (var i = 0; i < length; i++) {\n            var bin = list[i];\n            if (bin.listener === listener && bin.thisObject === thisObject && bin.target === this) {\n                list.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @private\n     */\n    EventDispatcher.prototype._notifyListener = function (event, capturePhase) {\n        var values = this._eventDispatcher;\n        var eventMap = this._getEventMap(capturePhase);\n        var list = eventMap[event.type];\n        if (!list) {\n            return true;\n        }\n        var length = list.length;\n        if (length === 0) {\n            return true;\n        }\n        var onceList = ONCE_EVENT_LIST;\n        values[3 /* notifyLevel */]++;\n        for (var i = 0; i < length; i++) {\n            var eventBin = list[i];\n            eventBin.listener.call(eventBin.thisObject, event);\n            if (eventBin.dispatchOnce) {\n                onceList.push(eventBin);\n            }\n            if (event.isPropagationImmediateStopped) {\n                break;\n            }\n        }\n        values[3 /* notifyLevel */]--;\n        while (onceList.length) {\n            var eventBin = onceList.pop();\n            eventBin.target.removeEventListener(eventBin.type, eventBin.listener, eventBin.thisObject, eventBin.useCapture);\n        }\n        return !event.isDefaultPrevented;\n    };\n    EventDispatcher = tslib_1.__decorate([\n        inversify_1.injectable(),\n        tslib_1.__metadata(\"design:paramtypes\", [Object])\n    ], EventDispatcher);\n    return EventDispatcher;\n}());\nexports.EventDispatcher = EventDispatcher;\n//# sourceMappingURL=EventDispatcher.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar CommandPayload = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a command payload\n     * @param values Optional values\n     * @param classes Optional classes\n     */\n    function CommandPayload(values, classes) {\n        this._values = values;\n        this._classes = classes;\n    }\n    Object.defineProperty(CommandPayload.prototype, \"values\", {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        /**\n         * Ordered list of values\n         */\n        get: function () {\n            return this._values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandPayload.prototype, \"classes\", {\n        /**\n         * Ordered list of value classes\n         */\n        get: function () {\n            return this._classes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandPayload.prototype, \"length\", {\n        /**\n         * The number of payload items\n         */\n        get: function () {\n            return this._classes ? this._classes.length : 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Adds an item to this payload\n     * @param payloadValue The value\n     * @param payloadClass The class of the value\n     * @return Self\n     */\n    CommandPayload.prototype.addPayload = function (payloadValue, payloadClass) {\n        if (this._values) {\n            this._values.push(payloadValue);\n        }\n        else {\n            this._values = [payloadValue];\n        }\n        if (this._classes) {\n            this._classes.push(payloadClass);\n        }\n        else {\n            this._classes = [payloadClass];\n        }\n        return this;\n    };\n    /**\n     * Does this payload have any items?\n     * @return boolean\n     */\n    CommandPayload.prototype.hasPayload = function () {\n        var payload = false;\n        if (this._values && this._classes) {\n            payload = this._values.length > 0 && this._classes.length > 0 && this._values.length === this._classes.length;\n        }\n        return payload;\n    };\n    return CommandPayload;\n}());\nexports.CommandPayload = CommandPayload;\n//# sourceMappingURL=CommandPayload.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Mandatory Command interface.\n *\n * <p>Note, you do not need to implement this interface,\n * any class with an execute method can be used.</p>\n */\nexports.ICommand = Symbol(\"ICommand\");\n//# sourceMappingURL=ICommand.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Abstract command implementation\n *\n * <p>Please note: you do not have to extend this class.\n * Any class with an execute method can be used.</p>\n */\nvar Command = /** @class */ (function () {\n    function Command() {\n    }\n    return Command;\n}());\nexports.Command = Command;\n//# sourceMappingURL=Command.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar applyHooks_1 = require(\"../../../framework/impl/applyHooks\");\nvar guardsApprove_1 = require(\"../../../framework/impl/guardsApprove\");\nvar instantiateUnmapped_1 = require(\"../../../framework/impl/instantiateUnmapped\");\n/**\n * @private\n */\nvar CommandExecutor = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Command Executor\n     * @param injector The Injector to use. A child injector will be created from it.\n     * @param removeMapping Remove mapping handler (optional)\n     * @param handleResult Result handler (optional)\n     */\n    function CommandExecutor(injector, removeMapping, handleResult) {\n        this._injector = injector.createChild();\n        this._removeMapping = removeMapping;\n        this._handleResult = handleResult;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    CommandExecutor.prototype.executeCommands = function (mappings, payload) {\n        var length = mappings.length;\n        for (var i = 0; i < length; i++) {\n            this.executeCommand(mappings[i], payload);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandExecutor.prototype.executeCommand = function (mapping, payload) {\n        var hasPayload = payload && payload.hasPayload();\n        var injectionEnabled = hasPayload && mapping.payloadInjectionEnabled;\n        var command = null;\n        if (injectionEnabled) {\n            this.mapPayload(payload);\n        }\n        if (mapping.guards.length === 0 || guardsApprove_1.guardsApprove(mapping.guards, this._injector)) {\n            var commandClass = mapping.commandClass;\n            if (mapping.fireOnce && this._removeMapping) {\n                this._removeMapping(mapping);\n            }\n            command = instantiateUnmapped_1.instantiateUnmapped(this._injector, commandClass);\n            if (mapping.hooks.length > 0) {\n                this._injector.bind(commandClass).toConstantValue(command);\n                applyHooks_1.applyHooks(mapping.hooks, this._injector);\n                this._injector.unbind(commandClass);\n            }\n        }\n        if (injectionEnabled) {\n            this.unmapPayload(payload);\n        }\n        if (command) {\n            var executeMethod = command.execute.bind(command);\n            var result = hasPayload && executeMethod.length > 0 ? executeMethod.apply(command, payload.values) : executeMethod();\n            if (this._handleResult) {\n                this._handleResult(result, command, mapping);\n            }\n        }\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    CommandExecutor.prototype.mapPayload = function (payload) {\n        var i = payload.length;\n        while (i--) {\n            this._injector.bind(payload.classes[i]).toConstantValue(payload.values[i]);\n        }\n    };\n    CommandExecutor.prototype.unmapPayload = function (payload) {\n        var i = payload.length;\n        while (i--) {\n            this._injector.unbind(payload.classes[i]);\n        }\n    };\n    return CommandExecutor;\n}());\nexports.CommandExecutor = CommandExecutor;\n//# sourceMappingURL=CommandExecutor.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CommandMapping_1 = require(\"./CommandMapping\");\n/**\n * @private\n */\nvar CommandMapper = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Command Mapper\n     * @param mappings The command mapping list to add mappings to\n     */\n    function CommandMapper(mappings) {\n        this._mappings = mappings;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.toCommand = function (commandClass) {\n        this._mapping = new CommandMapping_1.CommandMapping(commandClass);\n        this._mappings.addMapping(this._mapping);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.fromCommand = function (commandClass) {\n        this._mappings.removeMappingFor(commandClass);\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.fromAll = function () {\n        this._mappings.removeAllMappings();\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.once = function (value) {\n        if (value === void 0) { value = true; }\n        this._mapping.setFireOnce(value);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.withGuards = function () {\n        var _a;\n        var guards = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            guards[_i] = arguments[_i];\n        }\n        (_a = this._mapping).addGuards.apply(_a, guards);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.withHooks = function () {\n        var _a;\n        var hooks = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            hooks[_i] = arguments[_i];\n        }\n        (_a = this._mapping).addHooks.apply(_a, hooks);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapper.prototype.withPayloadInjection = function (value) {\n        if (value === void 0) { value = true; }\n        this._mapping.setPayloadInjectionEnabled(value);\n        return this;\n    };\n    return CommandMapper;\n}());\nexports.CommandMapper = CommandMapper;\n//# sourceMappingURL=CommandMapper.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getQualifiedClassName_1 = require(\"../../../framework/impl/getQualifiedClassName\");\n/**\n * @private\n */\nvar CommandMapping = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Command Mapping\n     * @param commandClass The concrete Command class\n     */\n    function CommandMapping(commandClass) {\n        this._guards = [];\n        this._hooks = [];\n        this._fireOnce = false;\n        this._payloadInjectionEnabled = true;\n        this._commandClass = commandClass;\n    }\n    Object.defineProperty(CommandMapping.prototype, \"commandClass\", {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._commandClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandMapping.prototype, \"guards\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._guards;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandMapping.prototype, \"hooks\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._hooks;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandMapping.prototype, \"fireOnce\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._fireOnce;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommandMapping.prototype, \"payloadInjectionEnabled\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._payloadInjectionEnabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    CommandMapping.prototype.addGuards = function () {\n        var guards = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            guards[_i] = arguments[_i];\n        }\n        this._guards = this._guards.concat.apply(this._guards, guards);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapping.prototype.addHooks = function () {\n        var hooks = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            hooks[_i] = arguments[_i];\n        }\n        this._hooks = this._hooks.concat.apply(this._hooks, hooks);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapping.prototype.setFireOnce = function (value) {\n        this._fireOnce = value;\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMapping.prototype.setPayloadInjectionEnabled = function (value) {\n        this._payloadInjectionEnabled = value;\n        return this;\n    };\n    /**\n     *\n     */\n    CommandMapping.prototype.toString = function () {\n        return \"Command \" + getQualifiedClassName_1.getQualifiedClassName(this._commandClass);\n    };\n    return CommandMapping;\n}());\nexports.CommandMapping = CommandMapping;\n//# sourceMappingURL=CommandMapping.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar CommandMappingList = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Create a command mapping list\n     * @param trigger The trigger that owns this list\n     * @param processors A reference to the mapping processors for this command map\n     * @param logger Optional logger\n     */\n    function CommandMappingList(trigger, processors, logger) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._mappingsByCommand = new Map();\n        this._mappings = [];\n        this._trigger = trigger;\n        this._processors = processors;\n        this._logger = logger;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.getList = function () {\n        if (!this._sorted) {\n            this.sortMappings();\n        }\n        return this._mappings.concat();\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.withSortFunction = function (sorter) {\n        this._sorted = false;\n        this._compareFunction = sorter;\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.addMapping = function (mapping) {\n        this._sorted = false;\n        this.applyProcessors(mapping);\n        var oldMapping = this._mappingsByCommand.get(mapping.commandClass);\n        if (oldMapping) {\n            this.overwriteMapping(oldMapping, mapping);\n        }\n        else {\n            this.storeMapping(mapping);\n            if (this._mappings.length === 1) {\n                this._trigger.activate();\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.removeMapping = function (mapping) {\n        if (this._mappingsByCommand.has(mapping.commandClass)) {\n            this.deleteMapping(mapping);\n            if (this._mappings.length === 0) {\n                this._trigger.deactivate();\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.removeMappingFor = function (commandClass) {\n        var mapping = this._mappingsByCommand.get(commandClass);\n        if (mapping) {\n            this.removeMapping(mapping);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    CommandMappingList.prototype.removeAllMappings = function () {\n        if (this._mappings.length > 0) {\n            var list = this._mappings.concat();\n            var length_1 = list.length;\n            while (length_1--) {\n                this.deleteMapping(list[length_1]);\n            }\n            this._trigger.deactivate();\n        }\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    CommandMappingList.prototype.storeMapping = function (mapping) {\n        this._mappingsByCommand.set(mapping.commandClass, mapping);\n        this._mappings.push(mapping);\n        if (this._logger) {\n            this._logger.debug(\"{0} mapped to {1}\", [this._trigger, mapping]);\n        }\n    };\n    CommandMappingList.prototype.deleteMapping = function (mapping) {\n        this._mappingsByCommand.delete(mapping.commandClass);\n        this._mappings.splice(this._mappings.indexOf(mapping), 1);\n        if (this._logger) {\n            this._logger.debug(\"{0} unmapped from {1}\", [this._trigger, mapping]);\n        }\n    };\n    CommandMappingList.prototype.overwriteMapping = function (oldMapping, newMapping) {\n        if (this._logger) {\n            this._logger.warn(\"{0} already mapped to {1}\\n\" +\n                \"If you have overridden this mapping intentionally you can use 'unmap()' \" +\n                \"prior to your replacement mapping in order to avoid seeing this message.\\n\", [this._trigger, oldMapping]);\n        }\n        this.deleteMapping(oldMapping);\n        this.storeMapping(newMapping);\n    };\n    CommandMappingList.prototype.sortMappings = function () {\n        if (this._compareFunction != null) {\n            this._mappings = this._mappings.sort(this._compareFunction);\n        }\n        this._sorted = true;\n    };\n    CommandMappingList.prototype.applyProcessors = function (mapping) {\n        this._processors.forEach(function (processor) {\n            processor(mapping);\n        });\n    };\n    return CommandMappingList;\n}());\nexports.CommandMappingList = CommandMappingList;\n//# sourceMappingURL=CommandMappingList.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar CommandTriggerMap = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a command trigger map\n     * @param keyFactory Factory function to creates keys\n     * @param triggerFactory Factory function to create triggers\n     */\n    function CommandTriggerMap(keyFactory, triggerFactory) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._triggers = new Map();\n        this._keyFactory = keyFactory;\n        this._triggerFactory = triggerFactory;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    CommandTriggerMap.prototype.getTrigger = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        var key = this.getKey(params);\n        var trigger = this._triggers.get(key);\n        if (!trigger) {\n            trigger = this.createTrigger(params);\n            this._triggers.set(key, trigger);\n        }\n        return trigger;\n    };\n    /**\n     * @private\n     */\n    CommandTriggerMap.prototype.removeTrigger = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return this.destroyTrigger(this.getKey(params));\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    CommandTriggerMap.prototype.getKey = function (mapperArgs) {\n        return this._keyFactory.apply(null, mapperArgs);\n    };\n    CommandTriggerMap.prototype.createTrigger = function (mapperArgs) {\n        return this._triggerFactory.apply(null, mapperArgs);\n    };\n    CommandTriggerMap.prototype.destroyTrigger = function (key) {\n        var trigger = this._triggers.get(key);\n        if (trigger) {\n            trigger.deactivate();\n            this._triggers.delete(key);\n        }\n        return trigger;\n    };\n    return CommandTriggerMap;\n}());\nexports.CommandTriggerMap = CommandTriggerMap;\n//# sourceMappingURL=CommandTriggerMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar NullCommandTrigger = /** @class */ (function () {\n    function NullCommandTrigger() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    NullCommandTrigger.prototype.activate = function () { };\n    /**\n     * @private\n     */\n    NullCommandTrigger.prototype.deactivate = function () { };\n    return NullCommandTrigger;\n}());\nexports.NullCommandTrigger = NullCommandTrigger;\n//# sourceMappingURL=NullCommandTrigger.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IDirectCommandMap_1 = require(\"./api/IDirectCommandMap\");\nvar DirectCommandMap_1 = require(\"./impl/DirectCommandMap\");\n/**\n * Maps commands for direct (manual) execution\n */\nvar DirectCommandMapExtension = /** @class */ (function () {\n    function DirectCommandMapExtension() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapExtension.prototype.extend = function (context) {\n        context.injector.bind(IDirectCommandMap_1.IDirectCommandMap).to(DirectCommandMap_1.DirectCommandMap);\n    };\n    return DirectCommandMapExtension;\n}());\nexports.DirectCommandMapExtension = DirectCommandMapExtension;\n//# sourceMappingURL=DirectCommandMapExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Maps commands for direct (manual) execution\n */\nexports.IDirectCommandMap = Symbol(\"IDirectCommandMap\");\n//# sourceMappingURL=IDirectCommandMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\nvar IContext_1 = require(\"../../../framework/api/IContext\");\nvar CommandExecutor_1 = require(\"../../commandCenter/impl/CommandExecutor\");\nvar CommandMappingList_1 = require(\"../../commandCenter/impl/CommandMappingList\");\nvar NullCommandTrigger_1 = require(\"../../commandCenter/impl/NullCommandTrigger\");\nvar IDirectCommandMap_1 = require(\"../api/IDirectCommandMap\");\nvar DirectCommandMapper_1 = require(\"./DirectCommandMapper\");\n/**\n * Maps commands for direct (manual) execution\n */\nvar DirectCommandMap = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Direct Command Map\n     * @param context The context that owns this map\n     */\n    function DirectCommandMap(context) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._mappingProcessors = [];\n        this._context = context;\n        // Create a child injector\n        var sandboxedInjector = context.injector.createChild();\n        // allow access to this specific instance in the commands\n        sandboxedInjector.bind(IDirectCommandMap_1.IDirectCommandMap).toConstantValue(this);\n        this._mappings = new CommandMappingList_1.CommandMappingList(new NullCommandTrigger_1.NullCommandTrigger(), this._mappingProcessors, context.getLogger(this));\n        this._executor = new CommandExecutor_1.CommandExecutor(sandboxedInjector, this._mappings.removeMapping.bind(this._mappings));\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMap.prototype.map = function (commandClass) {\n        return new DirectCommandMapper_1.DirectCommandMapper(this._executor, this._mappings, commandClass);\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMap.prototype.detain = function (command) {\n        this._context.detain(command);\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMap.prototype.release = function (command) {\n        this._context.release(command);\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMap.prototype.execute = function (payload) {\n        this._executor.executeCommands(this._mappings.getList(), payload);\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMap.prototype.addMappingProcessor = function (handler) {\n        if (this._mappingProcessors.indexOf(handler) === -1) {\n            this._mappingProcessors.push(handler);\n        }\n        return this;\n    };\n    DirectCommandMap = tslib_1.__decorate([\n        inversify_1.injectable(),\n        tslib_1.__param(0, inversify_1.inject(IContext_1.IContext)),\n        tslib_1.__metadata(\"design:paramtypes\", [Object])\n    ], DirectCommandMap);\n    return DirectCommandMap;\n}());\nexports.DirectCommandMap = DirectCommandMap;\n//# sourceMappingURL=DirectCommandMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CommandMapping_1 = require(\"../../commandCenter/impl/CommandMapping\");\n/**\n * @private\n */\nvar DirectCommandMapper = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function DirectCommandMapper(executor, mappings, commandClass) {\n        this._executor = executor;\n        this._mappings = mappings;\n        this._mapping = new CommandMapping_1.CommandMapping(commandClass);\n        this._mapping.setFireOnce(true);\n        this._mappings.addMapping(this._mapping);\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapper.prototype.withGuards = function () {\n        var _a;\n        var guards = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            guards[_i] = arguments[_i];\n        }\n        (_a = this._mapping).addGuards.apply(_a, guards);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapper.prototype.withHooks = function () {\n        var _a;\n        var hooks = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            hooks[_i] = arguments[_i];\n        }\n        (_a = this._mapping).addHooks.apply(_a, hooks);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapper.prototype.withPayloadInjection = function (value) {\n        if (value === void 0) { value = true; }\n        this._mapping.setPayloadInjectionEnabled(value);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapper.prototype.execute = function (payload) {\n        this._executor.executeCommands(this._mappings.getList(), payload);\n    };\n    /**\n     * @inheritDoc\n     */\n    DirectCommandMapper.prototype.map = function (commandClass) {\n        return new DirectCommandMapper(this._executor, this._mappings, commandClass);\n    };\n    return DirectCommandMapper;\n}());\nexports.DirectCommandMapper = DirectCommandMapper;\n//# sourceMappingURL=DirectCommandMapper.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConsoleLogTarget_1 = require(\"./impl/ConsoleLogTarget\");\n/**\n * Adds a TraceLogTarget to the context\n */\nvar ConsoleLoggingExtension = /** @class */ (function () {\n    function ConsoleLoggingExtension() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    ConsoleLoggingExtension.prototype.extend = function (context) {\n        context.addLogTarget(new ConsoleLogTarget_1.ConsoleLogTarget(context));\n    };\n    return ConsoleLoggingExtension;\n}());\nexports.ConsoleLoggingExtension = ConsoleLoggingExtension;\n//# sourceMappingURL=ConsoleLoggingExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ILogger_1 = require(\"../../framework/api/ILogger\");\n/**\n * Allows you to @inject unique loggers into your objects.\n *\n * There are two ways to inject the logger on the constructor of your class:\n *\n * * Using the literal string \"ILogger\":\n *\n * <code>\n *     constructor( @inject(\"ILogger\") logger: ILogger ) { ... }\n * </code>\n *\n * * Using the ILogger Symbol:\n *\n * <code>\n *     constructor( @inject(ILogger) logger: ILogger ) { ... }\n * </code>\n */\nvar InjectableLoggerExtension = /** @class */ (function () {\n    function InjectableLoggerExtension() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    InjectableLoggerExtension.prototype.extend = function (context) {\n        // Map the literal string \"ILogger\"\n        context.injector\n            .bind(\"ILogger\")\n            .toDynamicValue(function () {\n            return context.getLogger(null);\n        })\n            .onActivation(function (ctx, logger) {\n            logger.source = ctx.plan.rootRequest.serviceIdentifier;\n            return logger;\n        });\n        // Map the Symbol ILogger\n        context.injector\n            .bind(ILogger_1.ILogger)\n            .toDynamicValue(function () {\n            return context.getLogger(null);\n        })\n            .onActivation(function (ctx, logger) {\n            logger.source = ctx.plan.rootRequest.serviceIdentifier;\n            return logger;\n        });\n    };\n    return InjectableLoggerExtension;\n}());\nexports.InjectableLoggerExtension = InjectableLoggerExtension;\n//# sourceMappingURL=InjectableLoggerExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel_1 = require(\"../../../framework/api/LogLevel\");\nvar LogMessageParser_1 = require(\"./LogMessageParser\");\n/**\n * A simple trace logger\n * @private\n */\nvar ConsoleLogTarget = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Trace Log Target\n     * @param context Context\n     */\n    function ConsoleLogTarget(context) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._messageParser = new LogMessageParser_1.LogMessageParser();\n        this._context = context;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    ConsoleLogTarget.prototype.log = function (source, level, timestamp, message, params) {\n        if (this._context.logLevel < level) {\n            return;\n        }\n        switch (level) {\n            case LogLevel_1.LogLevel.DEBUG:\n                console.log(timestamp, this._context, source, this._messageParser.parseMessage(message, params));\n                break;\n            case LogLevel_1.LogLevel.INFO:\n                console.info(timestamp, this._context, source, this._messageParser.parseMessage(message, params));\n                break;\n            case LogLevel_1.LogLevel.WARN:\n                console.warn(timestamp, this._context, source, this._messageParser.parseMessage(message, params));\n                break;\n            case LogLevel_1.LogLevel.ERROR:\n                console.error(timestamp, this._context, source, this._messageParser.parseMessage(message, params));\n                break;\n            case LogLevel_1.LogLevel.FATAL:\n                console.error(timestamp, this._context, source, this._messageParser.parseMessage(message, params));\n                break;\n        }\n    };\n    return ConsoleLogTarget;\n}());\nexports.ConsoleLogTarget = ConsoleLogTarget;\n//# sourceMappingURL=ConsoleLogTarget.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar LogMessageParser = /** @class */ (function () {\n    function LogMessageParser() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Parse a parametrized message\n     *\n     * @param message The message string\n     * @param params The parameter values\n     * @return The parsed message\n     */\n    LogMessageParser.prototype.parseMessage = function (message, params) {\n        if (params && params.length) {\n            params.forEach(function (value, index) {\n                message = message.replace(\"{\" + index + \"}\", value);\n            });\n        }\n        return message;\n    };\n    return LogMessageParser;\n}());\nexports.LogMessageParser = LogMessageParser;\n//# sourceMappingURL=LogMessageParser.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IEventCommandMap_1 = require(\"./api/IEventCommandMap\");\nvar EventCommandMap_1 = require(\"./impl/EventCommandMap\");\n/**\n * The Event Command Map allows you to bind Events to Commands\n */\nvar EventCommandMapExtension = /** @class */ (function () {\n    function EventCommandMapExtension() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    EventCommandMapExtension.prototype.extend = function (context) {\n        context.injector\n            .bind(IEventCommandMap_1.IEventCommandMap)\n            .to(EventCommandMap_1.EventCommandMap)\n            .inSingletonScope();\n    };\n    return EventCommandMapExtension;\n}());\nexports.EventCommandMapExtension = EventCommandMapExtension;\n//# sourceMappingURL=EventCommandMapExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The Event Command Map allows you to bind Events to Commands\n */\nexports.IEventCommandMap = Symbol(\"IEventCommandMap\");\n//# sourceMappingURL=IEventCommandMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\nvar IContext_1 = require(\"../../../framework/api/IContext\");\nvar IEventDispatcher_1 = require(\"../../../events/api/IEventDispatcher\");\nvar CommandTriggerMap_1 = require(\"../../commandCenter/impl/CommandTriggerMap\");\nvar EventCommandTrigger_1 = require(\"./EventCommandTrigger\");\n/**\n * @private\n */\nvar EventCommandMap = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function EventCommandMap(context, dispatcher) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._mappingProcessors = [];\n        this._injector = context.injector;\n        this._logger = context.getLogger(this);\n        this._dispatcher = dispatcher;\n        this._triggerMap = new CommandTriggerMap_1.CommandTriggerMap(this.getKey, this.createTrigger.bind(this));\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    EventCommandMap.prototype.map = function (type, eventClass) {\n        return this.getTrigger(type, eventClass).createMapper();\n    };\n    /**\n     * @inheritDoc\n     */\n    EventCommandMap.prototype.unmap = function (type, eventClass) {\n        return this.getTrigger(type, eventClass).createMapper();\n    };\n    /**\n     * @inheritDoc\n     */\n    EventCommandMap.prototype.addMappingProcessor = function (handler) {\n        if (this._mappingProcessors.indexOf(handler) === -1) {\n            this._mappingProcessors.push(handler);\n        }\n        return this;\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    EventCommandMap.prototype.getKey = function (type, eventClass) {\n        return type + eventClass;\n    };\n    EventCommandMap.prototype.getTrigger = function (type, eventClass) {\n        return this._triggerMap.getTrigger(type, eventClass);\n    };\n    EventCommandMap.prototype.createTrigger = function (type, eventClass) {\n        return new EventCommandTrigger_1.EventCommandTrigger(this._injector, this._dispatcher, type, eventClass, this._mappingProcessors, this._logger);\n    };\n    EventCommandMap = tslib_1.__decorate([\n        inversify_1.injectable(),\n        tslib_1.__param(0, inversify_1.inject(IContext_1.IContext)), tslib_1.__param(1, inversify_1.inject(IEventDispatcher_1.IEventDispatcher)),\n        tslib_1.__metadata(\"design:paramtypes\", [Object, Object])\n    ], EventCommandMap);\n    return EventCommandMap;\n}());\nexports.EventCommandMap = EventCommandMap;\n//# sourceMappingURL=EventCommandMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getQualifiedClassName_1 = require(\"../../../framework/impl/getQualifiedClassName\");\nvar isInstanceOfType_1 = require(\"../../matching/isInstanceOfType\");\nvar CommandPayload_1 = require(\"../../commandCenter/api/CommandPayload\");\nvar CommandExecutor_1 = require(\"../../commandCenter/impl/CommandExecutor\");\nvar CommandMapper_1 = require(\"../../commandCenter/impl/CommandMapper\");\nvar CommandMappingList_1 = require(\"../../commandCenter/impl/CommandMappingList\");\n/**\n * @private\n */\nvar EventCommandTrigger = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function EventCommandTrigger(injector, dispatcher, type, eventClass, processors, logger) {\n        this._dispatcher = dispatcher;\n        this._type = type;\n        this._eventClass = eventClass;\n        this._mappings = new CommandMappingList_1.CommandMappingList(this, processors ? processors : [], logger);\n        this._executor = new CommandExecutor_1.CommandExecutor(injector, this._mappings.removeMapping.bind(this._mappings));\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    EventCommandTrigger.prototype.createMapper = function () {\n        return new CommandMapper_1.CommandMapper(this._mappings);\n    };\n    /**\n     * @inheritDoc\n     */\n    EventCommandTrigger.prototype.activate = function () {\n        this._dispatcher.addEventListener(this._type, this.eventHandler, this);\n    };\n    /**\n     * @inheritDoc\n     */\n    EventCommandTrigger.prototype.deactivate = function () {\n        this._dispatcher.removeEventListener(this._type, this.eventHandler, this);\n    };\n    EventCommandTrigger.prototype.toString = function () {\n        var eventDescription = \"\";\n        eventDescription = !this._eventClass ? \"Event\" : getQualifiedClassName_1.getQualifiedClassName(this._eventClass);\n        return eventDescription + \" with selector '\" + this._type + \"'\";\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    EventCommandTrigger.prototype.eventHandler = function (event) {\n        var eventConstructor = event.constructor;\n        var payloadEventClass;\n        // not pretty, but optimized to avoid duplicate checks and shortest paths\n        if (!this._eventClass) {\n            payloadEventClass = eventConstructor;\n        }\n        else if (isInstanceOfType_1.isInstanceOfType(event, this._eventClass)) {\n            payloadEventClass = this._eventClass;\n        }\n        else {\n            return;\n        }\n        this._executor.executeCommands(this._mappings.getList(), new CommandPayload_1.CommandPayload([event], [payloadEventClass]));\n    };\n    return EventCommandTrigger;\n}());\nexports.EventCommandTrigger = EventCommandTrigger;\n//# sourceMappingURL=EventCommandTrigger.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IEventDispatcher_1 = require(\"../../events/api/IEventDispatcher\");\nvar EventDispatcher_1 = require(\"../../events/impl/EventDispatcher\");\nvar LifecycleEventRelay_1 = require(\"./impl/LifecycleEventRelay\");\n/**\n * This extension maps an IEventDispatcher into a context's injector.\n */\nvar EventDispatcherExtension = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates an Event Dispatcher Extension\n     * @param eventDispatcher Optional IEventDispatcher instance to share\n     */\n    function EventDispatcherExtension(eventDispatcher) {\n        if (eventDispatcher === void 0) { eventDispatcher = null; }\n        this._eventDispatcher = eventDispatcher || new EventDispatcher_1.EventDispatcher();\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    EventDispatcherExtension.prototype.extend = function (context) {\n        this._context = context;\n        this._context.injector.bind(IEventDispatcher_1.IEventDispatcher).toConstantValue(this._eventDispatcher);\n        this._context.beforeInitializing(this.configureLifecycleEventRelay.bind(this));\n        this._context.afterDestroying(this.destroyLifecycleEventRelay.bind(this));\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    EventDispatcherExtension.prototype.configureLifecycleEventRelay = function () {\n        this._lifecycleRelay = new LifecycleEventRelay_1.LifecycleEventRelay(this._context, this._eventDispatcher);\n    };\n    EventDispatcherExtension.prototype.destroyLifecycleEventRelay = function () {\n        this._lifecycleRelay.destroy();\n    };\n    return EventDispatcherExtension;\n}());\nexports.EventDispatcherExtension = EventDispatcherExtension;\n//# sourceMappingURL=EventDispatcherExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Relays events from a source to a destination\n */\nvar EventRelay = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Relays events from the source to the destination\n     * @param source Event Dispatcher\n     * @param destination Event Dispatcher\n     * @param types The list of event types to relay\n     */\n    function EventRelay(source, destination, types) {\n        this._source = source;\n        this._destination = destination;\n        this._types = types || [];\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Start relaying events\n     * @return Self\n     */\n    EventRelay.prototype.start = function () {\n        if (!this._active) {\n            this._active = true;\n            this.addListeners();\n        }\n        return this;\n    };\n    /**\n     * Stop relaying events\n     * @return Self\n     */\n    EventRelay.prototype.stop = function () {\n        if (this._active) {\n            this._active = false;\n            this.removeListeners();\n        }\n        return this;\n    };\n    /**\n     * Add a new event type to relay\n     * @param eventType\n     */\n    EventRelay.prototype.addType = function (eventType) {\n        this._types.push(eventType);\n        if (this._active) {\n            this.addListener(eventType);\n        }\n    };\n    /**\n     * Remove a relay event type\n     * @param eventType\n     */\n    EventRelay.prototype.removeType = function (eventType) {\n        var index = this._types.indexOf(eventType);\n        if (index > -1) {\n            this._types.splice(index, 1);\n            this.removeListener(eventType);\n        }\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    EventRelay.prototype.addListener = function (type) {\n        this._source.addEventListener(type, this._destination.dispatchEvent, this._destination);\n    };\n    EventRelay.prototype.removeListener = function (type) {\n        this._source.removeEventListener(type, this._destination.dispatchEvent, this._destination);\n    };\n    EventRelay.prototype.addListeners = function () {\n        var _this = this;\n        this._types.forEach(function (type) {\n            _this.addListener(type);\n        });\n    };\n    EventRelay.prototype.removeListeners = function () {\n        var _this = this;\n        this._types.forEach(function (type) {\n            _this.removeListener(type);\n        });\n    };\n    return EventRelay;\n}());\nexports.EventRelay = EventRelay;\n//# sourceMappingURL=EventRelay.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LifecycleEvent_1 = require(\"../../../framework/api/LifecycleEvent\");\nvar EventRelay_1 = require(\"./EventRelay\");\n/**\n * @private\n */\nvar LifecycleEventRelay = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function LifecycleEventRelay(source, destination) {\n        this._relay = new EventRelay_1.EventRelay(source, destination, LifecycleEventRelay.TYPES).start();\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    LifecycleEventRelay.prototype.destroy = function () {\n        this._relay.stop();\n        this._relay = null;\n    };\n    /*============================================================================*/\n    /* Private Static Properties                                                  */\n    /*============================================================================*/\n    LifecycleEventRelay.TYPES = [\n        LifecycleEvent_1.LifecycleEvent.STATE_CHANGE,\n        LifecycleEvent_1.LifecycleEvent.PRE_INITIALIZE,\n        LifecycleEvent_1.LifecycleEvent.INITIALIZE,\n        LifecycleEvent_1.LifecycleEvent.POST_INITIALIZE,\n        LifecycleEvent_1.LifecycleEvent.PRE_SUSPEND,\n        LifecycleEvent_1.LifecycleEvent.SUSPEND,\n        LifecycleEvent_1.LifecycleEvent.POST_SUSPEND,\n        LifecycleEvent_1.LifecycleEvent.PRE_RESUME,\n        LifecycleEvent_1.LifecycleEvent.RESUME,\n        LifecycleEvent_1.LifecycleEvent.POST_RESUME,\n        LifecycleEvent_1.LifecycleEvent.PRE_DESTROY,\n        LifecycleEvent_1.LifecycleEvent.DESTROY,\n        LifecycleEvent_1.LifecycleEvent.POST_DESTROY\n    ];\n    return LifecycleEventRelay;\n}());\nexports.LifecycleEventRelay = LifecycleEventRelay;\n//# sourceMappingURL=LifecycleEventRelay.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IEventMap_1 = require(\"./api/IEventMap\");\nvar EventMap_1 = require(\"./impl/EventMap\");\n/**\n * An Event Map keeps track of listeners and provides the ability\n * to unregister all listeners with a single method call.\n */\nvar LocalEventMapExtension = /** @class */ (function () {\n    function LocalEventMapExtension() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    LocalEventMapExtension.prototype.extend = function (context) {\n        context.injector.bind(IEventMap_1.IEventMap).to(EventMap_1.EventMap);\n    };\n    return LocalEventMapExtension;\n}());\nexports.LocalEventMapExtension = LocalEventMapExtension;\n//# sourceMappingURL=LocalEventMapExtension.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The Event Map keeps track of listeners and provides the ability\n * to unregister all listeners with a single method call.\n */\nexports.IEventMap = Symbol(\"IEventMap\");\n//# sourceMappingURL=IEventMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar DomEventMapConfig = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function DomEventMapConfig(dispatcher, eventString, listener, options) {\n        this._dispatcher = dispatcher;\n        this._eventString = eventString;\n        this._listener = listener;\n        this._options = options;\n    }\n    Object.defineProperty(DomEventMapConfig.prototype, \"dispatcher\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DomEventMapConfig.prototype, \"eventString\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._eventString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DomEventMapConfig.prototype, \"listener\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._listener;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DomEventMapConfig.prototype, \"options\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomEventMapConfig.prototype.equalTo = function (dispatcher, eventString, listener, options) {\n        return (this._dispatcher === dispatcher && this._eventString === eventString && this._listener === listener && this._options === options);\n    };\n    return DomEventMapConfig;\n}());\nexports.DomEventMapConfig = DomEventMapConfig;\n//# sourceMappingURL=DomEventMapConfig.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\nvar Event_1 = require(\"../../../events/impl/Event\");\nvar isInstanceOfType_1 = require(\"../../../extensions/matching/isInstanceOfType\");\nvar DomEventMapConfig_1 = require(\"./DomEventMapConfig\");\nvar EventMapConfig_1 = require(\"./EventMapConfig\");\n/**\n * @private\n */\nvar EventMap = /** @class */ (function () {\n    function EventMap() {\n        /*============================================================================*/\n        /* Protected Properties                                                       */\n        /*============================================================================*/\n        this._listeners = [];\n        this._suspendedListeners = [];\n        this._domListeners = [];\n        this._suspendedDomListeners = [];\n        this._suspended = false;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.mapListener = function (dispatcher, eventString, listener, thisObject, eventClass, useCapture, // Not used in browser environment\n    priority) {\n        var _this = this;\n        if (useCapture === void 0) { useCapture = false; }\n        if (priority === void 0) { priority = 0; }\n        eventClass = eventClass === undefined ? Event_1.Event : eventClass;\n        var currentListeners = this._suspended ? this._suspendedListeners : this._listeners;\n        var config;\n        var i = currentListeners.length;\n        while (i--) {\n            config = currentListeners[i];\n            if (config.equalTo(dispatcher, eventString, listener, thisObject, eventClass, useCapture)) {\n                return;\n            }\n        }\n        var callback = eventClass === Event_1.Event\n            ? listener\n            : function (event) {\n                _this.routeEventToListener(event, listener, eventClass);\n            };\n        config = new EventMapConfig_1.EventMapConfig(dispatcher, eventString, listener, thisObject, eventClass, callback, useCapture, priority);\n        currentListeners.push(config);\n        if (!this._suspended) {\n            dispatcher.addEventListener(eventString, callback, thisObject, useCapture, priority);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.unmapListener = function (dispatcher, eventString, listener, thisObject, eventClass, useCapture) {\n        if (useCapture === void 0) { useCapture = false; }\n        eventClass = eventClass !== undefined ? eventClass : Event_1.Event;\n        var currentListeners = this._suspended ? this._suspendedListeners : this._listeners;\n        var i = currentListeners.length;\n        while (i--) {\n            var config = currentListeners[i];\n            if (config.equalTo(dispatcher, eventString, listener, thisObject, eventClass, useCapture)) {\n                if (!this._suspended) {\n                    dispatcher.removeEventListener(eventString, config.callback, thisObject, useCapture);\n                }\n                currentListeners.splice(i, 1);\n                return;\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.unmapListeners = function () {\n        var currentListeners = this._suspended ? this._suspendedListeners : this._listeners;\n        var eventConfig;\n        var dispatcher;\n        while (currentListeners.length) {\n            eventConfig = currentListeners.pop();\n            if (!this._suspended) {\n                dispatcher = eventConfig.dispatcher;\n                dispatcher.removeEventListener(eventConfig.eventString, eventConfig.callback, eventConfig.thisObject, eventConfig.useCapture);\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.mapDomListener = function (dispatcher, eventString, listener, options) {\n        var currentDomListeners = this._suspended ? this._suspendedDomListeners : this._domListeners;\n        var domConfig;\n        var i = currentDomListeners.length;\n        while (i--) {\n            domConfig = currentDomListeners[i];\n            if (domConfig.equalTo(dispatcher, eventString, listener, options)) {\n                return;\n            }\n        }\n        domConfig = new DomEventMapConfig_1.DomEventMapConfig(dispatcher, eventString, listener, options);\n        currentDomListeners.push(domConfig);\n        if (!this._suspended) {\n            dispatcher.addEventListener(eventString, listener, options);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.unmapDomListener = function (dispatcher, eventString, listener, options) {\n        var currentDomListeners = this._suspended ? this._suspendedDomListeners : this._domListeners;\n        var i = currentDomListeners.length;\n        while (i--) {\n            var config = currentDomListeners[i];\n            if (config.equalTo(dispatcher, eventString, listener, options)) {\n                if (!this._suspended) {\n                    dispatcher.removeEventListener(eventString, listener, options);\n                }\n                currentDomListeners.splice(i, 1);\n                return;\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.unmapDomListeners = function () {\n        var currentDomListeners = this._suspended ? this._suspendedDomListeners : this._domListeners;\n        var domEventConfig;\n        var dispatcher;\n        while (currentDomListeners.length) {\n            domEventConfig = currentDomListeners.pop();\n            if (!this._suspended) {\n                dispatcher = domEventConfig.dispatcher;\n                dispatcher.removeEventListener(domEventConfig.eventString, domEventConfig.listener, domEventConfig.options);\n            }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.unmapAllListeners = function () {\n        this.unmapListeners();\n        this.unmapDomListeners();\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.suspend = function () {\n        var _this = this;\n        if (this._suspended) {\n            return;\n        }\n        this._suspended = true;\n        // Handle EventDispatcher's\n        var dispatcher;\n        this._listeners.forEach(function (eventConfig) {\n            dispatcher = eventConfig.dispatcher;\n            dispatcher.removeEventListener(eventConfig.eventString, eventConfig.callback, eventConfig.thisObject, eventConfig.useCapture);\n            _this._suspendedListeners.push(eventConfig);\n        });\n        this._listeners = [];\n        // Handle EventTarget's (DOM)\n        var domDispatcher;\n        this._domListeners.forEach(function (domEventConfig) {\n            domDispatcher = domEventConfig.dispatcher;\n            domDispatcher.removeEventListener(domEventConfig.eventString, domEventConfig.listener, domEventConfig.options);\n            _this._suspendedDomListeners.push(domEventConfig);\n        });\n        this._domListeners = [];\n    };\n    /**\n     * @inheritDoc\n     */\n    EventMap.prototype.resume = function () {\n        var _this = this;\n        if (!this._suspended) {\n            return;\n        }\n        this._suspended = false;\n        // Handle EventDispatcher's\n        var dispatcher;\n        this._suspendedListeners.forEach(function (eventConfig) {\n            dispatcher = eventConfig.dispatcher;\n            dispatcher.addEventListener(eventConfig.eventString, eventConfig.callback, eventConfig.thisObject, eventConfig.useCapture, eventConfig.priority);\n            _this._listeners.push(eventConfig);\n        });\n        this._suspendedListeners = [];\n        // Handle EventTarget's (DOM)\n        var domDispatcher;\n        this._suspendedDomListeners.forEach(function (domEventConfig) {\n            domDispatcher = domEventConfig.dispatcher;\n            domDispatcher.addEventListener(domEventConfig.eventString, domEventConfig.listener, domEventConfig.options);\n            _this._domListeners.push(domEventConfig);\n        });\n        this._suspendedDomListeners = [];\n    };\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n    /**\n     * Event Handler\n     *\n     * @param event The <code>Event</code>\n     * @param listener\n     * @param originalEventClass\n     */\n    EventMap.prototype.routeEventToListener = function (event, listener, originalEventClass) {\n        if (isInstanceOfType_1.isInstanceOfType(event, originalEventClass)) {\n            listener(event);\n        }\n    };\n    EventMap = tslib_1.__decorate([\n        inversify_1.injectable()\n    ], EventMap);\n    return EventMap;\n}());\nexports.EventMap = EventMap;\n//# sourceMappingURL=EventMap.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar EventMapConfig = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function EventMapConfig(dispatcher, eventString, listener, thisObject, eventClass, callback, useCapture, priority) {\n        this._dispatcher = dispatcher;\n        this._eventString = eventString;\n        this._listener = listener;\n        this._thisObject = thisObject;\n        this._eventClass = eventClass;\n        this._callback = callback;\n        this._useCapture = useCapture;\n        this._priority = priority;\n    }\n    Object.defineProperty(EventMapConfig.prototype, \"dispatcher\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"eventString\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._eventString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"listener\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._listener;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"thisObject\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._thisObject;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"eventClass\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._eventClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"callback\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._callback;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"useCapture\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._useCapture;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMapConfig.prototype, \"priority\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this._priority;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventMapConfig.prototype.equalTo = function (dispatcher, eventString, listener, thisObject, eventClass, useCapture) {\n        return (this._eventString === eventString &&\n            this._eventClass === eventClass &&\n            this._thisObject === thisObject &&\n            this._dispatcher === dispatcher &&\n            this._listener === listener &&\n            this._useCapture === useCapture);\n    };\n    return EventMapConfig;\n}());\nexports.EventMapConfig = EventMapConfig;\n//# sourceMappingURL=EventMapConfig.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getQualifiedClassName_1 = require(\"../../framework/impl/getQualifiedClassName\");\nvar isInstanceOfType_1 = require(\"./isInstanceOfType\");\n/**\n * @private\n */\nvar TypeFilter = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function TypeFilter(allOf, anyOf, noneOf) {\n        if (!allOf || !anyOf || !noneOf) {\n            throw Error(\"TypeFilter parameters can not be null\");\n        }\n        this._allOfTypes = allOf;\n        this._anyOfTypes = anyOf;\n        this._noneOfTypes = noneOf;\n    }\n    Object.defineProperty(TypeFilter.prototype, \"allOfTypes\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._allOfTypes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeFilter.prototype, \"anyOfTypes\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._anyOfTypes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeFilter.prototype, \"noneOfTypes\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._noneOfTypes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeFilter.prototype, \"descriptor\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return (this._descriptor = this._descriptor || this.createDescriptor());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    TypeFilter.prototype.matches = function (item) {\n        var i = this._allOfTypes.length;\n        while (i--) {\n            if (!isInstanceOfType_1.isInstanceOfType(item, this._allOfTypes[i])) {\n                return false;\n            }\n        }\n        i = this._noneOfTypes.length;\n        while (i--) {\n            if (isInstanceOfType_1.isInstanceOfType(item, this._noneOfTypes[i])) {\n                return false;\n            }\n        }\n        if (this._anyOfTypes.length === 0 && (this._allOfTypes.length > 0 || this._noneOfTypes.length > 0)) {\n            return true;\n        }\n        i = this._anyOfTypes.length;\n        while (i--) {\n            if (isInstanceOfType_1.isInstanceOfType(item, this._anyOfTypes[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n    TypeFilter.prototype.alphabetiseCaseInsensitiveFCQNs = function (classes) {\n        var fqcn;\n        var allFCQNs = [];\n        var iLength = classes.length;\n        for (var i = 0; i < iLength; i++) {\n            fqcn = getQualifiedClassName_1.getQualifiedClassName(classes[i]);\n            allFCQNs[allFCQNs.length] = fqcn;\n        }\n        return allFCQNs.sort(this.stringSort);\n    };\n    TypeFilter.prototype.createDescriptor = function () {\n        var allOf_FCQNs = this.alphabetiseCaseInsensitiveFCQNs(this.allOfTypes);\n        var anyOf_FCQNs = this.alphabetiseCaseInsensitiveFCQNs(this.anyOfTypes);\n        var noneOf_FQCNs = this.alphabetiseCaseInsensitiveFCQNs(this.noneOfTypes);\n        var description = [];\n        if (allOf_FCQNs.length) {\n            description.push(\"all of: \" + allOf_FCQNs.toString());\n        }\n        if (anyOf_FCQNs.length) {\n            description.push(\"any of: \" + anyOf_FCQNs.toString());\n        }\n        if (noneOf_FQCNs.length) {\n            description.push(\"none of: \" + noneOf_FQCNs.toString());\n        }\n        return description.join(\"; \");\n    };\n    TypeFilter.prototype.stringSort = function (item1, item2) {\n        var result = 0;\n        // ignore upper and lowercase\n        item1 = item1.toUpperCase();\n        item2 = item2.toUpperCase();\n        if (item1 < item2) {\n            result = -1;\n        }\n        else if (item1 > item2) {\n            result = 1;\n        }\n        return result;\n    };\n    return TypeFilter;\n}());\nexports.TypeFilter = TypeFilter;\n//# sourceMappingURL=TypeFilter.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypeFilter_1 = require(\"./TypeFilter\");\nvar TypeMatcherError_1 = require(\"./TypeMatcherError\");\n/**\n * A Type Matcher matches objects that satisfy type matching rules\n */\nvar TypeMatcher = /** @class */ (function () {\n    function TypeMatcher() {\n        /*============================================================================*/\n        /* Protected Properties                                                       */\n        /*============================================================================*/\n        this._allOfTypes = [];\n        this._anyOfTypes = [];\n        this._noneOfTypes = [];\n        this._typeFilter = null;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * All types that an item must extend or implement\n     */\n    TypeMatcher.prototype.allOf = function (type) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        if (type instanceof Array) {\n            this.pushAddedTypesTo(type.concat(types), this._allOfTypes);\n        }\n        else {\n            this.pushAddedTypesTo([type].concat(types), this._allOfTypes);\n        }\n        return this;\n    };\n    /**\n     * Any types that an item must extend or implement\n     */\n    TypeMatcher.prototype.anyOf = function (type) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        if (type instanceof Array) {\n            this.pushAddedTypesTo(type.concat(types), this._anyOfTypes);\n        }\n        else {\n            this.pushAddedTypesTo([type].concat(types), this._anyOfTypes);\n        }\n        return this;\n    };\n    /**\n     * Types that an item must not extend or implement\n     */\n    TypeMatcher.prototype.noneOf = function (type) {\n        var types = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            types[_i - 1] = arguments[_i];\n        }\n        if (type instanceof Array) {\n            this.pushAddedTypesTo(type.concat(types), this._noneOfTypes);\n        }\n        else {\n            this.pushAddedTypesTo([type].concat(types), this._noneOfTypes);\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    TypeMatcher.prototype.createTypeFilter = function () {\n        // calling this seals the matcher\n        return (this._typeFilter = this._typeFilter || this.buildTypeFilter());\n    };\n    /**\n     * Locks this type matcher\n     * @return\n     */\n    TypeMatcher.prototype.lock = function () {\n        this.createTypeFilter();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    TypeMatcher.prototype.clone = function () {\n        return new TypeMatcher()\n            .allOf(this._allOfTypes)\n            .anyOf(this._anyOfTypes)\n            .noneOf(this._noneOfTypes);\n    };\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n    TypeMatcher.prototype.buildTypeFilter = function () {\n        if (this._allOfTypes.length === 0 && this._anyOfTypes.length === 0 && this._noneOfTypes.length === 0) {\n            throw new TypeMatcherError_1.TypeMatcherError(TypeMatcherError_1.TypeMatcherError.EMPTY_MATCHER);\n        }\n        return new TypeFilter_1.TypeFilter(this._allOfTypes, this._anyOfTypes, this._noneOfTypes);\n    };\n    TypeMatcher.prototype.pushAddedTypesTo = function (types, targetSet) {\n        if (this._typeFilter) {\n            this.throwSealedMatcherError();\n        }\n        this.pushValuesToTargetSet(types, targetSet);\n    };\n    TypeMatcher.prototype.throwSealedMatcherError = function () {\n        throw new TypeMatcherError_1.TypeMatcherError(TypeMatcherError_1.TypeMatcherError.SEALED_MATCHER);\n    };\n    TypeMatcher.prototype.pushValuesToTargetSet = function (values, targetSet) {\n        values.forEach(function (type) {\n            targetSet.push(type);\n        });\n    };\n    return TypeMatcher;\n}());\nexports.TypeMatcher = TypeMatcher;\n//# sourceMappingURL=TypeMatcher.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/**\n * Type Matcher Error\n */\nvar TypeMatcherError = /** @class */ (function (_super) {\n    tslib_1.__extends(TypeMatcherError, _super);\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Type Matcher Error\n     * @param message The error message\n     */\n    function TypeMatcherError(message) {\n        return _super.call(this, message) || this;\n    }\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    TypeMatcherError.EMPTY_MATCHER = \"An empty matcher will create a filter which matches nothing. \" + \"You should specify at least one condition for the filter.\";\n    TypeMatcherError.SEALED_MATCHER = \"This matcher has been sealed and can no longer be configured.\";\n    return TypeMatcherError;\n}(Error));\nexports.TypeMatcherError = TypeMatcherError;\n//# sourceMappingURL=TypeMatcherError.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isInstanceOfType_1 = require(\"./isInstanceOfType\");\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * @private\n */\nvar InstanceOfTypeMatcher = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function InstanceOfTypeMatcher(type) {\n        this._type = type;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Verify if the given item is a instance of this type.\n     *\n     * @param { any } item The item to test\n     * @return { boolean } <code>true</code> if the item is a instance of the type,\n     * <code>false</code> otherwise.\n     */\n    InstanceOfTypeMatcher.prototype.matches = function (item) {\n        return isInstanceOfType_1.isInstanceOfType(item, this._type);\n    };\n    return InstanceOfTypeMatcher;\n}());\n/**\n * Creates a matcher that matches objects of the given type\n * @param type The type to match\n * @return A matcher\n */\nfunction instanceOfType(type) {\n    return new InstanceOfTypeMatcher(type);\n}\nexports.instanceOfType = instanceOfType;\n//# sourceMappingURL=instanceOfType.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * Verify if a given item is a instance of a given type.\n *\n * Matches primitive types using constructor.\n * Matches all other types using instanceof operator.\n *\n * According to TypeScript specification:\n *\n * 4.19.4 The instanceof operator\n *\n * The instanceof operator requires the left operand to be of type Any,\n * an object type, or a type parameter type, and the right operand\n * to be of type Any or a subtype of the 'Function' interface type.\n *\n * The result is always of the boolean primitive type.\n *\n * @param { any } item The item to test\n * @param { IType<T> } type The type to match to\n * @return { boolean } <code>true</code> if the item is a instance of the type,\n * <code>false</code> otherwise.\n *\n * @see {@link https://github.com/Microsoft/TypeScript/blob/v2.6.1/doc/spec.md#4.19.4}\n */\nfunction isInstanceOfType(item, type) {\n    return item instanceof type || item.constructor === type;\n}\nexports.isInstanceOfType = isInstanceOfType;\n//# sourceMappingURL=isInstanceOfType.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*[Event(name=\"destroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"detain\", type=\"robotlegs.bender.framework.api.PinEvent\")]*/\n/*[Event(name=\"initialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"release\", type=\"robotlegs.bender.framework.api.PinEvent\")]*/\n/*[Event(name=\"resume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"stateChange\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"suspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/**\n * The Robotlegs context contract\n */\nexports.IContext = Symbol(\"IContext\");\n//# sourceMappingURL=IContext.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The <code>Injector</code> manages the mappings and acts as the central hub from which all\n * injections are started.\n */\nexports.IInjector = Symbol(\"IInjector\");\n//# sourceMappingURL=IInjector.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The Robotlegs logger contract\n */\nexports.ILogger = Symbol(\"ILogger\");\n//# sourceMappingURL=ILogger.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/**\n * Lifecycle Error\n */\nvar LifecycleError = /** @class */ (function (_super) {\n    tslib_1.__extends(LifecycleError, _super);\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Lifecycle Error\n     * @param message The error message\n     */\n    function LifecycleError(message) {\n        var _this = _super.call(this) || this;\n        _this.name = \"LifecycleError\";\n        _this.message = message;\n        return _this;\n    }\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    LifecycleError.SYNC_HANDLER_ARG_MISMATCH = \"When and After handlers must accept 0 or 1 arguments\";\n    LifecycleError.LATE_HANDLER_ERROR_MESSAGE = \"Handler added late and will never fire\";\n    return LifecycleError;\n}(Error));\nexports.LifecycleError = LifecycleError;\n//# sourceMappingURL=LifecycleError.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Robotlegs object lifecycle event\n */\nvar LifecycleEvent = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a Lifecycle Event\n     * @param type The event type\n     * @param error Optional error\n     */\n    function LifecycleEvent(type, error) {\n        this._type = type;\n        this._error = error;\n    }\n    Object.defineProperty(LifecycleEvent.prototype, \"error\", {\n        /**\n         * Associated lifecycle error\n         */\n        get: function () {\n            return this._error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LifecycleEvent.prototype, \"type\", {\n        /**\n         * The type of event\n         */\n        get: function () {\n            return this._type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LifecycleEvent.prototype, \"target\", {\n        /**\n         * The target of event\n         */\n        get: function () {\n            return this._target;\n        },\n        set: function (value) {\n            this._target = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    LifecycleEvent.prototype.clone = function () {\n        return new LifecycleEvent(this.type, this.error);\n    };\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    LifecycleEvent.ERROR = \"_error\";\n    LifecycleEvent.STATE_CHANGE = \"stateChange\";\n    LifecycleEvent.PRE_INITIALIZE = \"preInitialize\";\n    LifecycleEvent.INITIALIZE = \"initialize\";\n    LifecycleEvent.POST_INITIALIZE = \"postInitialize\";\n    LifecycleEvent.PRE_SUSPEND = \"preSuspend\";\n    LifecycleEvent.SUSPEND = \"suspend\";\n    LifecycleEvent.POST_SUSPEND = \"postSuspend\";\n    LifecycleEvent.PRE_RESUME = \"preResume\";\n    LifecycleEvent.RESUME = \"resume\";\n    LifecycleEvent.POST_RESUME = \"postResume\";\n    LifecycleEvent.PRE_DESTROY = \"preDestroy\";\n    LifecycleEvent.DESTROY = \"destroy\";\n    LifecycleEvent.POST_DESTROY = \"postDestroy\";\n    return LifecycleEvent;\n}());\nexports.LifecycleEvent = LifecycleEvent;\n//# sourceMappingURL=LifecycleEvent.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Robotlegs object lifecycle state\n */\nvar LifecycleState = /** @class */ (function () {\n    function LifecycleState() {\n    }\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    LifecycleState.UNINITIALIZED = \"uninitialized\";\n    LifecycleState.INITIALIZING = \"initializing\";\n    LifecycleState.ACTIVE = \"active\";\n    LifecycleState.SUSPENDING = \"suspending\";\n    LifecycleState.SUSPENDED = \"suspended\";\n    LifecycleState.RESUMING = \"resuming\";\n    LifecycleState.DESTROYING = \"destroying\";\n    LifecycleState.DESTROYED = \"destroyed\";\n    return LifecycleState;\n}());\nexports.LifecycleState = LifecycleState;\n//# sourceMappingURL=LifecycleState.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Robotlegs log level\n */\nvar LogLevel = /** @class */ (function () {\n    function LogLevel() {\n    }\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    LogLevel.FATAL = 2;\n    LogLevel.ERROR = 4;\n    LogLevel.WARN = 8;\n    LogLevel.INFO = 16;\n    LogLevel.DEBUG = 32;\n    LogLevel.NAME = [\n        0,\n        0,\n        \"FATAL\",\n        0,\n        \"ERROR\",\n        0,\n        0,\n        0,\n        \"WARN\",\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        \"INFO\",\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        \"DEBUG\"\n    ]; // 32\n    return LogLevel;\n}());\nexports.LogLevel = LogLevel;\n//# sourceMappingURL=LogLevel.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Event_1 = require(\"../../events/impl/Event\");\n/**\n * Detain/release pin Event\n */\nvar PinEvent = /** @class */ (function (_super) {\n    tslib_1.__extends(PinEvent, _super);\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Create a Pin Event\n     * @param type The event type\n     * @param instance The associated instance\n     */\n    function PinEvent(type, instance) {\n        var _this = _super.call(this, type) || this;\n        _this._instance = instance;\n        return _this;\n    }\n    Object.defineProperty(PinEvent.prototype, \"instance\", {\n        /**\n         * The instance being detained or released\n         */\n        get: function () {\n            return this._instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    PinEvent.prototype.clone = function () {\n        return new PinEvent(this.type, this._instance);\n    };\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n    PinEvent.DETAIN = \"detain\";\n    PinEvent.RELEASE = \"release\";\n    return PinEvent;\n}(Event_1.Event));\nexports.PinEvent = PinEvent;\n//# sourceMappingURL=PinEvent.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar ClassMatcher = /** @class */ (function () {\n    function ClassMatcher() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    ClassMatcher.prototype.matches = function (item) {\n        return typeof item === \"function\";\n    };\n    return ClassMatcher;\n}());\nexports.ClassMatcher = ClassMatcher;\n//# sourceMappingURL=ClassMatcher.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LifecycleEvent_1 = require(\"../api/LifecycleEvent\");\nvar ClassMatcher_1 = require(\"./ClassMatcher\");\nvar ObjectMatcher_1 = require(\"./ObjectMatcher\");\nvar ObjectProcessor_1 = require(\"./ObjectProcessor\");\nvar instantiateUnmapped_1 = require(\"./instantiateUnmapped\");\n/**\n * The config manager handles configuration files and\n * allows the installation of custom configuration handlers.\n *\n * <p>It is pre-configured to handle plain objects and classes</p>\n *\n * @private\n */\nvar ConfigManager = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function ConfigManager(context) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._objectProcessor = new ObjectProcessor_1.ObjectProcessor();\n        this._configs = new Map();\n        this._queue = [];\n        this._initialized = false;\n        this._context = context;\n        this._injector = context.injector;\n        this._logger = context.getLogger(this);\n        this.addConfigHandler(new ClassMatcher_1.ClassMatcher(), this.handleClass.bind(this));\n        this.addConfigHandler(new ObjectMatcher_1.ObjectMatcher(), this.handleObject.bind(this));\n        // The ConfigManager should process the config queue\n        // at the end of the INITIALIZE phase,\n        // but *before* POST_INITIALIZE, so use low event priority\n        context.addEventListener(LifecycleEvent_1.LifecycleEvent.INITIALIZE, this.initialize, this, false, -100);\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Process a given configuration object by running it through registered handlers.\n     * <p>If the manager is not initialized the configuration will be queued.</p>\n     * @param config The configuration object or class\n     */\n    ConfigManager.prototype.addConfig = function (config) {\n        if (!this._configs.get(config)) {\n            this._configs.set(config, true);\n            this._objectProcessor.processObject(config);\n        }\n    };\n    /**\n     * Adds a custom configuration handlers\n     * @param matcher Pattern to match configuration objects\n     * @param handler Handler to process matching configurations\n     */\n    ConfigManager.prototype.addConfigHandler = function (matcher, handler) {\n        this._objectProcessor.addObjectHandler(matcher, handler);\n    };\n    /**\n     * Destroy\n     */\n    ConfigManager.prototype.destroy = function () {\n        this._context.removeEventListener(LifecycleEvent_1.LifecycleEvent.INITIALIZE, this.initialize);\n        this._objectProcessor.removeAllHandlers();\n        this._queue.length = 0;\n        this._configs.clear();\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    ConfigManager.prototype.initialize = function (event) {\n        if (!this._initialized) {\n            this._initialized = true;\n            this.processQueue();\n        }\n    };\n    ConfigManager.prototype.handleClass = function (type) {\n        if (this._initialized) {\n            this._logger.debug(\"Already initialized. Instantiating config class {0}\", [type]);\n            this.processClass(type);\n        }\n        else {\n            this._logger.debug(\"Not yet initialized. Queuing config class {0}\", [type]);\n            this._queue.push(type);\n        }\n    };\n    ConfigManager.prototype.handleObject = function (object) {\n        if (this._initialized) {\n            this._logger.debug(\"Already initialized. Injecting into config object {0}\", [object]);\n            this.processObject(object);\n        }\n        else {\n            this._logger.debug(\"Not yet initialized. Queuing config object {0}\", [object]);\n            this._queue.push(object);\n        }\n    };\n    ConfigManager.prototype.processQueue = function () {\n        for (var i in this._queue) {\n            if (this._queue.hasOwnProperty(i)) {\n                var config = this._queue[i];\n                if (typeof config === \"function\") {\n                    // instanceof Class\n                    this._logger.debug(\"Now initializing. Instantiating config class {0}\", [config]);\n                    this.processClass(config);\n                }\n                else {\n                    this._logger.debug(\"Now initializing. Injecting into config object {0}\", [config]);\n                    this.processObject(config);\n                }\n            }\n        }\n        this._queue.length = 0;\n    };\n    ConfigManager.prototype.processClass = function (type) {\n        var config = instantiateUnmapped_1.instantiateUnmapped(this._injector, type);\n        if (config) {\n            config.configure();\n        }\n    };\n    ConfigManager.prototype.processObject = function (object) {\n        var config = object;\n        if (config && config.configure) {\n            config.configure();\n        }\n    };\n    return ConfigManager;\n}());\nexports.ConfigManager = ConfigManager;\n//# sourceMappingURL=ConfigManager.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\nvar IContext_1 = require(\"../api/IContext\");\nvar IInjector_1 = require(\"../api/IInjector\");\nvar LifecycleEvent_1 = require(\"../api/LifecycleEvent\");\nvar ConfigManager_1 = require(\"./ConfigManager\");\nvar ExtensionInstaller_1 = require(\"./ExtensionInstaller\");\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar LogManager_1 = require(\"./LogManager\");\nvar Pin_1 = require(\"./Pin\");\nvar RobotlegsInjector_1 = require(\"./RobotlegsInjector\");\nvar UID_1 = require(\"./UID\");\nvar EventDispatcher_1 = require(\"../../events/impl/EventDispatcher\");\n/*[Event(name=\"destroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"detain\", type=\"robotlegs.bender.framework.api.PinEvent\")]*/\n/*[Event(name=\"initialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"release\", type=\"robotlegs.bender.framework.api.PinEvent\")]*/\n/*[Event(name=\"resume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"stateChange\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"suspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/**\n * The core Robotlegs Context implementation\n */\nvar Context = /** @class */ (function (_super) {\n    tslib_1.__extends(Context, _super);\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a new Context\n     */\n    function Context() {\n        var _this = _super.call(this) || this;\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        _this._uid = UID_1.UID.create(Context_1);\n        _this._children = [];\n        _this.setup();\n        return _this;\n    }\n    Context_1 = Context;\n    Object.defineProperty(Context.prototype, \"injector\", {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._injector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"logLevel\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._logManager.logLevel;\n        },\n        /**\n         * @inheritDoc\n         */\n        set: function (value) {\n            this._logManager.logLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"state\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"uninitialized\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.uninitialized;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"initialized\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.initialized;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"active\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"suspended\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.suspended;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"destroyed\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._lifecycle.destroyed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.initialize = function (callback) {\n        this._lifecycle.initialize(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.suspend = function (callback) {\n        this._lifecycle.suspend(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.resume = function (callback) {\n        this._lifecycle.resume(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.destroy = function (callback) {\n        this._lifecycle.destroy(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.beforeInitializing = function (handler) {\n        this._lifecycle.beforeInitializing(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.whenInitializing = function (handler) {\n        this._lifecycle.whenInitializing(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.afterInitializing = function (handler) {\n        this._lifecycle.afterInitializing(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.beforeSuspending = function (handler) {\n        this._lifecycle.beforeSuspending(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.whenSuspending = function (handler) {\n        this._lifecycle.whenSuspending(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.afterSuspending = function (handler) {\n        this._lifecycle.afterSuspending(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.beforeResuming = function (handler) {\n        this._lifecycle.beforeResuming(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.whenResuming = function (handler) {\n        this._lifecycle.whenResuming(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.afterResuming = function (handler) {\n        this._lifecycle.afterResuming(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.beforeDestroying = function (handler) {\n        this._lifecycle.beforeDestroying(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.whenDestroying = function (handler) {\n        this._lifecycle.whenDestroying(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.afterDestroying = function (handler) {\n        this._lifecycle.afterDestroying(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.install = function () {\n        var _this = this;\n        var extensions = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            extensions[_i] = arguments[_i];\n        }\n        extensions.forEach(function (extension) {\n            _this._extensionInstaller.install(extension);\n        });\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.configure = function () {\n        var _this = this;\n        var configs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            configs[_i] = arguments[_i];\n        }\n        configs.forEach(function (config) {\n            _this._configManager.addConfig(config);\n        });\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.addChild = function (child) {\n        if (this._children.indexOf(child) === -1) {\n            this._logger.debug(\"Adding child context {0}\", [child]);\n            if (!child.uninitialized) {\n                this._logger.warn(\"Child context {0} must be uninitialized\", [child]);\n            }\n            if (child.injector.parent) {\n                this._logger.warn(\"Child context {0} must not have a parent Injector\", [child]);\n            }\n            this._children.push(child);\n            child.injector.parent = this.injector;\n            child.addEventListener(LifecycleEvent_1.LifecycleEvent.POST_DESTROY, this.onChildDestroy, this);\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.removeChild = function (child) {\n        var childIndex = this._children.indexOf(child);\n        if (childIndex > -1) {\n            this._logger.debug(\"Removing child context {0}\", [child]);\n            this._children.splice(childIndex, 1);\n            child.injector.parent = null;\n            child.removeEventListener(LifecycleEvent_1.LifecycleEvent.POST_DESTROY, this.onChildDestroy, this);\n        }\n        else {\n            this._logger.warn(\"Child context {0} must be a child of {1}\", [child, this]);\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.addConfigHandler = function (matcher, handler) {\n        this._configManager.addConfigHandler(matcher, handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.getLogger = function (source) {\n        return this._logManager.getLogger(source);\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.addLogTarget = function (target) {\n        this._logManager.addLogTarget(target);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.detain = function () {\n        var _this = this;\n        var instances = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            instances[_i] = arguments[_i];\n        }\n        instances.forEach(function (instance) {\n            _this._pin.detain(instance);\n        });\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.release = function () {\n        var _this = this;\n        var instances = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            instances[_i] = arguments[_i];\n        }\n        instances.forEach(function (instance) {\n            _this._pin.release(instance);\n        });\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Context.prototype.toString = function () {\n        return this._uid;\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    /**\n     * Configures mandatory context dependencies\n     */\n    Context.prototype.setup = function () {\n        this._logManager = new LogManager_1.LogManager();\n        this._injector = new RobotlegsInjector_1.RobotlegsInjector();\n        this._injector.bind(IInjector_1.IInjector).toConstantValue(this._injector);\n        this._injector.bind(IContext_1.IContext).toConstantValue(this);\n        this._logger = this._logManager.getLogger(this);\n        this._pin = new Pin_1.Pin(this);\n        this._lifecycle = new Lifecycle_1.Lifecycle(this);\n        this._configManager = new ConfigManager_1.ConfigManager(this);\n        this._extensionInstaller = new ExtensionInstaller_1.ExtensionInstaller(this);\n        this.beforeInitializing(this.beforeInitializingCallback.bind(this));\n        this.afterInitializing(this.afterInitializingCallback.bind(this));\n        this.beforeDestroying(this.beforeDestroyingCallback.bind(this));\n        this.afterDestroying(this.afterDestroyingCallback.bind(this));\n    };\n    Context.prototype.beforeInitializingCallback = function () {\n        this._logger.debug(\"Initializing...\");\n    };\n    Context.prototype.afterInitializingCallback = function () {\n        this._logger.debug(\"Initialize complete\");\n    };\n    Context.prototype.beforeDestroyingCallback = function () {\n        this._logger.debug(\"Destroying...\");\n    };\n    Context.prototype.afterDestroyingCallback = function () {\n        this._extensionInstaller.destroy();\n        this._configManager.destroy();\n        this._pin.releaseAll();\n        this._injector.unbindAll();\n        this.removeChildren();\n        this._logger.debug(\"Destroy complete\");\n        this._logManager.removeAllTargets();\n    };\n    Context.prototype.onChildDestroy = function (event) {\n        this.removeChild(event.target);\n    };\n    Context.prototype.removeChildren = function () {\n        while (this._children.length > 0) {\n            this.removeChild(this._children[this._children.length - 1]);\n        }\n    };\n    var Context_1;\n    Context = Context_1 = tslib_1.__decorate([\n        inversify_1.injectable(),\n        tslib_1.__metadata(\"design:paramtypes\", [])\n    ], Context);\n    return Context;\n}(EventDispatcher_1.EventDispatcher));\nexports.Context = Context;\n//# sourceMappingURL=Context.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Installs custom extensions into a given context\n *\n * @private\n */\nvar ExtensionInstaller = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function ExtensionInstaller(context) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._classes = new Map();\n        this._context = context;\n        this._logger = this._context.getLogger(this);\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Installs the supplied extension\n     * @param extension An object or class implementing IExtension\n     */\n    ExtensionInstaller.prototype.install = function (extension) {\n        if (typeof extension === \"function\" && extension.prototype.extend !== undefined) {\n            if (!this._classes.get(extension)) {\n                this.install(new extension());\n            }\n        }\n        else {\n            var extensionClass = extension.constructor;\n            if (!this._classes.get(extensionClass)) {\n                this._logger.debug(\"Installing extension {0}\", [extension]);\n                this._classes.set(extensionClass, true);\n                extension.extend(this._context);\n            }\n        }\n    };\n    /**\n     * Destroy\n     */\n    ExtensionInstaller.prototype.destroy = function () {\n        this._classes.clear();\n    };\n    return ExtensionInstaller;\n}());\nexports.ExtensionInstaller = ExtensionInstaller;\n//# sourceMappingURL=ExtensionInstaller.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LifecycleError_1 = require(\"../api/LifecycleError\");\nvar LifecycleEvent_1 = require(\"../api/LifecycleEvent\");\nvar LifecycleState_1 = require(\"../api/LifecycleState\");\nvar LifecycleTransition_1 = require(\"./LifecycleTransition\");\n/*[Event(name=\"destroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"error\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"initialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"postSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preDestroy\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preInitialize\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preResume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"preSuspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"resume\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"stateChange\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/*[Event(name=\"suspend\", type=\"robotlegs.bender.framework.api.LifecycleEvent\")]*/\n/**\n * Default object lifecycle\n *\n * @private\n */\nvar Lifecycle = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a lifecycle for a given target object\n     * @param target The target object\n     */\n    function Lifecycle(target) {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        this._state = LifecycleState_1.LifecycleState.UNINITIALIZED;\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._reversedEventTypes = new Map();\n        this._reversePriority = 0;\n        this._target = target;\n        this._dispatcher = target; // || new EventDispatcher(this);\n        this.configureTransitions();\n    }\n    Object.defineProperty(Lifecycle.prototype, \"state\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"target\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"uninitialized\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state === LifecycleState_1.LifecycleState.UNINITIALIZED;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"initialized\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state !== LifecycleState_1.LifecycleState.UNINITIALIZED && this._state !== LifecycleState_1.LifecycleState.INITIALIZING;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"active\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state === LifecycleState_1.LifecycleState.ACTIVE;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"suspended\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state === LifecycleState_1.LifecycleState.SUSPENDED;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Lifecycle.prototype, \"destroyed\", {\n        /**\n         * @inheritDoc\n         */\n        get: function () {\n            return this._state === LifecycleState_1.LifecycleState.DESTROYED;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.initialize = function (callback) {\n        this._initialize.enter(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.suspend = function (callback) {\n        this._suspend.enter(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.resume = function (callback) {\n        this._resume.enter(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.destroy = function (callback) {\n        this._destroy.enter(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.beforeInitializing = function (handler) {\n        if (!this.uninitialized) {\n            this.reportError(LifecycleError_1.LifecycleError.LATE_HANDLER_ERROR_MESSAGE);\n        }\n        this._initialize.addBeforeHandler(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.whenInitializing = function (handler) {\n        if (this.initialized) {\n            this.reportError(LifecycleError_1.LifecycleError.LATE_HANDLER_ERROR_MESSAGE);\n        }\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.INITIALIZE, this.createSyncLifecycleListener(handler, true));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.afterInitializing = function (handler) {\n        if (this.initialized) {\n            this.reportError(LifecycleError_1.LifecycleError.LATE_HANDLER_ERROR_MESSAGE);\n        }\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.POST_INITIALIZE, this.createSyncLifecycleListener(handler, true));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.beforeSuspending = function (handler) {\n        this._suspend.addBeforeHandler(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.whenSuspending = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.SUSPEND, this.createSyncLifecycleListener(handler));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.afterSuspending = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.POST_SUSPEND, this.createSyncLifecycleListener(handler));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.beforeResuming = function (handler) {\n        this._resume.addBeforeHandler(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.whenResuming = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.RESUME, this.createSyncLifecycleListener(handler));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.afterResuming = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.POST_RESUME, this.createSyncLifecycleListener(handler));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.beforeDestroying = function (handler) {\n        this._destroy.addBeforeHandler(handler);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.whenDestroying = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.DESTROY, this.createSyncLifecycleListener(handler, true));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.afterDestroying = function (handler) {\n        this.addEventListener(LifecycleEvent_1.LifecycleEvent.POST_DESTROY, this.createSyncLifecycleListener(handler, true));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.addEventListener = function (type, listener, useCapture, priority, useWeakReference) {\n        if (useCapture === void 0) { useCapture = false; }\n        if (priority === void 0) { priority = 0; }\n        if (useWeakReference === void 0) { useWeakReference = false; }\n        priority = this.flipPriority(type, priority);\n        // this._dispatcher.addEventListener(type, listener, useCapture, priority, useWeakReference);\n        this._dispatcher.addEventListener(type, listener, undefined, useCapture, priority);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.removeEventListener = function (type, listener, useCapture) {\n        if (useCapture === void 0) { useCapture = false; }\n        this._dispatcher.removeEventListener(type, listener);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.dispatchEvent = function (event) {\n        return this._dispatcher.dispatchEvent(event);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.hasEventListener = function (type) {\n        return this._dispatcher.hasEventListener(type);\n    };\n    /**\n     * @inheritDoc\n     */\n    Lifecycle.prototype.willTrigger = function (type) {\n        return this._dispatcher.willTrigger(type);\n    };\n    /*============================================================================*/\n    /* Internal Functions                                                         */\n    /*============================================================================*/\n    Lifecycle.prototype.setCurrentState = function (state) {\n        if (this._state !== state) {\n            this._state = state;\n            this.dispatchEvent(new LifecycleEvent_1.LifecycleEvent(LifecycleEvent_1.LifecycleEvent.STATE_CHANGE));\n        }\n    };\n    Lifecycle.prototype.addReversedEventTypes = function () {\n        var _this = this;\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        types.forEach(function (type) {\n            _this._reversedEventTypes.set(type, true);\n        });\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    Lifecycle.prototype.configureTransitions = function () {\n        this._initialize = new LifecycleTransition_1.LifecycleTransition(LifecycleEvent_1.LifecycleEvent.PRE_INITIALIZE, this)\n            .fromStates(LifecycleState_1.LifecycleState.UNINITIALIZED)\n            .toStates(LifecycleState_1.LifecycleState.INITIALIZING, LifecycleState_1.LifecycleState.ACTIVE)\n            .withEvents(LifecycleEvent_1.LifecycleEvent.PRE_INITIALIZE, LifecycleEvent_1.LifecycleEvent.INITIALIZE, LifecycleEvent_1.LifecycleEvent.POST_INITIALIZE);\n        this._suspend = new LifecycleTransition_1.LifecycleTransition(LifecycleEvent_1.LifecycleEvent.PRE_SUSPEND, this)\n            .fromStates(LifecycleState_1.LifecycleState.ACTIVE)\n            .toStates(LifecycleState_1.LifecycleState.SUSPENDING, LifecycleState_1.LifecycleState.SUSPENDED)\n            .withEvents(LifecycleEvent_1.LifecycleEvent.PRE_SUSPEND, LifecycleEvent_1.LifecycleEvent.SUSPEND, LifecycleEvent_1.LifecycleEvent.POST_SUSPEND)\n            .inReverse();\n        this._resume = new LifecycleTransition_1.LifecycleTransition(LifecycleEvent_1.LifecycleEvent.PRE_RESUME, this)\n            .fromStates(LifecycleState_1.LifecycleState.SUSPENDED)\n            .toStates(LifecycleState_1.LifecycleState.RESUMING, LifecycleState_1.LifecycleState.ACTIVE)\n            .withEvents(LifecycleEvent_1.LifecycleEvent.PRE_RESUME, LifecycleEvent_1.LifecycleEvent.RESUME, LifecycleEvent_1.LifecycleEvent.POST_RESUME);\n        this._destroy = new LifecycleTransition_1.LifecycleTransition(LifecycleEvent_1.LifecycleEvent.PRE_DESTROY, this)\n            .fromStates(LifecycleState_1.LifecycleState.SUSPENDED, LifecycleState_1.LifecycleState.ACTIVE)\n            .toStates(LifecycleState_1.LifecycleState.DESTROYING, LifecycleState_1.LifecycleState.DESTROYED)\n            .withEvents(LifecycleEvent_1.LifecycleEvent.PRE_DESTROY, LifecycleEvent_1.LifecycleEvent.DESTROY, LifecycleEvent_1.LifecycleEvent.POST_DESTROY)\n            .inReverse();\n    };\n    Lifecycle.prototype.flipPriority = function (type, priority) {\n        return priority === 0 && this._reversedEventTypes.get(type) ? this._reversePriority++ : priority;\n    };\n    Lifecycle.prototype.createSyncLifecycleListener = function (handler, once) {\n        if (once === void 0) { once = false; }\n        // When and After handlers can not be asynchronous\n        if (handler.length > 1) {\n            throw new LifecycleError_1.LifecycleError(LifecycleError_1.LifecycleError.SYNC_HANDLER_ARG_MISMATCH);\n        }\n        // A handler that accepts 1 argument is provided with the event type\n        if (handler.length === 1) {\n            return function (event) {\n                if (once) {\n                    // (<IEventDispatcher>event.target).removeEventListener(event.type, arguments.callee);\n                    event.target.removeEventListener(event.type, handler);\n                }\n                handler(event.type);\n            };\n        }\n        // Or, just call the handler\n        return function (event) {\n            if (once) {\n                // (<IEventDispatcher>event.target).removeEventListener(event.type, arguments.callee);\n                event.target.removeEventListener(event.type, handler);\n            }\n            handler();\n        };\n    };\n    Lifecycle.prototype.reportError = function (message) {\n        var error = new LifecycleError_1.LifecycleError(message);\n        if (this.hasEventListener(LifecycleEvent_1.LifecycleEvent.ERROR)) {\n            var event_1 = new LifecycleEvent_1.LifecycleEvent(LifecycleEvent_1.LifecycleEvent.ERROR, error);\n            this.dispatchEvent(event_1);\n        }\n        else {\n            throw error;\n        }\n    };\n    return Lifecycle;\n}());\nexports.Lifecycle = Lifecycle;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LifecycleEvent_1 = require(\"../api/LifecycleEvent\");\nvar MessageDispatcher_1 = require(\"./MessageDispatcher\");\nvar safelyCallBack_1 = require(\"./safelyCallBack\");\n/**\n * Handles a lifecycle transition\n *\n * @private\n */\nvar LifecycleTransition = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a lifecycle transition\n     * @param name The name of the transition\n     * @param lifecycle The associated lifecycle instance\n     */\n    function LifecycleTransition(name, lifecycle) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._fromStates = [];\n        this._dispatcher = new MessageDispatcher_1.MessageDispatcher();\n        this._callbacks = [];\n        this._reverse = false;\n        this._name = name;\n        this._lifecycle = lifecycle;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * States that this transition is allowed to enter from\n     * @param states Allowed states\n     * @return Self\n     */\n    LifecycleTransition.prototype.fromStates = function () {\n        var _this = this;\n        var states = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            states[_i] = arguments[_i];\n        }\n        states.forEach(function (state) {\n            _this._fromStates.push(state);\n        });\n        return this;\n    };\n    /**\n     * The states that this transition applies\n     * @param transitionState The state that the target is put into during the transition\n     * @param finalState The state that the target is put into after the transition\n     * @return\n     */\n    LifecycleTransition.prototype.toStates = function (transitionState, finalState) {\n        this._transitionState = transitionState;\n        this._finalState = finalState;\n        return this;\n    };\n    /**\n     * The events that the lifecycle will dispatch\n     * @param preTransitionEvent\n     * @param transitionEvent\n     * @param postTransitionEvent\n     * @return Self\n     */\n    LifecycleTransition.prototype.withEvents = function (preTransitionEvent, transitionEvent, postTransitionEvent) {\n        this._preTransitionEvent = preTransitionEvent;\n        this._transitionEvent = transitionEvent;\n        this._postTransitionEvent = postTransitionEvent;\n        if (this._reverse) {\n            this._lifecycle.addReversedEventTypes(preTransitionEvent, transitionEvent, postTransitionEvent);\n        }\n        return this;\n    };\n    /**\n     * Reverse the dispatch order of this transition\n     * @return Self\n     */\n    LifecycleTransition.prototype.inReverse = function () {\n        this._reverse = true;\n        this._lifecycle.addReversedEventTypes(this._preTransitionEvent, this._transitionEvent, this._postTransitionEvent);\n        return this;\n    };\n    /**\n     * A handler to run before the transition runs\n     * @param handler Possibly asynchronous before handler\n     * @return Self\n     */\n    LifecycleTransition.prototype.addBeforeHandler = function (handler) {\n        this._dispatcher.addMessageHandler(this._name, handler);\n        return this;\n    };\n    /**\n     * Attempts to enter the transition\n     * @param callback Completion callback\n     */\n    LifecycleTransition.prototype.enter = function (callback) {\n        var _this = this;\n        // immediately call back if we have already transitioned, and exit\n        if (this._lifecycle.state === this._finalState) {\n            if (callback) {\n                safelyCallBack_1.safelyCallBack(callback, null, this._name);\n            }\n            return;\n        }\n        // queue this callback if we are mid transition, and exit\n        if (this._lifecycle.state === this._transitionState) {\n            if (callback) {\n                this._callbacks.push(callback);\n            }\n            return;\n        }\n        // report invalid transition, and exit\n        if (this.invalidTransition()) {\n            this.reportError(\"Invalid transition\", [callback]);\n            return;\n        }\n        // store the initial lifecycle state in case we need to roll back\n        var initialState = this._lifecycle.state;\n        // queue the first callback\n        if (callback) {\n            this._callbacks.push(callback);\n        }\n        // put lifecycle into transition state\n        this.setState(this._transitionState);\n        // run before handlers\n        this._dispatcher.dispatchMessage(this._name, function (error) {\n            // revert state, report error, and exit\n            if (error) {\n                _this.setState(initialState);\n                _this.reportError(error, _this._callbacks);\n                return;\n            }\n            // dispatch pre transition and transition events\n            _this.dispatch(_this._preTransitionEvent);\n            _this.dispatch(_this._transitionEvent);\n            // put lifecycle into final state\n            _this.setState(_this._finalState);\n            // process callback queue (dup and trash for safety)\n            var callbacks = _this._callbacks.concat();\n            _this._callbacks.length = 0;\n            callbacks.forEach(function (callbackChild) {\n                safelyCallBack_1.safelyCallBack(callbackChild, null, _this._name);\n            });\n            // dispatch post transition event\n            _this.dispatch(_this._postTransitionEvent);\n        }, this._reverse);\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    LifecycleTransition.prototype.invalidTransition = function () {\n        return this._fromStates.length > 0 && this._fromStates.indexOf(this._lifecycle.state) === -1;\n    };\n    LifecycleTransition.prototype.setState = function (state) {\n        if (state) {\n            this._lifecycle.setCurrentState(state);\n        }\n    };\n    LifecycleTransition.prototype.dispatch = function (type) {\n        if (type && this._lifecycle.hasEventListener(type)) {\n            this._lifecycle.dispatchEvent(new LifecycleEvent_1.LifecycleEvent(type));\n        }\n    };\n    LifecycleTransition.prototype.reportError = function (message, callbacks) {\n        var _this = this;\n        // turn message into Error\n        var error = message instanceof Error ? message : new Error(message);\n        // dispatch error event if a listener exists, or throw\n        if (this._lifecycle.hasEventListener(LifecycleEvent_1.LifecycleEvent.ERROR)) {\n            var event_1 = new LifecycleEvent_1.LifecycleEvent(LifecycleEvent_1.LifecycleEvent.ERROR, error);\n            this._lifecycle.dispatchEvent(event_1);\n            // process callback queue\n            if (callbacks) {\n                callbacks.forEach(function (callback) {\n                    if (callback) {\n                        safelyCallBack_1.safelyCallBack(callback, error, _this._name);\n                    }\n                });\n                callbacks.length = 0;\n            }\n        }\n        else {\n            // explode!\n            throw error;\n        }\n    };\n    return LifecycleTransition;\n}());\nexports.LifecycleTransition = LifecycleTransition;\n//# sourceMappingURL=LifecycleTransition.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel_1 = require(\"../api/LogLevel\");\nvar Logger_1 = require(\"../impl/Logger\");\n/**\n * The log manager creates loggers and is itself a log target\n *\n * @private\n */\nvar LogManager = /** @class */ (function () {\n    function LogManager() {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        this._logLevel = LogLevel_1.LogLevel.INFO;\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._targets = [];\n    }\n    Object.defineProperty(LogManager.prototype, \"logLevel\", {\n        /**\n         * The current log level\n         */\n        get: function () {\n            return this._logLevel;\n        },\n        /**\n         * Sets the current log level\n         */\n        set: function (value) {\n            this._logLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Retrieves a logger for a given source\n     * @param source Logging source\n     * @return Logger\n     */\n    LogManager.prototype.getLogger = function (source) {\n        return new Logger_1.Logger(source, this);\n    };\n    /**\n     * Adds a custom log target\n     * @param target Log target\n     * @return this\n     */\n    LogManager.prototype.addLogTarget = function (target) {\n        this._targets.push(target);\n    };\n    /**\n     * @inheritDoc\n     */\n    LogManager.prototype.log = function (source, level, timestamp, message, params) {\n        if (level > this._logLevel) {\n            return;\n        }\n        this._targets.forEach(function (target) {\n            target.log(source, level, timestamp, message, params);\n        });\n    };\n    LogManager.prototype.removeAllTargets = function () {\n        this._targets = [];\n    };\n    return LogManager;\n}());\nexports.LogManager = LogManager;\n//# sourceMappingURL=LogManager.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel_1 = require(\"../api/LogLevel\");\n/**\n * Default Robotlegs logger\n *\n * @private\n */\nvar Logger = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a new logger\n     * @param source The log source object\n     * @param target The log target\n     */\n    function Logger(source, target) {\n        this._source = source;\n        this._target = target;\n    }\n    Object.defineProperty(Logger.prototype, \"source\", {\n        /*============================================================================*/\n        /* Public Properties                                                          */\n        /*============================================================================*/\n        /**\n         * @inheritDoc\n         */\n        set: function (source) {\n            this._source = source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @inheritDoc\n     */\n    Logger.prototype.debug = function (message, params) {\n        this._target.log(this._source, LogLevel_1.LogLevel.DEBUG, this.getTimer(), message, params);\n    };\n    /**\n     * @inheritDoc\n     */\n    Logger.prototype.info = function (message, params) {\n        this._target.log(this._source, LogLevel_1.LogLevel.INFO, this.getTimer(), message, params);\n    };\n    /**\n     * @inheritDoc\n     */\n    Logger.prototype.warn = function (message, params) {\n        this._target.log(this._source, LogLevel_1.LogLevel.WARN, this.getTimer(), message, params);\n    };\n    /**\n     * @inheritDoc\n     */\n    Logger.prototype.error = function (message, params) {\n        this._target.log(this._source, LogLevel_1.LogLevel.ERROR, this.getTimer(), message, params);\n    };\n    /**\n     * @inheritDoc\n     */\n    Logger.prototype.fatal = function (message, params) {\n        this._target.log(this._source, LogLevel_1.LogLevel.FATAL, this.getTimer(), message, params);\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    Logger.prototype.getTimer = function () {\n        return Date.now();\n    };\n    return Logger;\n}());\nexports.Logger = Logger;\n//# sourceMappingURL=Logger.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MessageRunner_1 = require(\"./MessageRunner\");\nvar safelyCallBack_1 = require(\"./safelyCallBack\");\n/**\n * Message Dispatcher implementation.\n */\nvar MessageDispatcher = /** @class */ (function () {\n    function MessageDispatcher() {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._handlers = new Map();\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Registers a message handler with a MessageDispatcher.\n     * @param message The interesting message\n     * @param handler The handler function\n     */\n    MessageDispatcher.prototype.addMessageHandler = function (message, handler) {\n        var messageHandlers = this._handlers.get(message);\n        if (messageHandlers) {\n            if (messageHandlers.indexOf(handler) === -1) {\n                messageHandlers.push(handler);\n            }\n        }\n        else {\n            this._handlers.set(message, [handler]);\n        }\n    };\n    /**\n     * Checks whether the MessageDispatcher has any handlers registered for a specific message.\n     * @param message The interesting message\n     * @return A value of true if a handler of the specified message is registered; false otherwise.\n     */\n    MessageDispatcher.prototype.hasMessageHandler = function (message) {\n        return this._handlers.has(message);\n    };\n    /**\n     * Removes a message handler from a MessageDispatcher\n     * @param message The interesting message\n     * @param handler The handler function\n     */\n    MessageDispatcher.prototype.removeMessageHandler = function (message, handler) {\n        var messageHandlers = this._handlers.get(message);\n        var index = messageHandlers ? messageHandlers.indexOf(handler) : -1;\n        if (index !== -1) {\n            messageHandlers.splice(index, 1);\n            if (messageHandlers.length === 0) {\n                this._handlers.delete(message);\n            }\n        }\n    };\n    /**\n     * Dispatches a message into the message flow.\n     * @param message The interesting message\n     * @param callback The completion callback function\n     * @param reverse Should handlers be called in reverse order\n     */\n    MessageDispatcher.prototype.dispatchMessage = function (message, callback, reverse) {\n        if (callback === void 0) { callback = null; }\n        if (reverse === void 0) { reverse = false; }\n        var handlers = this._handlers.get(message);\n        if (handlers) {\n            handlers = handlers.concat();\n            if (!reverse) {\n                handlers.reverse();\n            }\n            new MessageRunner_1.MessageRunner(message, handlers, callback).run();\n        }\n        else {\n            if (callback) {\n                safelyCallBack_1.safelyCallBack(callback);\n            }\n        }\n    };\n    return MessageDispatcher;\n}());\nexports.MessageDispatcher = MessageDispatcher;\n//# sourceMappingURL=MessageDispatcher.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar safelyCallBack_1 = require(\"./safelyCallBack\");\nvar MessageRunner = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function MessageRunner(message, handlers, callback) {\n        this._message = message;\n        this._handlers = handlers;\n        this._callback = callback;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    MessageRunner.prototype.run = function () {\n        this.next();\n    };\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n    MessageRunner.prototype.next = function () {\n        var _this = this;\n        // Try to keep things synchronous with a simple loop,\n        // forcefully breaking out for async handlers and recursing.\n        // We do this to avoid increasing the stack depth unnecessarily.\n        var handler;\n        var _loop_1 = function () {\n            handler = this_1._handlers.pop();\n            if (handler.length === 0) {\n                // sync handler: ()\n                handler();\n            }\n            else if (handler.length === 1) {\n                // sync handler: (message)\n                handler(this_1._message);\n            }\n            else if (handler.length === 2) {\n                // sync or async handler: (message, callback)\n                var handled_1 = false;\n                handler(this_1._message, function (error, msg) {\n                    if (error === void 0) { error = null; }\n                    if (msg === void 0) { msg = null; }\n                    // handler must not invoke the callback more than once\n                    if (handled_1) {\n                        return;\n                    }\n                    handled_1 = true;\n                    if (error || _this._handlers.length === 0) {\n                        if (_this._callback) {\n                            safelyCallBack_1.safelyCallBack(_this._callback, error, _this._message);\n                        }\n                    }\n                    else {\n                        _this.next();\n                    }\n                });\n                return { value: void 0 };\n            }\n            else {\n                // ERROR: this should NEVER happen\n                throw new Error(\"Bad handler signature\");\n            }\n        };\n        var this_1 = this;\n        while (this._handlers.length > 0) {\n            var state_1 = _loop_1();\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        // If we got here then this loop finished synchronously.\n        // Nobody broke out, so we are done.\n        // This relies on the various return statements above. Be careful.\n        if (this._callback) {\n            safelyCallBack_1.safelyCallBack(this._callback, null, this._message);\n        }\n    };\n    return MessageRunner;\n}());\nexports.MessageRunner = MessageRunner;\n//# sourceMappingURL=MessageRunner.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ObjectHandler = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function ObjectHandler(matcher, handler) {\n        this._matcher = matcher;\n        this._handler = handler;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    ObjectHandler.prototype.handle = function (object) {\n        if (this._matcher.matches(object)) {\n            this._handler(object);\n        }\n    };\n    return ObjectHandler;\n}());\nexports.ObjectHandler = ObjectHandler;\n//# sourceMappingURL=ObjectHandler.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n */\nvar ObjectMatcher = /** @class */ (function () {\n    function ObjectMatcher() {\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    ObjectMatcher.prototype.matches = function (item) {\n        return typeof item === \"object\";\n    };\n    return ObjectMatcher;\n}());\nexports.ObjectMatcher = ObjectMatcher;\n//# sourceMappingURL=ObjectMatcher.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ObjectHandler_1 = require(\"./ObjectHandler\");\n/**\n * Robotlegs object processor\n *\n * @private\n */\nvar ObjectProcessor = /** @class */ (function () {\n    function ObjectProcessor() {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._handlers = [];\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Add a handler to process objects that match a given matcher.\n     * @param matcher The matcher\n     * @param handler The handler function\n     */\n    ObjectProcessor.prototype.addObjectHandler = function (matcher, handler) {\n        this._handlers.push(new ObjectHandler_1.ObjectHandler(matcher, handler));\n    };\n    /**\n     * Process an object by running it through all registered handlers\n     * @param object The object instance to process.\n     */\n    ObjectProcessor.prototype.processObject = function (object) {\n        this._handlers.forEach(function (handler) {\n            handler.handle(object);\n        });\n    };\n    /**\n     * Removes all handlers\n     */\n    ObjectProcessor.prototype.removeAllHandlers = function () {\n        this._handlers = [];\n    };\n    return ObjectProcessor;\n}());\nexports.ObjectProcessor = ObjectProcessor;\n//# sourceMappingURL=ObjectProcessor.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PinEvent_1 = require(\"../api/PinEvent\");\n/**\n * Pins objects in memory\n *\n * @private\n */\nvar Pin = /** @class */ (function () {\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * @private\n     */\n    function Pin(dispatcher) {\n        /*============================================================================*/\n        /* Private Properties                                                         */\n        /*============================================================================*/\n        this._instances = new Map();\n        this._dispatcher = dispatcher;\n    }\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n    /**\n     * Pin an object in memory\n     * @param instance Instance to pin\n     */\n    Pin.prototype.detain = function (instance) {\n        if (!this._instances.get(instance)) {\n            this._instances.set(instance, true);\n            this._dispatcher.dispatchEvent(new PinEvent_1.PinEvent(PinEvent_1.PinEvent.DETAIN, instance));\n        }\n    };\n    /**\n     * Unpins an object\n     * @param instance Instance to unpin\n     */\n    Pin.prototype.release = function (instance) {\n        if (this._instances.get(instance)) {\n            this._instances.delete(instance);\n            this._dispatcher.dispatchEvent(new PinEvent_1.PinEvent(PinEvent_1.PinEvent.RELEASE, instance));\n        }\n    };\n    /**\n     * Removes all pins\n     */\n    Pin.prototype.releaseAll = function () {\n        var _this = this;\n        this._instances.forEach(function (value, key) { return _this.release(key); });\n    };\n    return Pin;\n}());\nexports.Pin = Pin;\n//# sourceMappingURL=Pin.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar inversify_1 = require(\"inversify\");\n/**\n * Robotlegs IInjector Adapter\n */\nvar RobotlegsInjector = /** @class */ (function (_super) {\n    tslib_1.__extends(RobotlegsInjector, _super);\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n    /**\n     * Creates a new Injector\n     */\n    function RobotlegsInjector() {\n        return _super.call(this) || this;\n    }\n    RobotlegsInjector = tslib_1.__decorate([\n        inversify_1.injectable(),\n        tslib_1.__metadata(\"design:paramtypes\", [])\n    ], RobotlegsInjector);\n    return RobotlegsInjector;\n}(inversify_1.Container));\nexports.RobotlegsInjector = RobotlegsInjector;\n//# sourceMappingURL=RobotlegsInjector.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\n/**\n * Utility for generating unique object IDs\n */\nvar UID = /** @class */ (function () {\n    function UID() {\n    }\n    /**\n     * Generates a UID for a given source object or class\n     * @param source The source object or class\n     * @return Generated UID\n     */\n    UID.create = function (source) {\n        return inversify_1.id().toString();\n    };\n    return UID;\n}());\nexports.UID = UID;\n//# sourceMappingURL=UID.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar instantiateUnmapped_1 = require(\"./instantiateUnmapped\");\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * <p>A hook can be a function, object or class.</p>\n *\n * <p>When an object is passed it is expected to expose a \"hook\" method.</p>\n *\n * <p>When a class is passed, an instance of that class will be instantiated and called.\n * If an injector is provided the instance will be created using that injector,\n * otherwise the instance will be created manually.</p>\n *\n * @param hooks An array of hooks\n * @param injector An optional Injector\n */\nfunction applyHooks(hooks, injector) {\n    for (var _i = 0, hooks_1 = hooks; _i < hooks_1.length; _i++) {\n        var hook = hooks_1[_i];\n        if (typeof hook === \"function\" && hook.prototype.hook === undefined) {\n            hook();\n            continue;\n        }\n        if (typeof hook === \"function\" && hook.prototype.hook !== undefined) {\n            hook = injector ? instantiateUnmapped_1.instantiateUnmapped(injector, hook) : new hook();\n        }\n        hook.hook();\n    }\n}\nexports.applyHooks = applyHooks;\n//# sourceMappingURL=applyHooks.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * Returns the fully qualified class name of an object. Support EcmaScript from v3 upto v6.\n *\n * @param {any} value The object for which a fully qualified class name is desired.\n * @return {string} A string containing the fully qualified class name.\n */\nfunction getQualifiedClassName(value) {\n    // es pattern\n    var v3 = /function\\ ([^\\(]+)/;\n    var v6 = /class\\ ([^\\ ]+)/;\n    var classDescriptor = value.toString();\n    var result = classDescriptor.match(v3) || classDescriptor.match(v6);\n    return result[1];\n}\nexports.getQualifiedClassName = getQualifiedClassName;\n//# sourceMappingURL=getQualifiedClassName.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar instantiateUnmapped_1 = require(\"./instantiateUnmapped\");\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * <p>A guard can be a function, object or class.</p>\n *\n * <p>When a function is provided it is expected to return a boolean when called.</p>\n *\n * <p>When an object is provided it is expected to expose an \"approve\" method\n * that returns a boolean.</p>\n *\n * <p>When a class is provided, an instance of that class will be instantiated and tested.\n * If an injector is provided the instance will be created using that injector,\n * otherwise the instance will be created manually.</p>\n *\n * @param guards An array of guards\n * @param injector An optional Injector\n *\n * @return A boolean value of false if any guard returns false\n */\nfunction guardsApprove(guards, injector) {\n    for (var _i = 0, guards_1 = guards; _i < guards_1.length; _i++) {\n        var guard = guards_1[_i];\n        if (typeof guard === \"function\" && guard.prototype.approve === undefined) {\n            if (guard()) {\n                continue;\n            }\n            return false;\n        }\n        if (typeof guard === \"function\" && guard.prototype.approve !== undefined) {\n            guard = injector ? instantiateUnmapped_1.instantiateUnmapped(injector, guard) : new guard();\n        }\n        if (!guard.approve()) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.guardsApprove = guardsApprove;\n//# sourceMappingURL=guardsApprove.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * Instantiate a object inside the context of the injector without keeping it for future requests.\n * All injections of the object will be provided by the injector, but the injector will not keep\n * a reference of the object for future requests.\n *\n * @param injector An injector\n * @param type A object that must be instantiated\n */\nfunction instantiateUnmapped(injector, type) {\n    injector.bind(type).to(type);\n    var instance = injector.get(type);\n    injector.unbind(type);\n    return instance;\n}\nexports.instantiateUnmapped = instantiateUnmapped;\n//# sourceMappingURL=instantiateUnmapped.js.map","\"use strict\";\n// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*============================================================================*/\n/* Public Functions                                                           */\n/*============================================================================*/\n/**\n * <p>Helper function to call any of the 3 forms of eventual callback: </p>\n *\n * <code>(), (error) and (error, message)</code>\n *\n * <p>NOTE: This helper will not handle null callbacks. You should check\n * if the callback is null from the calling location: </p>\n *\n * <code>callback &amp;&amp; safelyCallBack(callback, error, message);</code>\n *\n * <p>This prevents the overhead of calling safelyCallBack()\n * when there is no callback to call. Likewise it reduces the overhead\n * of a null check in safelyCallBack().</p>\n *\n * <p>QUESTION: Is this too harsh? Should we protect from null?</p>\n *\n * @param callback The actual callback\n * @param error An optional error\n * @param message An optional message\n */\nfunction safelyCallBack(callback, error, message) {\n    if (callback.length === 0) {\n        callback();\n    }\n    else if (callback.length === 1) {\n        callback(error);\n    }\n    else if (callback.length === 2) {\n        callback(error, message);\n    }\n    else {\n        throw new TypeError(\"Callback function accepts more than two parameters.\");\n    }\n}\nexports.safelyCallBack = safelyCallBack;\n//# sourceMappingURL=safelyCallBack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar id_1 = require(\"../utils/id\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.id = id_1.id();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nexports.UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nexports.ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nexports.POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar id_1 = require(\"../utils/id\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.id = id_1.id();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container = new Container();\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        var bindingDictionary1 = planner_1.getBindingDictionary(container1);\n        var bindingDictionary2 = planner_1.getBindingDictionary(container2);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        copyDictionary(bindingDictionary1, bindingDictionary);\n        copyDictionary(bindingDictionary2, bindingDictionary);\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.id);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.id);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.id);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions || this.options);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = this.createChild();\n        tempContainer.bind(constructorFunction).toSelf();\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nexports.Container = container_1.Container;\nvar literal_types_1 = require(\"./constants/literal_types\");\nexports.BindingScopeEnum = literal_types_1.BindingScopeEnum;\nexports.BindingTypeEnum = literal_types_1.BindingTypeEnum;\nexports.TargetTypeEnum = literal_types_1.TargetTypeEnum;\nvar container_module_1 = require(\"./container/container_module\");\nexports.AsyncContainerModule = container_module_1.AsyncContainerModule;\nexports.ContainerModule = container_module_1.ContainerModule;\nvar injectable_1 = require(\"./annotation/injectable\");\nexports.injectable = injectable_1.injectable;\nvar tagged_1 = require(\"./annotation/tagged\");\nexports.tagged = tagged_1.tagged;\nvar named_1 = require(\"./annotation/named\");\nexports.named = named_1.named;\nvar inject_1 = require(\"./annotation/inject\");\nexports.inject = inject_1.inject;\nexports.LazyServiceIdentifer = inject_1.LazyServiceIdentifer;\nvar optional_1 = require(\"./annotation/optional\");\nexports.optional = optional_1.optional;\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nexports.unmanaged = unmanaged_1.unmanaged;\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nexports.multiInject = multi_inject_1.multiInject;\nvar target_name_1 = require(\"./annotation/target_name\");\nexports.targetName = target_name_1.targetName;\nvar post_construct_1 = require(\"./annotation/post_construct\");\nexports.postConstruct = post_construct_1.postConstruct;\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nexports.MetadataReader = metadata_reader_1.MetadataReader;\nvar id_1 = require(\"./utils/id\");\nexports.id = id_1.id;\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nexports.decorate = decorator_utils_1.decorate;\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nexports.traverseAncerstors = constraint_helpers_1.traverseAncerstors;\nexports.taggedConstraint = constraint_helpers_1.taggedConstraint;\nexports.namedConstraint = constraint_helpers_1.namedConstraint;\nexports.typeConstraint = constraint_helpers_1.typeConstraint;\nvar serialization_1 = require(\"./utils/serialization\");\nexports.getServiceIdentifierAsString = serialization_1.getServiceIdentifierAsString;\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nexports.multiBindToService = binding_utils_1.multiBindToService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Context = (function () {\n    function Context(container) {\n        this.id = id_1.id();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nexports.getFunctionName = serialization_1.getFunctionName;\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var iterations = (hasUserDeclaredUnknownInjections) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = constructorTargets.concat(propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = targets.concat(baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.id = id_1.id();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar id_1 = require(\"../utils/id\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.id = id_1.id();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (m) {\n            return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                (m.key !== METADATA_KEY.NAME_TAG) &&\n                (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                (m.key !== METADATA_KEY.NAMED_TAG);\n        });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (m) {\n                return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.NAME_TAG) &&\n                    (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                    (m.key !== METADATA_KEY.NAMED_TAG);\n            });\n        }\n        return null;\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.id)) {\n                return requestScope.get(binding_1.id);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.id)) {\n                requestScope.set(binding_1.id, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar idCounter = 0;\nfunction id() {\n    return idCounter++;\n}\nexports.id = id;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 § 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IBundle, IContext, ILogger, instanceOfType } from \"@robotlegsjs/core\";\n\nimport { IContextSceneManager } from \"../../extensions/contextSceneManager/api/IContextSceneManager\";\nimport { ContextSceneManager } from \"../../extensions/contextSceneManager/impl/ContextSceneManager\";\nimport { ContextSceneManagerListenerConfig } from \"../../extensions/contextSceneManager/impl/ContextSceneManagerListenerConfig\";\nimport { ContextSceneManagerExtension } from \"../../extensions/contextSceneManager/ContextSceneManagerExtension\";\n\nimport { SceneMediatorMapExtension } from \"../../extensions/mediatorMap/SceneMediatorMapExtension\";\nimport { ViewMediatorMapExtension } from \"../../extensions/mediatorMap/ViewMediatorMapExtension\";\n\nimport { SceneManagerExtension } from \"../../extensions/viewManager/SceneManagerExtension\";\nimport { SceneManagerObserverExtension } from \"../../extensions/viewManager/SceneManagerObserverExtension\";\nimport { LocalEventEmitterMapExtension } from \"../../extensions/localEventEmitterMap/LocalEventEmitterMapExtension\";\n\n/**\n * For that Classic Robotlegs flavour\n *\n * <p>This bundle installs a number of extensions commonly used\n * in typical Robotlegs applications and modules.</p>\n */\nexport class PhaserBundle implements IBundle {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _context: IContext;\n    private _logger: ILogger;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        this._context = context;\n        this._logger = context.getLogger(this);\n\n        this._context.install(\n            ContextSceneManagerExtension,\n            LocalEventEmitterMapExtension,\n            SceneManagerExtension,\n            SceneManagerObserverExtension,\n            SceneMediatorMapExtension,\n            ViewMediatorMapExtension\n        );\n\n        this._context.addConfigHandler(instanceOfType(ContextSceneManager), this.handleContextSceneManager.bind(this));\n        this._context.whenInitializing(this.whenInitializing.bind(this));\n        this._context.afterDestroying(this.afterDestroying.bind(this));\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private handleContextSceneManager(contextSceneManager: ContextSceneManager): void {\n        this._context.configure(ContextSceneManagerListenerConfig);\n    }\n\n    private whenInitializing(): void {\n        if (!this._context.injector.isBound(IContextSceneManager)) {\n            this._logger.error(\"PhaserBundle requires IContextSceneManager.\");\n        }\n    }\n\n    private afterDestroying(): void {\n        this._context = null;\n        this._logger = null;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension, IInjector, ILogger, instanceOfType } from \"@robotlegsjs/core\";\nimport { IContextSceneManager } from \"./api/IContextSceneManager\";\nimport { ContextSceneManager } from \"./impl/ContextSceneManager\";\n\n/**\n * <p>This Extension waits for a ContextSceneManager to be added as a configuration\n * and maps it into the context's injector.</p>\n *\n * <p>It should be installed before context initialization.</p>\n */\nexport class ContextSceneManagerExtension implements IExtension {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _injector: IInjector;\n\n    private _logger: ILogger;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        this._injector = context.injector;\n        this._logger = context.getLogger(this);\n        context.beforeInitializing(this.beforeInitializing.bind(this));\n        context.addConfigHandler(instanceOfType(ContextSceneManager), this.handleContextSceneManager.bind(this));\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private handleContextSceneManager(contextSceneManager: IContextSceneManager): void {\n        if (this._injector.isBound(IContextSceneManager)) {\n            this._logger.warn(\"A contextSceneManager has already been installed, ignoring {0}\", [contextSceneManager.sceneManager]);\n        } else {\n            this._logger.debug(\"Mapping {0} as contextSceneManager\", [contextSceneManager.sceneManager]);\n\n            this._injector.bind(IContextSceneManager).toConstantValue(contextSceneManager);\n        }\n    }\n\n    private beforeInitializing(): void {\n        if (!this._injector.isBound(IContextSceneManager)) {\n            this._logger.error(\"A ContextSceneManager must be installed if you install the ContextSceneManagerExtension.\");\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nexport const IContextSceneManager = Symbol(\"IContextSceneManager\");\nexport interface IContextSceneManager {\n    sceneManager: Phaser.Scenes.SceneManager;\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IConfig } from \"@robotlegsjs/core\";\n\nimport { IContextSceneManager } from \"../api/IContextSceneManager\";\n\n/**\n * The Context SceneManager represents the Phaser.Scenes.SceneManager for a Context\n */\nexport class ContextSceneManager implements IContextSceneManager, IConfig {\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _sceneManager: Phaser.Scenes.SceneManager;\n\n    /**\n     * The root Phaser.Scenes.SceneManager for this Context\n     */\n    public get sceneManager(): Phaser.Scenes.SceneManager {\n        return this._sceneManager;\n    }\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * The SceneManager represents the root Phaser.Scenes.SceneManager for a Context\n     * @param sceneManager The root Scene Manager for this Context\n     */\n    constructor(sceneManager: Phaser.Scenes.SceneManager) {\n        if (sceneManager !== null && sceneManager !== undefined) {\n            this._sceneManager = sceneManager;\n        } else {\n            throw new Error(\"SceneManager can't be null or undefined\");\n        }\n    }\n\n    /**\n     *\n     */\n    public configure(): void {}\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { inject, injectable, IConfig } from \"@robotlegsjs/core\";\n\nimport { ISceneManager } from \"../../viewManager/api/ISceneManager\";\nimport { IContextSceneManager } from \"../api/IContextSceneManager\";\n\n/**\n * This configuration file adds the ContextSceneManager to the sceneManager.\n *\n * It requires that the SceneManagerExtension, ContextSceneManagerExtension\n * and a ContextSceneManager have been installed.\n */\n@injectable()\nexport class ContextSceneManagerListenerConfig implements IConfig {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _contextSceneManager: IContextSceneManager;\n\n    private _sceneManager: ISceneManager;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    constructor(\n        @inject(IContextSceneManager) contextSceneManager: IContextSceneManager,\n        @inject(ISceneManager) sceneManager: ISceneManager\n    ) {\n        this._contextSceneManager = contextSceneManager;\n        this._sceneManager = sceneManager;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public configure(): void {\n        // Adds the SceneManager to the View Manager at startup\n        this._sceneManager.addSceneManager(this._contextSceneManager.sceneManager);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension } from \"@robotlegsjs/core\";\n\nimport { IEventEmitterMap } from \"./api/IEventEmitterMap\";\nimport { EventEmitterMap } from \"./impl/EventEmitterMap\";\n\n/**\n * An Event Map keeps track of listeners and provides the ability\n * to unregister all listeners with a single method call.\n */\nexport class LocalEventEmitterMapExtension implements IExtension {\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        context.injector.bind(IEventEmitterMap).to(EventEmitterMap);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IEventMap } from \"@robotlegsjs/core\";\n\n/**\n * The Event Emitter Map keeps track of listeners and provides the ability\n * to unregister all Phaser.Events.EventEmitter listeners with a single method call.\n */\nexport const IEventEmitterMap = Symbol(\"IEventEmitterMap\");\nexport interface IEventEmitterMap extends IEventMap {\n    /**\n     * The same as calling `on` or `addListener` directly on the `Phaser.Events.EventEmitter`,\n     * but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context the listener function's \"this\"\n     */\n    on(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void;\n\n    /**\n     * The same as calling `once` directly on the `Phaser.Events.EventEmitter`,\n     * but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context the listener function's \"this\"\n     */\n    once(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void;\n\n    /**\n     * The same as calling `off` or `removeListener` directly on the `Phaser.Events.EventEmitter`,\n     * but updates our local list of listeners.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context the listener function's \"this\"\n     */\n    off(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener?: Function, context?: any): void;\n\n    /**\n     * Removes all listeners registered through `on` or `once`\n     */\n    unmapEventEmitterListeners(): void;\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, EventMap } from \"@robotlegsjs/core\";\n\nimport { IEventEmitterMap } from \"../api/IEventEmitterMap\";\nimport { EventEmitterMapConfig } from \"./EventEmitterMapConfig\";\n\n/**\n * @private\n */\n@injectable()\nexport class EventEmitterMap extends EventMap implements IEventEmitterMap {\n    /*============================================================================*/\n    /* Protected Properties                                                       */\n    /*============================================================================*/\n\n    protected _eventEmitterListeners: EventEmitterMapConfig[] = [];\n    protected _suspendedEventEmitterListeners: EventEmitterMapConfig[] = [];\n\n    protected get _currentEventEmitterListeners(): EventEmitterMapConfig[] {\n        return this._suspended ? this._suspendedEventEmitterListeners : this._eventEmitterListeners;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public on(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._registerEventEmitterListener(emitter, event, listener, context);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public once(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._registerEventEmitterListener(emitter, event, listener, context, true);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public off(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._unregisterEventEmitterListener(emitter, event, listener, context);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmapEventEmitterListeners(): void {\n        let eventConfig: EventEmitterMapConfig;\n\n        while (this._currentEventEmitterListeners.length) {\n            eventConfig = this._currentEventEmitterListeners[this._currentEventEmitterListeners.length - 1];\n            this._unregisterEventEmitterListener(eventConfig.emitter, eventConfig.event, eventConfig.listener, eventConfig.context);\n        }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmapAllListeners(): void {\n        super.unmapAllListeners();\n\n        this.unmapEventEmitterListeners();\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public suspend(): void {\n        if (this._suspended) {\n            return;\n        }\n\n        // Handle Phaser.Events.EventEmitter's\n        let emitter: Phaser.Events.EventEmitter;\n\n        this._eventEmitterListeners.forEach((eventConfig: EventEmitterMapConfig) => {\n            emitter = eventConfig.emitter;\n            if (eventConfig.once) {\n                emitter.off(eventConfig.event, eventConfig.calback, eventConfig.context, eventConfig.once);\n            } else {\n                emitter.off(eventConfig.event, eventConfig.listener, eventConfig.context, eventConfig.once);\n            }\n            this._suspendedEventEmitterListeners.push(eventConfig);\n        });\n\n        this._eventEmitterListeners = [];\n\n        super.suspend();\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public resume(): void {\n        if (!this._suspended) {\n            return;\n        }\n\n        // Handle Phaser.Events.EventEmitter's\n        let emitter: Phaser.Events.EventEmitter;\n\n        this._suspendedEventEmitterListeners.forEach((eventConfig: EventEmitterMapConfig) => {\n            emitter = eventConfig.emitter;\n            if (eventConfig.once) {\n                emitter.once(eventConfig.event, eventConfig.calback, eventConfig.context);\n            } else {\n                emitter.on(eventConfig.event, eventConfig.listener, eventConfig.context);\n            }\n            this._eventEmitterListeners.push(eventConfig);\n        });\n\n        this._suspendedEventEmitterListeners = [];\n\n        super.resume();\n    }\n\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n\n    protected _registerEventEmitterListener(\n        emitter: Phaser.Events.EventEmitter,\n        event: string | symbol,\n        listener: Function,\n        context?: any,\n        once?: boolean\n    ): void {\n        let config: EventEmitterMapConfig;\n\n        let i: number = this._currentEventEmitterListeners.length;\n        while (i--) {\n            config = this._currentEventEmitterListeners[i];\n            if (config.equalTo(emitter, event, listener, context)) {\n                return;\n            }\n        }\n\n        if (once) {\n            config = new EventEmitterMapConfig(emitter, event, listener, context, once);\n            config.calback = this._onceCallback(config);\n        } else {\n            config = new EventEmitterMapConfig(emitter, event, listener, context);\n        }\n\n        this._currentEventEmitterListeners.push(config);\n\n        if (!this._suspended) {\n            if (once) {\n                emitter.once(event, config.calback, context);\n            } else {\n                emitter.on(event, listener, context);\n            }\n        }\n    }\n\n    protected _onceCallback(eventConfig: EventEmitterMapConfig): Function {\n        return (...args: any[]): void => {\n            let i: number = this._currentEventEmitterListeners.length;\n\n            while (i--) {\n                let config: EventEmitterMapConfig = this._currentEventEmitterListeners[i];\n                if (config.equalTo(eventConfig.emitter, eventConfig.event, eventConfig.listener, eventConfig.context)) {\n                    this._currentEventEmitterListeners.splice(i, 1);\n                    eventConfig.listener.apply(eventConfig.context, args);\n                    return;\n                }\n            }\n        };\n    }\n\n    protected _unregisterEventEmitterListener(\n        emitter: Phaser.Events.EventEmitter,\n        event: string | symbol,\n        listener: Function,\n        context?: any\n    ): void {\n        let i: number = this._currentEventEmitterListeners.length;\n        while (i--) {\n            let config: EventEmitterMapConfig = this._currentEventEmitterListeners[i];\n            if (config.equalTo(emitter, event, listener, context)) {\n                if (!this._suspended) {\n                    if (config.once) {\n                        emitter.off(event, config.calback, config.context, config.once);\n                    } else {\n                        emitter.off(event, config.listener, config.context, config.once);\n                    }\n                }\n                this._currentEventEmitterListeners.splice(i, 1);\n                return;\n            }\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\n/**\n * @private\n */\nexport class EventEmitterMapConfig {\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _emitter: Phaser.Events.EventEmitter;\n\n    /**\n     * @private\n     */\n    public get emitter(): Phaser.Events.EventEmitter {\n        return this._emitter;\n    }\n\n    private _event: string | symbol;\n\n    /**\n     * @private\n     */\n    public get event(): string | symbol {\n        return this._event;\n    }\n\n    private _listener: Function;\n\n    /**\n     * @private\n     */\n    public get listener(): Function {\n        return this._listener;\n    }\n\n    private _context: any;\n\n    /**\n     * @private\n     */\n    public get context(): any {\n        return this._context;\n    }\n\n    private _once: boolean;\n\n    /**\n     * @private\n     */\n    public get once(): boolean {\n        return this._once;\n    }\n\n    private _calback: Function;\n\n    /**\n     * @private\n     */\n    public get calback(): Function {\n        return this._calback;\n    }\n\n    /**\n     * @private\n     */\n    public set calback(value: Function) {\n        this._calback = value;\n    }\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context: any, once?: boolean) {\n        this._emitter = emitter;\n        this._event = event;\n        this._listener = listener;\n        this._context = context;\n        this._once = once;\n    }\n\n    public equalTo(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context: any): boolean {\n        return this._emitter === emitter && this._event === event && this._listener === listener && this._context === context;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension, IInjector } from \"@robotlegsjs/core\";\n\nimport { ISceneManager } from \"../viewManager/api/ISceneManager\";\n\nimport { ISceneMediatorMap } from \"./api/ISceneMediatorMap\";\nimport { SceneMediatorMap } from \"./impl/SceneMediatorMap\";\n\n/**\n * This extension installs a shared ISceneMediatorMap into the context\n */\nexport class SceneMediatorMapExtension implements IExtension {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _injector: IInjector;\n\n    private _mediatorMap: SceneMediatorMap;\n\n    private _sceneManager: ISceneManager;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        context\n            .beforeInitializing(this.beforeInitializing.bind(this))\n            .beforeDestroying(this.beforeDestroying.bind(this))\n            .whenDestroying(this.whenDestroying.bind(this));\n        this._injector = context.injector;\n        this._injector\n            .bind(ISceneMediatorMap)\n            .to(SceneMediatorMap)\n            .inSingletonScope();\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private beforeInitializing(): void {\n        this._mediatorMap = this._injector.get<SceneMediatorMap>(ISceneMediatorMap);\n        if (this._injector.isBound(ISceneManager)) {\n            this._sceneManager = this._injector.get<ISceneManager>(ISceneManager);\n            this._sceneManager.addSceneHandler(this._mediatorMap);\n        }\n    }\n\n    private beforeDestroying(): void {\n        this._mediatorMap.unmediateAll();\n        if (this._injector.isBound(ISceneManager)) {\n            this._sceneManager = this._injector.get<ISceneManager>(ISceneManager);\n            this._sceneManager.removeSceneHandler(this._mediatorMap);\n        }\n    }\n\n    private whenDestroying(): void {\n        if (this._injector.isBound(ISceneMediatorMap)) {\n            this._injector.unbind(ISceneMediatorMap);\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension, IInjector } from \"@robotlegsjs/core\";\n\nimport { ISceneManager } from \"../viewManager/api/ISceneManager\";\n\nimport { IViewMediatorMap } from \"./api/IViewMediatorMap\";\nimport { ViewMediatorMap } from \"./impl/ViewMediatorMap\";\n\n/**\n * This extension installs a shared IViewMediatorMap into the context\n */\nexport class ViewMediatorMapExtension implements IExtension {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _injector: IInjector;\n\n    private _mediatorMap: ViewMediatorMap;\n\n    private _sceneManager: ISceneManager;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        context\n            .beforeInitializing(this.beforeInitializing.bind(this))\n            .beforeDestroying(this.beforeDestroying.bind(this))\n            .whenDestroying(this.whenDestroying.bind(this));\n        this._injector = context.injector;\n        this._injector\n            .bind(IViewMediatorMap)\n            .to(ViewMediatorMap)\n            .inSingletonScope();\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private beforeInitializing(): void {\n        this._mediatorMap = this._injector.get<ViewMediatorMap>(IViewMediatorMap);\n        if (this._injector.isBound(ISceneManager)) {\n            this._sceneManager = this._injector.get<ISceneManager>(ISceneManager);\n            this._sceneManager.addViewHandler(this._mediatorMap);\n        }\n    }\n\n    private beforeDestroying(): void {\n        this._mediatorMap.unmediateAll();\n        if (this._injector.isBound(ISceneManager)) {\n            this._sceneManager = this._injector.get<ISceneManager>(ISceneManager);\n            this._sceneManager.removeViewHandler(this._mediatorMap);\n        }\n    }\n\n    private whenDestroying(): void {\n        if (this._injector.isBound(IViewMediatorMap)) {\n            this._injector.unbind(IViewMediatorMap);\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass, ITypeMatcher } from \"@robotlegsjs/core\";\n\nimport { IMediatorMapper } from \"../dsl/IMediatorMapper\";\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\n/**\n * The SceneMediator Map allows you to bind Mediators to Phaser.Scene objects\n */\nexport const ISceneMediatorMap = Symbol(\"ISceneMediatorMap\");\nexport interface ISceneMediatorMap {\n    /**\n     * Maps a matcher that will be tested against incoming items to be handled.\n     * @param matcher The type or package matcher specifying the rules for matching.\n     * @return the mapper so that you can continue the mapping.\n     */\n    mapMatcher(matcher: ITypeMatcher): IMediatorMapper;\n\n    /**\n     * Maps a Phaser.Scene that will be tested against incoming items to be handled.\n     * Under the hood this will create a TypeMatcher for this scene.\n     * @param scene The class or interface to be matched against.\n     * @return the mapper so that you can continue the mapping.\n     */\n    map(scene: IClass<Phaser.Scene>): IMediatorMapper;\n\n    /**\n     * Removes a mapping that was made against a matcher.\n     * No error will be thrown if there isn't a mapping to remove.\n     * @param matcher The type or package matcher specifying the rules for matching.\n     * @return the unmapper so that you can continue the unmapping.\n     */\n    unmapMatcher(matcher: ITypeMatcher): IMediatorUnmapper;\n\n    /**\n     * Removes a mapping that was made against a scene.\n     * No error will be thrown if there isn't a mapping to remove.\n     * @param scene The class or interface to be matched against.\n     * @return the unmapper so that you can continue the unmapping.\n     */\n    unmap(scene: IClass<Phaser.Scene>): IMediatorUnmapper;\n\n    /**\n     * Mediates an scene directly. If the scene matches any mapped matchers or types then it will be mediated according to those mappings.\n     * @param scene The scene to create mediators for.\n     */\n    mediate(scene: IClass<Phaser.Scene>): void;\n\n    /**\n     * Removes the mediators for an scene if there are any.\n     * @param scene The scene to remove mediators for.\n     */\n    unmediate(scene: IClass<Phaser.Scene>): void;\n\n    /**\n     * Removes all mediators\n     */\n    unmediateAll(): void;\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass, ITypeMatcher } from \"@robotlegsjs/core\";\n\nimport { IMediatorMapper } from \"../dsl/IMediatorMapper\";\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\n/**\n * The IViewMediatorMap Map allows you to bind Mediators to Phaser.GameObjects.Container objects\n */\nexport const IViewMediatorMap = Symbol(\"IViewMediatorMap\");\nexport interface IViewMediatorMap {\n    /**\n     * Maps a matcher that will be tested against incoming items to be handled.\n     * @param matcher The type or package matcher specifying the rules for matching.\n     * @return the mapper so that you can continue the mapping.\n     */\n    mapMatcher(matcher: ITypeMatcher): IMediatorMapper;\n\n    /**\n     * Maps a Phaser.GameObjects.Container that will be tested against incoming items to be handled.\n     * Under the hood this will create a TypeMatcher for this view container.\n     * @param view The class or interface to be matched against.\n     * @return the mapper so that you can continue the mapping.\n     */\n    map(view: IClass<Phaser.GameObjects.Container>): IMediatorMapper;\n\n    /**\n     * Removes a mapping that was made against a matcher.\n     * No error will be thrown if there isn't a mapping to remove.\n     * @param matcher The type or package matcher specifying the rules for matching.\n     * @return the unmapper so that you can continue the unmapping.\n     */\n    unmapMatcher(matcher: ITypeMatcher): IMediatorUnmapper;\n\n    /**\n     * Removes a mapping that was made against a view.\n     * No error will be thrown if there isn't a mapping to remove.\n     * @param view The class or interface to be matched against.\n     * @return the unmapper so that you can continue the unmapping.\n     */\n    unmap(view: IClass<Phaser.GameObjects.Container>): IMediatorUnmapper;\n\n    /**\n     * Mediates an view directly. If the view matches any mapped matchers or types then it will be mediated according to those mappings.\n     * @param view The view to create mediators for.\n     */\n    mediate(view: IClass<Phaser.GameObjects.Container>): void;\n\n    /**\n     * Removes the mediators for an scene if there are any.\n     * @param view The view to remove mediators for.\n     */\n    unmediate(view: IClass<Phaser.GameObjects.Container>): void;\n\n    /**\n     * Removes all mediators\n     */\n    unmediateAll(): void;\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject, IClass, IEvent, IEventDispatcher, Event } from \"@robotlegsjs/core\";\n\nimport { IMediator } from \"../api/IMediator\";\n\nimport { IEventEmitterMap } from \"../../localEventEmitterMap/api/IEventEmitterMap\";\n\n/**\n * Abstract mediator implementation used by `SceneMediator` and `ViewMediator` classes.\n */\n@injectable()\nexport abstract class AbstractMediator implements IMediator {\n    /*============================================================================*/\n    /* Protected Properties                                                       */\n    /*============================================================================*/\n\n    @inject(IEventEmitterMap)\n    protected _eventEmitterMap: IEventEmitterMap;\n\n    @inject(IEventDispatcher)\n    protected _eventDispatcher: IEventDispatcher;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public abstract initialize(): void;\n\n    /**\n     * @inheritDoc\n     */\n    public abstract destroy(): void;\n\n    /**\n     * Runs after the mediator has been destroyed.\n     * Cleans up listeners mapped through the local EventEmitterMap.\n     */\n    public postDestroy(): void {\n        this._eventEmitterMap.unmapListeners();\n    }\n\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n\n    /**\n     * Use this method to listen for events dispatched by the `Phaser.Events.EventEmitter`.\n     * All the registered listeners will be automatically removed when this mediator is destroyed.\n     *\n     * Call this method is the same as calling `on` or `addListener` directly on the\n     * `Phaser.Events.EventEmitter`, but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * The `context` will be automatically mapped to `this` when no context information is provided.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context The listener function's \"this\"\n     */\n    protected on(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._eventEmitterMap.on(emitter, event, listener, context || this);\n    }\n\n    /**\n     * Use this method to listen for events dispatched by the `Phaser.Events.EventEmitter`.\n     * All the registered listeners will be automatically removed when this mediator is destroyed.\n     *\n     * Call this method is the same as calling `once` directly on the\n     * `Phaser.Events.EventEmitter`, but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * The `context` will be automatically mapped to `this` when no context information is provided.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context The listener function's \"this\"\n     */\n    protected once(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._eventEmitterMap.once(emitter, event, listener, context || this);\n    }\n\n    /**\n     * Use this method to remove listeners from events dispatched by the `Phaser.Events.EventEmitter`.\n     *\n     * Call this method is the same as calling `off` directly on the\n     * `Phaser.Events.EventEmitter` emitter, but updates our local list of listeners.\n     *\n     * The `context` will be automatically mapped to `this` when no context information is provided.\n     *\n     * @param emitter The `Phaser.Events.EventEmitter` to listen to\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param contextt The listener function's \"this\"\n     */\n    protected off(emitter: Phaser.Events.EventEmitter, event: string | symbol, listener: Function, context?: any): void {\n        this._eventEmitterMap.off(emitter, event, listener, context || this);\n    }\n\n    /**\n     * Use this method to listen for events dispatched by the `EventDispatcher/code> provided by RobotlegsJS core.\n     *\n     * Call this method is the same as calling `addEventListener` directly on the\n     * `EventDispatcher`, but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * The `context` will be automatically set to `this` when no context information is provided.\n     *\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context The listener function's \"this\"\n     * @param eventClass Optional Event class for a stronger mapping.\n     * @param useCapture Determines whether the listener works in the capture phase or the bubbling phases.\n     * @param priority The priority level of the event listener.\n     */\n    protected addContextListener(\n        event: string,\n        listener: Function,\n        context?: any,\n        eventClass?: IClass<IEvent>,\n        useCapture?: boolean,\n        priority?: number\n    ): void {\n        this._eventEmitterMap.mapListener(this._eventDispatcher, event, listener, context || this, eventClass, useCapture, priority);\n    }\n\n    /**\n     * Use this method to remove listeners from events dispatched by the `EventDispatcher/code> provided by RobotlegsJS core.\n     *\n     * Call this method is the same as calling `removeEventListener` directly on the\n     * `EventDispatcher`, but updates our local list of listeners.\n     *\n     * The `context` will be automatically set to `this` when no context information is provided.\n     *\n     * @param event The `event` type to listen for\n     * @param listener The `event` handler\n     * @param context The listener function's \"this\"\n     * @param eventClass Optional Event class for a stronger mapping.\n     * @param useCapture Determines whether the listener works in the capture phase or the bubbling phases.\n     * @param priority The priority level of the event listener.\n     */\n    protected removeContextListener(\n        event: string,\n        listener: Function,\n        context?: any,\n        eventClass?: IClass<IEvent>,\n        useCapture?: boolean\n    ): void {\n        this._eventEmitterMap.unmapListener(this._eventDispatcher, event, listener, context || this, eventClass, useCapture);\n    }\n\n    /**\n     * Use this method to listen for DOM events dispatched by the provided `EventTarget/code>.\n     *\n     * Call this method is the same as calling `addEventListener` directly on the\n     * `EventTarget`, but keeps a list of listeners for easy (usually automatic) removal.\n     *\n     * @param eventTarget The `EventTarget` to listen to\n     * @param event The `Event` type to listen for\n     * @param listener The `Event` handler\n     * @param options An options object that specifies characteristics about the event listener\n     */\n    protected addDomListener(\n        eventTarget: EventTarget,\n        event: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: boolean | AddEventListenerOptions\n    ): void {\n        this._eventEmitterMap.mapDomListener(eventTarget, event, listener, options);\n    }\n\n    /**\n     * Use this method to remove listeners from DOM events dispatched by the provided `EventTarget/code>.\n     *\n     * Call this method is the same as calling `removeEventListener` directly on the\n     * `EventTarget`, but updates our local list of listeners.\n     *\n     * @param dispatcher The `EventTarget`\n     * @param event The `Event` type\n     * @param listener The `Event` handler\n     * @param options An options object that specifies characteristics about the event listener\n     */\n    protected removeDomListener(eventTarget: EventTarget, event: string, listener: EventListenerOrEventListenerObject): void {\n        this._eventEmitterMap.unmapDomListener(eventTarget, event, listener);\n    }\n\n    /**\n     * Use this method to dispatch events to the Robotlegs context through the `EventDispatcher/code> provided by RobotlegsJS core.\n     *\n     * Call this method to trigger the execution of commands, call external services or communicate with other mediators.\n     *\n     * @param event The `Event` to dispatch\n     */\n    protected dispatch(event: Event): void {\n        this._eventDispatcher.dispatchEvent(event);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass, IType, IInjector, applyHooks, guardsApprove, instantiateUnmapped, ITypeFilter } from \"@robotlegsjs/core\";\n\nimport { IMediatorManager } from \"../api/IMediatorManager\";\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\n\n/**\n * @protected\n */\nexport abstract class AbstractMediatorFactory {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    protected _mediators: Map<any, any> = new Map<any, any>();\n\n    protected _injector: IInjector;\n\n    protected _manager: IMediatorManager;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(injector: IInjector) {\n        this._injector = injector;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public getMediator(item: any, mapping: IMediatorMapping): any {\n        return this._mediators.get(item) ? this._mediators.get(item).get(<any>mapping) : null;\n    }\n\n    /**\n     * @private\n     */\n    public createMediators(item: any, type: IClass<any>, mappings: any[]): any[] {\n        let createdMediators: any[] = [];\n        let mediator: any;\n\n        mappings.forEach((mapping: IMediatorMapping) => {\n            mediator = this.getMediator(item, mapping);\n\n            if (!mediator) {\n                this.mapTypeForFilterBinding(mapping.matcher, type, item);\n                mediator = this.createMediator(item, mapping);\n                this.unmapTypeForFilterBinding(mapping.matcher, type, item);\n            }\n\n            if (mediator) {\n                createdMediators.push(mediator);\n            }\n        });\n\n        return createdMediators;\n    }\n\n    /**\n     * @private\n     */\n    public removeMediators(item: any): void {\n        let mediators: Map<any, IMediatorMapping> = this._mediators.get(item);\n        if (!mediators) {\n            return;\n        }\n\n        mediators.forEach((value, key) => this._manager.removeMediator(value, item, key));\n\n        this._mediators.delete(item);\n    }\n\n    /**\n     * @private\n     */\n    public removeAllMediators(): void {\n        this._mediators.forEach((value, key) => this.removeMediators(key));\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    protected createMediator(item: any, mapping: IMediatorMapping): any {\n        let mediator: any = this.getMediator(item, mapping);\n\n        if (mediator) {\n            return mediator;\n        }\n\n        if (mapping.guards.length === 0 || guardsApprove(mapping.guards, this._injector)) {\n            let mediatorClass: IClass<any> = mapping.mediatorClass;\n\n            mediator = instantiateUnmapped(this._injector, mediatorClass);\n\n            if (mapping.hooks.length > 0) {\n                this._injector.bind(mediatorClass).toConstantValue(mediator);\n                applyHooks(mapping.hooks, this._injector);\n                this._injector.unbind(mediatorClass);\n            }\n\n            this.addMediator(mediator, item, mapping);\n        }\n\n        return mediator;\n    }\n\n    protected addMediator(mediator: any, item: any, mapping: IMediatorMapping): void {\n        let mediatorMap = this._mediators.get(item) || new Map<any, IMediatorMapping>();\n        this._mediators.set(item, mediatorMap);\n        mediatorMap.set(<any>mapping, mediator);\n        this._manager.addMediator(mediator, item, mapping);\n    }\n\n    protected mapTypeForFilterBinding(filter: ITypeFilter, type: IClass<any>, item: any): void {\n        let requiredTypes = this.requiredTypesFor(filter, type);\n        requiredTypes.forEach((requiredType: IType<any>) => {\n            this._injector.bind(requiredType).toConstantValue(item);\n        });\n    }\n\n    protected unmapTypeForFilterBinding(filter: ITypeFilter, type: IClass<any>, item: any): void {\n        let requiredTypes = this.requiredTypesFor(filter, type);\n\n        requiredTypes.forEach((requiredType: IType<any>) => {\n            if (this._injector.isBound(requiredType)) {\n                this._injector.unbind(requiredType);\n            }\n        });\n    }\n\n    protected requiredTypesFor(filter: ITypeFilter, type: IClass<any>): IType<any>[] {\n        let requiredTypes: IType<any>[] = filter.allOfTypes.concat(filter.anyOfTypes);\n\n        if (requiredTypes.indexOf(type) === -1) {\n            requiredTypes.push(type);\n        }\n\n        return requiredTypes;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass } from \"@robotlegsjs/core\";\n\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\n\nimport { AbstractMediatorFactory } from \"./AbstractMediatorFactory\";\n\n/**\n * @private\n */\nexport abstract class AbstractMediatorHandler {\n    /*============================================================================*/\n    /* Protected Properties                                                       */\n    /*============================================================================*/\n\n    protected _mappings: IMediatorMapping[] = [];\n\n    protected _knownMappings: Map<IClass<any>, IMediatorMapping[] | boolean> = new Map<IClass<any>, IMediatorMapping[]>();\n\n    protected _factory: AbstractMediatorFactory;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(factory: AbstractMediatorFactory) {\n        this._factory = factory;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public addMapping(mapping: IMediatorMapping): void {\n        let index: number = this._mappings.indexOf(mapping);\n        if (index > -1) {\n            return;\n        }\n        this._mappings.push(mapping);\n        this._knownMappings.clear();\n    }\n\n    /**\n     * @private\n     */\n    public removeMapping(mapping: IMediatorMapping): void {\n        let index: number = this._mappings.indexOf(mapping);\n        if (index === -1) {\n            return;\n        }\n        this._mappings.splice(index, 1);\n        this._knownMappings.clear();\n    }\n\n    /**\n     * @private\n     */\n    public handleItem(item: any, type: IClass<any>): void {\n        let interestedMappings = this.getInterestedMappingsFor(item, type);\n        if (interestedMappings) {\n            this._factory.createMediators(item, type, interestedMappings);\n        }\n    }\n\n    /*============================================================================*/\n    /* Protected Functions                                                        */\n    /*============================================================================*/\n\n    protected getInterestedMappingsFor(item: any, type: IClass<any>): IMediatorMapping[] {\n        // we've seen this type before and nobody was interested\n        if (this._knownMappings.get(type) === false) {\n            return null;\n        }\n\n        // we haven't seen this type before\n        if (this._knownMappings.get(type) === undefined) {\n            this._knownMappings.set(type, false);\n\n            this._mappings.forEach((mapping: IMediatorMapping) => {\n                if (mapping.matcher.matches(item)) {\n                    if (!this._knownMappings.get(type)) {\n                        this._knownMappings.set(type, []);\n                    }\n                    (this._knownMappings.get(type) as IMediatorMapping[]).push(mapping);\n                }\n            });\n            // nobody cares, let's get out of here\n            if (this._knownMappings.get(type) === false) {\n                return null;\n            }\n        }\n\n        // these mappings really do care\n        return this._knownMappings.get(type) as IMediatorMapping[];\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { ILogger, ITypeFilter, IClass } from \"@robotlegsjs/core\";\n\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\nimport { IMediatorConfigurator } from \"../dsl/IMediatorConfigurator\";\nimport { IMediatorMapper } from \"../dsl/IMediatorMapper\";\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\nimport { AbstractMediatorHandler } from \"./AbstractMediatorHandler\";\nimport { MediatorMapping } from \"./MediatorMapping\";\n\n/**\n * @private\n */\nexport class MediatorMapper implements IMediatorMapper, IMediatorUnmapper {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    protected _mappings: Map<IClass<any>, IMediatorMapping> = new Map<IClass<any>, IMediatorMapping>();\n\n    protected _typeFilter: ITypeFilter;\n\n    protected _handler: AbstractMediatorHandler;\n\n    protected _logger: ILogger;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(typeFilter: ITypeFilter, handler: AbstractMediatorHandler, logger?: ILogger) {\n        this._typeFilter = typeFilter;\n        this._handler = handler;\n        this._logger = logger;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public toMediator(mediatorClass: IClass<any>): IMediatorConfigurator {\n        let mapping: IMediatorMapping = this._mappings.get(mediatorClass);\n        return mapping ? this.overwriteMapping(mapping) : this.createMapping(mediatorClass);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public fromMediator(mediatorClass: IClass<any>): void {\n        let mapping: IMediatorMapping = this._mappings.get(mediatorClass);\n        if (mapping) {\n            this.deleteMapping(mapping);\n        }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public fromAll(): void {\n        this._mappings.forEach(this.deleteMapping, this);\n    }\n\n    /*============================================================================*/\n    /* protected Functions                                                          */\n    /*============================================================================*/\n\n    protected createMapping(mediatorClass: IClass<any>): MediatorMapping {\n        let mapping: MediatorMapping = new MediatorMapping(this._typeFilter, mediatorClass);\n        this._handler.addMapping(mapping);\n        this._mappings.set(mediatorClass, mapping);\n        if (this._logger) {\n            this._logger.debug(\"{0} mapped to {1}\", [this._typeFilter, mapping]);\n        }\n        return mapping;\n    }\n\n    protected deleteMapping(mapping: IMediatorMapping): void {\n        this._handler.removeMapping(mapping);\n        this._mappings.delete(mapping.mediatorClass);\n        if (this._logger) {\n            this._logger.debug(\"{0} unmapped from {1}\", [this._typeFilter, mapping]);\n        }\n    }\n\n    protected overwriteMapping(mapping: IMediatorMapping): IMediatorConfigurator {\n        if (this._logger) {\n            this._logger.warn(\n                \"{0} already mapped to {1}\\n\" +\n                    'If you have overridden this mapping intentionally you can use \"unmap()\" ' +\n                    \"prior to your replacement mapping in order to avoid seeing this message.\\n\",\n                [this._typeFilter, mapping]\n            );\n        }\n        this.deleteMapping(mapping);\n        return this.createMapping(mapping.mediatorClass);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass, ITypeFilter } from \"@robotlegsjs/core\";\n\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\nimport { IMediatorConfigurator } from \"../dsl/IMediatorConfigurator\";\n\n/**\n * @private\n */\nexport class MediatorMapping implements IMediatorMapping, IMediatorConfigurator {\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _matcher: ITypeFilter;\n\n    /**\n     * @inheritDoc\n     */\n    public get matcher(): ITypeFilter {\n        return this._matcher;\n    }\n\n    private _mediatorClass: IClass<any>;\n\n    /**\n     * @inheritDoc\n     */\n    public get mediatorClass(): IClass<any> {\n        return this._mediatorClass;\n    }\n\n    private _guards: any[] = [];\n\n    /**\n     * @inheritDoc\n     */\n    public get guards(): any[] {\n        return this._guards;\n    }\n\n    private _hooks: any[] = [];\n\n    /**\n     * @inheritDoc\n     */\n    public get hooks(): any[] {\n        return this._hooks;\n    }\n\n    private _autoRemoveEnabled: boolean = true;\n\n    /**\n     * @inheritDoc\n     */\n    public get autoRemoveEnabled(): boolean {\n        return this._autoRemoveEnabled;\n    }\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(matcher: ITypeFilter, mediatorClass: IClass<any>) {\n        this._matcher = matcher;\n        this._mediatorClass = mediatorClass;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public withGuards(...guards: any[]): IMediatorConfigurator {\n        this._guards = this._guards.concat.apply(this._guards, guards);\n        return this;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public withHooks(...hooks: any[]): IMediatorConfigurator {\n        this._hooks = this._hooks.concat.apply(this._hooks, hooks);\n        return this;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public autoRemove(value: boolean = true): IMediatorConfigurator {\n        this._autoRemoveEnabled = value;\n        return this;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass } from \"@robotlegsjs/core\";\n\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\n/**\n * @private\n */\nexport class NullMediatorUnmapper implements IMediatorUnmapper {\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public fromMediator(mediatorClass: IClass<any>): void {}\n\n    /**\n     * @private\n     */\n    public fromAll(): void {}\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable } from \"@robotlegsjs/core\";\n\nimport { AbstractMediator } from \"./AbstractMediator\";\n\n/**\n * Classic Robotlegs mediator implementation for the `Phaser.Scene`.\n *\n * <p>Override initialize and destroy to hook into the mediator lifecycle.</p>\n */\n@injectable()\nexport abstract class SceneMediator<T extends Phaser.Scene> extends AbstractMediator {\n    protected _sceneComponent: T;\n\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    public set scene(scene: T) {\n        this._sceneComponent = scene;\n    }\n\n    public get scene(): T {\n        return this._sceneComponent;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IInjector } from \"@robotlegsjs/core\";\n\nimport { AbstractMediatorFactory } from \"./AbstractMediatorFactory\";\nimport { SceneMediatorManager } from \"./SceneMediatorManager\";\n\nexport class SceneMediatorFactory extends AbstractMediatorFactory {\n    constructor(injector: IInjector, manager?: SceneMediatorManager) {\n        super(injector);\n        this._manager = manager || new SceneMediatorManager(this);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"../../viewManager/api/ISceneHandler\";\n\nimport { AbstractMediatorHandler } from \"./AbstractMediatorHandler\";\n\n/**\n * @private\n */\nexport class SceneMediatorHandler extends AbstractMediatorHandler implements ISceneHandler {\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public handleScene(scene: Phaser.Scene, type: IClass<any>): void {\n        let interestedMappings = this.getInterestedMappingsFor(scene, type);\n        if (interestedMappings) {\n            this._factory.createMediators(scene, type, interestedMappings);\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IMediatorManager } from \"../api/IMediatorManager\";\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\nimport { SceneMediatorFactory } from \"./SceneMediatorFactory\";\n\n/**\n * @private\n */\nexport class SceneMediatorManager implements IMediatorManager {\n    /*============================================================================*/\n    /* Private Static Properties                                                  */\n    /*============================================================================*/\n\n    // private static UIComponentClass: FunctionConstructor;\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _factory: SceneMediatorFactory;\n    private _autoRemoveMap: Map<string, Phaser.Scene> = new Map<string, Phaser.Scene>();\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(factory: SceneMediatorFactory) {\n        this._factory = factory;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public addMediator(mediator: any, item: any, mapping: IMediatorMapping): void {\n        let scene: Phaser.Scene = <Phaser.Scene>item;\n\n        // Watch scene for removal\n        if (scene && mapping.autoRemoveEnabled) {\n            if (!this._autoRemoveMap.has(scene.sys.settings.key)) {\n                this._autoRemoveMap.set(scene.sys.settings.key, scene);\n            }\n            scene.sys.events.on(\"destroy\", this.onSceneDestroy, this);\n            scene.sys.events.on(\"shutdown\", this.onSceneDestroy, this);\n            // scene.sys.events.on(\"sleep\", this.onSceneDestroy, this);\n            // scene.sys.events.on(\"pause\", this.onSceneDestroy, this);\n        }\n\n        // Synchronize with item life-cycle\n        this.initializeMediator(mediator, item);\n    }\n\n    /**\n     * @private\n     */\n    public removeMediator(mediator: any, item: any, mapping: IMediatorMapping): void {\n        this.destroyMediator(mediator);\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private onSceneDestroy(sys: Phaser.Scenes.Systems): void {\n        if (this._autoRemoveMap.has(sys.settings.key)) {\n            let scene: Phaser.Scene = this._autoRemoveMap.get(sys.settings.key);\n            this._autoRemoveMap.delete(sys.settings.key);\n            this._factory.removeMediators(scene);\n            if (this._autoRemoveMap.size === 0) {\n                scene.sys.events.off(\"destroy\", this.onSceneDestroy, this, false);\n                scene.sys.events.off(\"shutdown\", this.onSceneDestroy, this, false);\n            }\n        }\n    }\n\n    private initializeMediator(mediator: any, mediatedItem: any): void {\n        if (\"preInitialize\" in mediator) {\n            mediator.preInitialize();\n        }\n\n        if (\"scene\" in mediator) {\n            mediator.scene = mediatedItem;\n        }\n\n        if (\"initialize\" in mediator) {\n            mediator.initialize();\n        }\n\n        if (\"postInitialize\" in mediator) {\n            mediator.postInitialize();\n        }\n    }\n\n    private destroyMediator(mediator: any): void {\n        if (\"preDestroy\" in mediator) {\n            mediator.preDestroy();\n        }\n\n        if (\"destroy\" in mediator) {\n            mediator.destroy();\n        }\n\n        if (\"scene\" in mediator) {\n            mediator.scene = null;\n        }\n\n        if (\"postDestroy\" in mediator) {\n            mediator.postDestroy();\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject, IClass, IContext, ILogger, ITypeMatcher, TypeMatcher } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"../../viewManager/api/ISceneHandler\";\n\nimport { ISceneMediatorMap } from \"../api/ISceneMediatorMap\";\nimport { IMediatorMapper } from \"../dsl/IMediatorMapper\";\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\nimport { MediatorMapper } from \"./MediatorMapper\";\nimport { NullMediatorUnmapper } from \"./NullMediatorUnmapper\";\nimport { SceneMediatorFactory } from \"./SceneMediatorFactory\";\nimport { SceneMediatorHandler } from \"./SceneMediatorHandler\";\n\n/**\n * @private\n */\n@injectable()\nexport class SceneMediatorMap implements ISceneMediatorMap, ISceneHandler {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _mappers: Map<string, MediatorMapper> = new Map<string, MediatorMapper>();\n\n    private _logger: ILogger;\n\n    private _factory: SceneMediatorFactory;\n\n    private _sceneHandler: SceneMediatorHandler;\n\n    private NULL_UNMAPPER: IMediatorUnmapper = new NullMediatorUnmapper();\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(@inject(IContext) context: IContext) {\n        this._logger = context.getLogger(this);\n        this._factory = new SceneMediatorFactory(context.injector);\n        this._sceneHandler = new SceneMediatorHandler(this._factory);\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public mapMatcher(matcher: ITypeMatcher): IMediatorMapper {\n        const desc = matcher.createTypeFilter().descriptor;\n        let mapper: MediatorMapper = this._mappers.get(desc);\n\n        if (mapper) {\n            return mapper;\n        }\n\n        mapper = this.createMapper(matcher) as MediatorMapper;\n        this._mappers.set(desc, mapper);\n        return mapper;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public map(scene: IClass<Phaser.Scene>): IMediatorMapper {\n        return this.mapMatcher(new TypeMatcher().allOf(scene));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmapMatcher(matcher: ITypeMatcher): IMediatorUnmapper {\n        return this._mappers.get(matcher.createTypeFilter().descriptor) || this.NULL_UNMAPPER;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmap(scene: IClass<Phaser.Scene>): IMediatorUnmapper {\n        return this.unmapMatcher(new TypeMatcher().allOf(scene));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public handleScene(scene: Phaser.Scene, type: any): void {\n        this._sceneHandler.handleScene(scene, type);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public mediate(scene: IClass<Phaser.Scene>): void {\n        this._sceneHandler.handleItem(scene, <any>scene.constructor);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmediate(scene: IClass<Phaser.Scene>): void {\n        this._factory.removeMediators(scene);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmediateAll(): void {\n        this._factory.removeAllMediators();\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private createMapper(matcher: ITypeMatcher): IMediatorMapper {\n        return new MediatorMapper(matcher.createTypeFilter(), this._sceneHandler, this._logger);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable } from \"@robotlegsjs/core\";\n\nimport { AbstractMediator } from \"./AbstractMediator\";\n\n/**\n * Classic Robotlegs mediator implementation for the `Phaser.GameObjects.Container`.\n *\n * <p>Override initialize and destroy to hook into the mediator lifecycle.</p>\n */\n@injectable()\nexport abstract class ViewMediator<T extends Phaser.GameObjects.Container> extends AbstractMediator {\n    protected _viewComponent: T;\n\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    public set view(view: T) {\n        this._viewComponent = view;\n    }\n\n    public get view(): T {\n        return this._viewComponent;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IInjector } from \"@robotlegsjs/core\";\n\nimport { AbstractMediatorFactory } from \"./AbstractMediatorFactory\";\nimport { ViewMediatorManager } from \"./ViewMediatorManager\";\n\nexport class ViewMediatorFactory extends AbstractMediatorFactory {\n    constructor(injector: IInjector, manager?: ViewMediatorManager) {\n        super(injector);\n        this._manager = manager || new ViewMediatorManager(this);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass } from \"@robotlegsjs/core\";\n\nimport { IViewHandler } from \"../../viewManager/api/IViewHandler\";\n\nimport { AbstractMediatorHandler } from \"./AbstractMediatorHandler\";\n\n/**\n * @private\n */\nexport class ViewMediatorHandler extends AbstractMediatorHandler implements IViewHandler {\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public handleView(view: Phaser.GameObjects.Container, type: IClass<any>): void {\n        let interestedMappings = this.getInterestedMappingsFor(view, type);\n        if (interestedMappings) {\n            this._factory.createMediators(view, type, interestedMappings);\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IMediatorManager } from \"../api/IMediatorManager\";\nimport { IMediatorMapping } from \"../api/IMediatorMapping\";\n\nimport { ViewMediatorFactory } from \"./ViewMediatorFactory\";\n\n/**\n * @private\n */\nexport class ViewMediatorManager implements IMediatorManager {\n    /*============================================================================*/\n    /* Private Static Properties                                                  */\n    /*============================================================================*/\n\n    // private static UIComponentClass: FunctionConstructor;\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _factory: ViewMediatorFactory;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(factory: ViewMediatorFactory) {\n        this._factory = factory;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public addMediator(mediator: any, item: any, mapping: IMediatorMapping): void {\n        let view: Phaser.GameObjects.Container = <Phaser.GameObjects.Container>item;\n\n        // Watch view for destroy\n        if (view && mapping.autoRemoveEnabled) {\n            view.on(\"destroy\", this.onViewDestroy, this);\n        }\n\n        // Synchronize with item life-cycle\n        this.initializeMediator(mediator, item);\n    }\n\n    /**\n     * @private\n     */\n    public removeMediator(mediator: any, item: any, mapping: IMediatorMapping): void {\n        this.destroyMediator(mediator);\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private onViewDestroy(view: Phaser.GameObjects.Container): void {\n        this._factory.removeMediators(view);\n    }\n\n    private initializeMediator(mediator: any, mediatedItem: any): void {\n        if (\"preInitialize\" in mediator) {\n            mediator.preInitialize();\n        }\n\n        if (\"view\" in mediator) {\n            mediator.view = mediatedItem;\n        }\n\n        if (\"initialize\" in mediator) {\n            mediator.initialize();\n        }\n\n        if (\"postInitialize\" in mediator) {\n            mediator.postInitialize();\n        }\n    }\n\n    private destroyMediator(mediator: any): void {\n        if (\"preDestroy\" in mediator) {\n            mediator.preDestroy();\n        }\n\n        if (\"destroy\" in mediator) {\n            mediator.destroy();\n        }\n\n        if (\"scene\" in mediator) {\n            mediator.scene = null;\n        }\n\n        if (\"postDestroy\" in mediator) {\n            mediator.postDestroy();\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, inject, IClass, IContext, ILogger, ITypeMatcher, TypeMatcher } from \"@robotlegsjs/core\";\n\nimport { IViewHandler } from \"../../viewManager/api/IViewHandler\";\n\nimport { IViewMediatorMap } from \"../api/IViewMediatorMap\";\nimport { IMediatorMapper } from \"../dsl/IMediatorMapper\";\nimport { IMediatorUnmapper } from \"../dsl/IMediatorUnmapper\";\n\nimport { MediatorMapper } from \"./MediatorMapper\";\nimport { NullMediatorUnmapper } from \"./NullMediatorUnmapper\";\nimport { ViewMediatorFactory } from \"./ViewMediatorFactory\";\nimport { ViewMediatorHandler } from \"./ViewMediatorHandler\";\n\n/**\n * @private\n */\n@injectable()\nexport class ViewMediatorMap implements IViewMediatorMap, IViewHandler {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _mappers: Map<string, MediatorMapper> = new Map<string, MediatorMapper>();\n\n    private _logger: ILogger;\n\n    private _factory: ViewMediatorFactory;\n\n    private _viewHandler: ViewMediatorHandler;\n\n    private NULL_UNMAPPER: IMediatorUnmapper = new NullMediatorUnmapper();\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(@inject(IContext) context: IContext) {\n        this._logger = context.getLogger(this);\n        this._factory = new ViewMediatorFactory(context.injector);\n        this._viewHandler = new ViewMediatorHandler(this._factory);\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public mapMatcher(matcher: ITypeMatcher): IMediatorMapper {\n        const desc = matcher.createTypeFilter().descriptor;\n        let mapper: MediatorMapper = this._mappers.get(desc);\n\n        if (mapper) {\n            return mapper;\n        }\n\n        mapper = this.createMapper(matcher) as MediatorMapper;\n        this._mappers.set(desc, mapper);\n        return mapper;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public map(view: IClass<Phaser.GameObjects.Container>): IMediatorMapper {\n        return this.mapMatcher(new TypeMatcher().allOf(view));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmapMatcher(matcher: ITypeMatcher): IMediatorUnmapper {\n        return this._mappers.get(matcher.createTypeFilter().descriptor) || this.NULL_UNMAPPER;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmap(view: IClass<Phaser.GameObjects.Container>): IMediatorUnmapper {\n        return this.unmapMatcher(new TypeMatcher().allOf(view));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public handleView(view: Phaser.GameObjects.Container, type: any): void {\n        this._viewHandler.handleView(view, type);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public mediate(view: IClass<Phaser.GameObjects.Container>): void {\n        this._viewHandler.handleItem(view, <any>view.constructor);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmediate(view: IClass<Phaser.GameObjects.Container>): void {\n        this._factory.removeMediators(view);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public unmediateAll(): void {\n        this._factory.removeAllMediators();\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private createMapper(matcher: ITypeMatcher): IMediatorMapper {\n        return new MediatorMapper(matcher.createTypeFilter(), this._viewHandler, this._logger);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension, IInjector } from \"@robotlegsjs/core\";\n\nimport { ISceneManager } from \"./api/ISceneManager\";\nimport { SceneManager } from \"./impl/SceneManager\";\nimport { SceneRegistry } from \"./impl/SceneRegistry\";\n\n/**\n * This extension install a Scene Manager into the context\n */\nexport class SceneManagerExtension implements IExtension {\n    /*============================================================================*/\n    /* Private Static Properties                                                  */\n    /*============================================================================*/\n\n    // Really? Yes, there can be only one.\n    private static _containerRegistry: SceneRegistry;\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _injector: IInjector;\n\n    private _sceneManager: ISceneManager;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        context.whenInitializing(this.whenInitializing.bind(this));\n        context.whenDestroying(this.whenDestroying.bind(this));\n\n        this._injector = context.injector;\n\n        // Just one Container Registry\n        SceneManagerExtension._containerRegistry = SceneManagerExtension._containerRegistry || new SceneRegistry();\n        this._injector.bind(SceneRegistry).toConstantValue(SceneManagerExtension._containerRegistry);\n\n        // But you get your own View Manager\n        this._injector\n            .bind(ISceneManager)\n            .to(SceneManager)\n            .inSingletonScope();\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private whenInitializing(): void {\n        this._sceneManager = this._injector.get<ISceneManager>(ISceneManager);\n    }\n\n    private whenDestroying(): void {\n        this._sceneManager.removeAllHandlers();\n        this._injector.unbind(ISceneManager);\n        this._injector.unbind(SceneRegistry);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IContext, IExtension, IInjector, ILogger } from \"@robotlegsjs/core\";\n\nimport { SceneManagerObserver } from \"./impl/SceneManagerObserver\";\nimport { SceneRegistry } from \"./impl/SceneRegistry\";\n\nlet installCount: number = 0;\n\n/**\n * This extension install an automatic Scene Manager Observer\n */\nexport class SceneManagerObserverExtension implements IExtension {\n    /*============================================================================*/\n    /* Private Static Properties                                                  */\n    /*============================================================================*/\n\n    // Really? Yes, there can be only one.\n    private static _sceneObserver: SceneManagerObserver = null;\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _injector: IInjector;\n\n    private _logger: ILogger;\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public extend(context: IContext): void {\n        context.whenInitializing(this.whenInitializing.bind(this));\n        context.whenDestroying(this.whenDestroying.bind(this));\n        installCount++;\n        this._injector = context.injector;\n        this._logger = context.getLogger(this);\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private whenInitializing(): void {\n        // Hark, an actual Singleton!\n        if (!SceneManagerObserverExtension._sceneObserver) {\n            const containerRegistry: SceneRegistry = this._injector.get<SceneRegistry>(SceneRegistry);\n            this._logger.debug(\"Creating genuine SceneManagerObserver Singleton\");\n            SceneManagerObserverExtension._sceneObserver = new SceneManagerObserver(containerRegistry);\n        }\n    }\n\n    private whenDestroying(): void {\n        installCount--;\n        if (installCount === 0) {\n            this._logger.debug(\"Destroying genuine SceneManagerObserver Singleton\");\n            SceneManagerObserverExtension._sceneObserver.destroy();\n            SceneManagerObserverExtension._sceneObserver = null;\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IEventDispatcher } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"./ISceneHandler\";\nimport { IViewHandler } from \"./IViewHandler\";\n\n/**\n * The Scene Manager allows you to add multiple \"scene managers\" to a context\n */\nexport const ISceneManager = Symbol(\"ISceneManager\");\nexport interface ISceneManager extends IEventDispatcher {\n    /**\n     * A list of currently registered SceneManagers\n     */\n    sceneManagers: Phaser.Scenes.SceneManager[];\n\n    /**\n     * Adds a SceneManager as a \"scene root\" into the context\n     * @param sceneManager\n     */\n    addSceneManager(sceneManager: Phaser.Scenes.SceneManager): void;\n\n    /**\n     * Removes a sceneManager from this context\n     * @param sceneManager\n     */\n    removeSceneManager(sceneManager: Phaser.Scenes.SceneManager): void;\n\n    /**\n     * Registers a scene handler\n     * @param handler\n     */\n    addSceneHandler(handler: ISceneHandler): void;\n\n    /**\n     * Removes a scene handler\n     * @param handler\n     */\n    removeSceneHandler(handler: ISceneHandler): void;\n\n    /**\n     * Registers a view handler\n     * @param handler\n     */\n    addViewHandler(handler: IViewHandler): void;\n\n    /**\n     * Removes a view handler\n     * @param handler\n     */\n    removeViewHandler(handler: IViewHandler): void;\n\n    /**\n     * Removes all scene and view handlers from this context\n     */\n    removeAllHandlers(): void;\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { injectable, EventDispatcher } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"../api/ISceneHandler\";\nimport { ISceneManager } from \"../api/ISceneManager\";\nimport { IViewHandler } from \"../api/IViewHandler\";\n\nimport { SceneManagerBinding } from \"./SceneManagerBinding\";\nimport { SceneManagerEvent } from \"./SceneManagerEvent\";\nimport { SceneRegistry } from \"./SceneRegistry\";\n\n/**\n * @private\n */\n@injectable()\nexport class SceneManager extends EventDispatcher implements ISceneManager {\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _sceneManagers: Phaser.Scenes.SceneManager[] = [];\n\n    /**\n     * @inheritDoc\n     */\n    public get sceneManagers(): Phaser.Scenes.SceneManager[] {\n        return this._sceneManagers;\n    }\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _sceneHandlers: ISceneHandler[] = [];\n    private _viewHandlers: IViewHandler[] = [];\n\n    private _registry: SceneRegistry;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(sceneRegistry: SceneRegistry) {\n        super();\n        this._registry = sceneRegistry;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public addSceneManager(sceneManager: Phaser.Scenes.SceneManager): void {\n        if (!this.validSceneManager(sceneManager)) {\n            return;\n        }\n\n        this._sceneManagers.push(sceneManager);\n\n        this._sceneHandlers.forEach((handler: ISceneHandler) => {\n            this._registry.addSceneManager(sceneManager).addSceneHandler(handler);\n        });\n\n        this._viewHandlers.forEach((handler: IViewHandler) => {\n            this._registry.addSceneManager(sceneManager).addViewHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.SCENE_MANAGER_ADD, sceneManager));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public removeSceneManager(sceneManager: Phaser.Scenes.SceneManager): void {\n        let index: number = this._sceneManagers.indexOf(sceneManager);\n\n        if (index === -1) {\n            return;\n        }\n\n        this._sceneManagers.splice(index, 1);\n\n        let binding: SceneManagerBinding = this._registry.getBinding(sceneManager);\n\n        this._sceneHandlers.forEach((handler: ISceneHandler) => {\n            binding.removeSceneHandler(handler);\n        });\n\n        this._viewHandlers.forEach((handler: IViewHandler) => {\n            binding.removeViewHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.SCENE_MANAGER_REMOVE, sceneManager));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public addSceneHandler(handler: ISceneHandler): void {\n        if (this._sceneHandlers.indexOf(handler) !== -1) {\n            return;\n        }\n\n        this._sceneHandlers.push(handler);\n\n        this._sceneManagers.forEach((sceneManager: Phaser.Scenes.SceneManager) => {\n            this._registry.addSceneManager(sceneManager).addSceneHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.SCENE_HANDLER_ADD, null, handler));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public removeSceneHandler(handler: ISceneHandler): void {\n        let index: number = this._sceneHandlers.indexOf(handler);\n        if (index === -1) {\n            return;\n        }\n\n        this._sceneHandlers.splice(index, 1);\n\n        this._sceneManagers.forEach((sceneManager: Phaser.Scenes.SceneManager) => {\n            this._registry.getBinding(sceneManager).removeSceneHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.SCENE_HANDLER_REMOVE, null, handler));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public addViewHandler(handler: IViewHandler): void {\n        if (this._viewHandlers.indexOf(handler) !== -1) {\n            return;\n        }\n\n        this._viewHandlers.push(handler);\n\n        this._sceneManagers.forEach((sceneManager: Phaser.Scenes.SceneManager) => {\n            this._registry.addSceneManager(sceneManager).addViewHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.VIEW_HANDLER_ADD, null, null, handler));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public removeViewHandler(handler: IViewHandler): void {\n        let index: number = this._viewHandlers.indexOf(handler);\n        if (index === -1) {\n            return;\n        }\n\n        this._sceneHandlers.splice(index, 1);\n\n        this._sceneManagers.forEach((sceneManager: Phaser.Scenes.SceneManager) => {\n            this._registry.getBinding(sceneManager).removeViewHandler(handler);\n        });\n\n        this.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.VIEW_HANDLER_REMOVE, null, null, handler));\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public removeAllHandlers(): void {\n        this._sceneManagers.forEach((sceneManager: Phaser.Scenes.SceneManager) => {\n            let binding: SceneManagerBinding = this._registry.getBinding(sceneManager);\n\n            this._sceneHandlers.forEach((handler: ISceneHandler) => {\n                binding.removeSceneHandler(handler);\n            });\n\n            this._viewHandlers.forEach((handler: IViewHandler) => {\n                binding.removeViewHandler(handler);\n            });\n        });\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private validSceneManager(sceneManager: Phaser.Scenes.SceneManager): boolean {\n        let valid: boolean = true;\n\n        this._sceneManagers.forEach((registeredSceneManager: Phaser.Scenes.SceneManager) => {\n            if (sceneManager === registeredSceneManager) {\n                valid = false;\n            }\n        });\n\n        return valid;\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { IClass, EventDispatcher } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"../api/ISceneHandler\";\nimport { IViewHandler } from \"../api/IViewHandler\";\n\nimport { SceneManagerBindingEvent } from \"./SceneManagerBindingEvent\";\n\n/**\n * @private\n */\nexport class SceneManagerBinding extends EventDispatcher {\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _parent: SceneManagerBinding;\n\n    /**\n     * @private\n     */\n    public get parent(): SceneManagerBinding {\n        return this._parent;\n    }\n\n    /**\n     * @private\n     */\n    public set parent(value: SceneManagerBinding) {\n        this._parent = value;\n    }\n\n    private _sceneManager: Phaser.Scenes.SceneManager;\n\n    /**\n     * @private\n     */\n    public get sceneManager(): Phaser.Scenes.SceneManager {\n        return this._sceneManager;\n    }\n\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _sceneHandlers: ISceneHandler[] = [];\n    private _viewHandlers: IViewHandler[] = [];\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(sceneManager: Phaser.Scenes.SceneManager) {\n        super();\n        this._sceneManager = sceneManager;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public addSceneHandler(handler: ISceneHandler): void {\n        if (this._sceneHandlers.indexOf(handler) > -1) {\n            return;\n        }\n        this._sceneHandlers.push(handler);\n    }\n\n    /**\n     * @private\n     */\n    public removeSceneHandler(handler: ISceneHandler): void {\n        let index: number = this._sceneHandlers.indexOf(handler);\n        if (index > -1) {\n            this._sceneHandlers.splice(index, 1);\n\n            this.dispatchBindingEmpty();\n        }\n    }\n\n    /**\n     * @private\n     */\n    public addViewHandler(handler: IViewHandler): void {\n        if (this._viewHandlers.indexOf(handler) > -1) {\n            return;\n        }\n        this._viewHandlers.push(handler);\n    }\n\n    /**\n     * @private\n     */\n    public removeViewHandler(handler: IViewHandler): void {\n        let index: number = this._viewHandlers.indexOf(handler);\n        if (index > -1) {\n            this._viewHandlers.splice(index, 1);\n\n            this.dispatchBindingEmpty();\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleScene(scene: Phaser.Scene, type: IClass<any>): void {\n        this._sceneHandlers.forEach((handler: ISceneHandler) => {\n            handler.handleScene(scene, type);\n        });\n    }\n\n    /**\n     * @private\n     */\n    public handleView(view: Phaser.GameObjects.Container, type: IClass<any>): void {\n        this._viewHandlers.forEach((handler: IViewHandler) => {\n            handler.handleView(view, type);\n        });\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    private dispatchBindingEmpty(): void {\n        if (this._sceneHandlers.length === 0 && this._viewHandlers.length === 0) {\n            this.dispatchEvent(new SceneManagerBindingEvent(SceneManagerBindingEvent.BINDING_EMPTY));\n        }\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { Event } from \"@robotlegsjs/core\";\n\n/**\n * @private\n */\nexport class SceneManagerBindingEvent extends Event {\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n\n    public static BINDING_EMPTY: string = \"bindingEmpty\";\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(type: string) {\n        super(type);\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public clone(): SceneManagerBindingEvent {\n        return new SceneManagerBindingEvent(this.type);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { Event } from \"@robotlegsjs/core\";\n\nimport { ISceneHandler } from \"../api/ISceneHandler\";\nimport { IViewHandler } from \"../api/IViewHandler\";\n\n/**\n * SceneManager existence event\n * @private\n */\nexport class SceneManagerEvent extends Event {\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n\n    public static SCENE_MANAGER_ADD: string = \"sceneManagerAdd\";\n\n    public static SCENE_MANAGER_REMOVE: string = \"sceneManagerRemove\";\n\n    public static SCENE_HANDLER_ADD: string = \"sceneHandlerAdd\";\n\n    public static SCENE_HANDLER_REMOVE: string = \"sceneHandlerRemove\";\n\n    public static VIEW_HANDLER_ADD: string = \"viewHandlerAdd\";\n\n    public static VIEW_HANDLER_REMOVE: string = \"viewHandlerRemove\";\n\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _sceneManager: Phaser.Scenes.SceneManager;\n\n    /**\n     * The sceneManager associated with this event\n     */\n    public get sceneManager(): Phaser.Scenes.SceneManager {\n        return this._sceneManager;\n    }\n\n    private _sceneHandler: ISceneHandler;\n\n    /**\n     * The scene handler associated with this event\n     */\n    public get sceneHandler(): ISceneHandler {\n        return this._sceneHandler;\n    }\n\n    private _viewHandler: IViewHandler;\n\n    /**\n     * The view handler associated with this event\n     */\n    public get viewHandler(): IViewHandler {\n        return this._viewHandler;\n    }\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * Creates a scene manager event\n     * @param type The event type\n     * @param sceneManager The  Phaser.Scenes.SceneManager associated with this event\n     * @param sceneHandler The scene handler associated with this event\n     * @param viewHandler The view handler associated with this event\n     */\n    constructor(type: string, sceneManager?: Phaser.Scenes.SceneManager, sceneHandler?: ISceneHandler, viewHandler?: IViewHandler) {\n        super(type, true);\n        this._sceneManager = sceneManager;\n        this._sceneHandler = sceneHandler;\n        this._viewHandler = viewHandler;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public clone(): SceneManagerEvent {\n        return new SceneManagerEvent(this.type, this._sceneManager, this._sceneHandler, this._viewHandler);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { SceneManagerBinding } from \"./SceneManagerBinding\";\nimport { SceneRegistry } from \"./SceneRegistry\";\nimport { SceneRegistryEvent } from \"./SceneRegistryEvent\";\n\n/**\n * @private\n */\nexport class SceneManagerObserver {\n    private _registry: SceneRegistry;\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    constructor(sceneRegistry: SceneRegistry) {\n        this._registry = sceneRegistry;\n\n        // We only care about roots\n        this._registry.addEventListener(SceneRegistryEvent.ROOT_SCENE_MANAGER_ADD, this.onRootSceneManagerAdd, this);\n        this._registry.addEventListener(SceneRegistryEvent.ROOT_SCENE_MANAGER_REMOVE, this.onRootSceneManagerRemove, this);\n\n        // We might have arrived late on the scene\n        this._registry.rootBindings.forEach((binding: SceneManagerBinding) => {\n            this.addRootListener(binding.sceneManager);\n        });\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public destroy(): void {\n        this._registry.removeEventListener(SceneRegistryEvent.ROOT_SCENE_MANAGER_ADD, this.onRootSceneManagerAdd, this);\n        this._registry.removeEventListener(SceneRegistryEvent.ROOT_SCENE_MANAGER_REMOVE, this.onRootSceneManagerRemove, this);\n\n        this._registry.rootBindings.forEach((binding: SceneManagerBinding) => {\n            this.removeRootListener(binding.sceneManager);\n        });\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private onRootSceneManagerAdd(event: SceneRegistryEvent): void {\n        this.addRootListener(event.sceneManager);\n    }\n\n    private onRootSceneManagerRemove(event: SceneRegistryEvent): void {\n        this.removeRootListener(event.sceneManager);\n    }\n\n    private addRootListener(sceneManager: Phaser.Scenes.SceneManager): void {\n        if (sceneManager) {\n            (sceneManager as any).createSceneFromInstance = this.patchCreateSceneMethod(\n                sceneManager,\n                (sceneManager as any).createSceneFromInstance\n            );\n            (sceneManager as any).createSceneFromFunction = this.patchCreateSceneMethod(\n                sceneManager,\n                (sceneManager as any).createSceneFromFunction\n            );\n            (sceneManager as any).createSceneFromObject = this.patchCreateSceneMethod(\n                sceneManager,\n                (sceneManager as any).createSceneFromObject\n            );\n\n            this.patchGameObjectFactoryAddExistingMethod(sceneManager);\n        }\n    }\n\n    private patchGameObjectFactoryAddExistingMethod(sceneManager: Phaser.Scenes.SceneManager) {\n        const originalMethod: (child: Phaser.GameObjects.GameObject) => Phaser.GameObjects.GameObject =\n            Phaser.GameObjects.GameObjectFactory.prototype.existing;\n\n        const self = this;\n\n        Phaser.GameObjects.GameObjectFactory.prototype.existing = function(child: Phaser.GameObjects.GameObject) {\n            if (child instanceof Phaser.GameObjects.Container) {\n                let binding: SceneManagerBinding = self._registry.getBinding(sceneManager);\n                if (binding) {\n                    binding.handleView(child, <any>child.constructor);\n                }\n            }\n            return originalMethod.apply((child as any).scene.sys.add, arguments);\n        };\n    }\n\n    private patchCreateSceneMethod(sceneManager: Phaser.Scenes.SceneManager, originalMethod: any): (...args: any[]) => Phaser.Scene {\n        return (...args) => {\n            const scene: Phaser.Scene = originalMethod.apply(sceneManager, args);\n            this.onSceneInit(scene);\n            return scene;\n        };\n    }\n\n    private onSceneInit(scene: Phaser.Scene): void {\n        let rootBindings: SceneManagerBinding[] = this._registry.rootBindings;\n        let sceneManager: Phaser.Scenes.SceneManager;\n\n        for (const rootBinding of rootBindings) {\n            sceneManager = rootBinding.sceneManager;\n\n            if (sceneManager) {\n                let binding: SceneManagerBinding = this._registry.getBinding(scene.sys.game.scene);\n                if (binding) {\n                    // this.events.emit('resume', this);\n                    // this.events.emit('wake', this);\n                    // this.events.emit('start', this);\n                    scene.sys.events.once(\"start\", this.onSceneStart, this);\n                }\n            }\n        }\n    }\n\n    private onSceneStart(sys: Phaser.Scenes.Systems): void {\n        sys.events.once(\"shutdown\", this.onSceneShutdown, this);\n        sys.events.once(\"destroy\", this.onSceneDestroy, this);\n        const binding: SceneManagerBinding = this._registry.getBinding(sys.game.scene);\n        if (binding) {\n            binding.handleScene(sys.scene, <any>sys.scene.constructor);\n        }\n    }\n\n    private onSceneShutdown(sys: Phaser.Scenes.Systems): void {\n        sys.events.once(\"start\", this.onSceneStart, this);\n        sys.events.off(\"destroy\", this.onSceneDestroy, this, true);\n    }\n\n    private onSceneDestroy(sys: Phaser.Scenes.Systems): void {\n        sys.events.off(\"shutdown\", this.onSceneStart, this, true);\n    }\n\n    private removeRootListener(container: any): void {}\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { EventDispatcher } from \"@robotlegsjs/core\";\n\nimport { SceneManagerBinding } from \"./SceneManagerBinding\";\nimport { SceneManagerBindingEvent } from \"./SceneManagerBindingEvent\";\nimport { SceneRegistryEvent } from \"./SceneRegistryEvent\";\n\n/**\n * @private\n */\nexport class SceneRegistry extends EventDispatcher {\n    /*============================================================================*/\n    /* Private Properties                                                         */\n    /*============================================================================*/\n\n    private _rootBindings: SceneManagerBinding[] = [];\n    private _bindings: SceneManagerBinding[] = [];\n    private _bindingBySceneManager: Map<Phaser.Scenes.SceneManager, SceneManagerBinding> = new Map<\n        Phaser.Scenes.SceneManager,\n        SceneManagerBinding\n    >();\n\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public get rootBindings(): SceneManagerBinding[] {\n        return this._rootBindings;\n    }\n\n    /**\n     * @private\n     */\n    public get bindings(): SceneManagerBinding[] {\n        return this._bindings;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @private\n     */\n    public addSceneManager(sceneManager: Phaser.Scenes.SceneManager): SceneManagerBinding {\n        let binding: SceneManagerBinding = this._bindingBySceneManager.get(sceneManager);\n\n        if (!binding) {\n            binding = this.createBinding(sceneManager);\n            this._bindingBySceneManager.set(sceneManager, binding);\n        }\n\n        return binding;\n    }\n\n    /**\n     * @private\n     */\n    public removeSceneManager(sceneManager: Phaser.Scenes.SceneManager): SceneManagerBinding {\n        let binding: SceneManagerBinding = this._bindingBySceneManager.get(sceneManager);\n\n        if (binding) {\n            this.removeBinding(binding);\n        }\n\n        return binding;\n    }\n\n    /**\n     * Finds the closest parent binding for a given display object\n     *\n     * @private\n     */\n    public findParentBinding(target: Phaser.Scenes.SceneManager): SceneManagerBinding {\n        return null;\n    }\n\n    /**\n     * @private\n     */\n    public getBinding(sceneManager: Phaser.Scenes.SceneManager): SceneManagerBinding {\n        return this._bindingBySceneManager.get(sceneManager);\n    }\n\n    /*============================================================================*/\n    /* Private Functions                                                          */\n    /*============================================================================*/\n\n    private createBinding(sceneManager: Phaser.Scenes.SceneManager): SceneManagerBinding {\n        let binding: SceneManagerBinding = new SceneManagerBinding(sceneManager);\n        this._bindings.push(binding);\n\n        // Add a listener so that we can remove this binding when it has no handlers\n        binding.addEventListener(SceneManagerBindingEvent.BINDING_EMPTY, this.onBindingEmpty, this);\n\n        // If the new binding doesn't have a parent it is a Root\n        binding.parent = this.findParentBinding(sceneManager);\n        if (binding.parent == null) {\n            this.addRootBinding(binding);\n        }\n\n        this.dispatchEvent(new SceneRegistryEvent(SceneRegistryEvent.SCENE_MANAGER_ADD, binding.sceneManager));\n\n        return binding;\n    }\n\n    private removeBinding(binding: SceneManagerBinding): void {\n        // Remove the binding itself\n        this._bindingBySceneManager.delete(binding.sceneManager);\n        let index: number = this._bindings.indexOf(binding);\n        this._bindings.splice(index, 1);\n\n        // Drop the empty binding listener\n        binding.removeEventListener(SceneManagerBindingEvent.BINDING_EMPTY, this.onBindingEmpty, this);\n\n        if (!binding.parent) {\n            // This binding didn't have a parent, so it was a Root\n            this.removeRootBinding(binding);\n        }\n\n        this.dispatchEvent(new SceneRegistryEvent(SceneRegistryEvent.SCENE_MANAGER_REMOVE, binding.sceneManager));\n    }\n\n    private addRootBinding(binding: SceneManagerBinding): void {\n        this._rootBindings.push(binding);\n        this.dispatchEvent(new SceneRegistryEvent(SceneRegistryEvent.ROOT_SCENE_MANAGER_ADD, binding.sceneManager));\n    }\n\n    private removeRootBinding(binding: SceneManagerBinding): void {\n        let index: number = this._rootBindings.indexOf(binding);\n        this._rootBindings.splice(index, 1);\n        this.dispatchEvent(new SceneRegistryEvent(SceneRegistryEvent.ROOT_SCENE_MANAGER_REMOVE, binding.sceneManager));\n    }\n\n    private onBindingEmpty(event: SceneManagerBindingEvent): void {\n        this.removeBinding(<any>event.target);\n    }\n}\n","// ------------------------------------------------------------------------------\n//  Copyright (c) 2017-present, RobotlegsJS. All Rights Reserved.\n//\n//  NOTICE: You are permitted to use, modify, and distribute this file\n//  in accordance with the terms of the license agreement accompanying it.\n// ------------------------------------------------------------------------------\n\nimport { Event } from \"@robotlegsjs/core\";\n\n/**\n * SceneManager existence event\n * @private\n */\nexport class SceneRegistryEvent extends Event {\n    /*============================================================================*/\n    /* Public Static Properties                                                   */\n    /*============================================================================*/\n\n    public static SCENE_MANAGER_ADD: string = \"sceneManagerAdd\";\n\n    public static SCENE_MANAGER_REMOVE: string = \"sceneManagerRemove\";\n\n    public static ROOT_SCENE_MANAGER_ADD: string = \"rootSceneManagerAdd\";\n\n    public static ROOT_SCENE_MANAGER_REMOVE: string = \"rootSceneManagerRemove\";\n\n    /*============================================================================*/\n    /* Public Properties                                                          */\n    /*============================================================================*/\n\n    private _sceneManager: Phaser.Scenes.SceneManager;\n\n    /**\n     * The sceneManager associated with this event\n     */\n    public get sceneManager(): Phaser.Scenes.SceneManager {\n        return this._sceneManager;\n    }\n\n    /*============================================================================*/\n    /* Constructor                                                                */\n    /*============================================================================*/\n\n    /**\n     * Creates a new sceneManager existence event\n     * @param type The event type\n     * @param sceneManager The sceneManager associated with this event\n     */\n    constructor(type: string, sceneManager: Phaser.Scenes.SceneManager) {\n        super(type);\n        this._sceneManager = sceneManager;\n    }\n\n    /*============================================================================*/\n    /* Public Functions                                                           */\n    /*============================================================================*/\n\n    /**\n     * @inheritDoc\n     */\n    public clone(): SceneRegistryEvent {\n        return new SceneRegistryEvent(this.type, this._sceneManager);\n    }\n}\n"],"sourceRoot":""}